
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Development workflow &#8212; Matplotlib 3.10.5 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/css/style.css?v=86e00652" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/mpl.css?v=d3052f62" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=a0d90012"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=ccdb6887"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script data-domain="matplotlib.org" defer="defer" src="https://views.scientific-python.org/js/script.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'devel/development_workflow';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.4';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://matplotlib.org/devdocs/_static/switcher.json?v3.10.5-19-gb17b062388';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '3.10.5';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = true;
        </script>
    <link rel="canonical" href="https://matplotlib.org/stable/devel/development_workflow.html" />
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 3.10.5 documentation"
          href="../_static/opensearch.xml"/>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Troubleshooting" href="troubleshooting.html" />
    <link rel="prev" title="Setting up Matplotlib for development" href="development_setup.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
    <meta name="docbuild:last-update" content="Jul 31, 2025"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
     
  

<a class="navbar-brand logo" href="https://matplotlib.org/stable/">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo_light.svg" class="logo__image only-light" alt="Matplotlib 3.10.5 documentation - Home"/>
    <script>document.write(`<img src="../_static/logo_dark.svg" class="logo__image only-dark" alt="Matplotlib 3.10.5 documentation - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><ul id="navbar-main-elements" class="navbar-nav">
  <li class="nav-item">
    <a class="reference internal nav-link" href="../plot_types/index.html">Plot types</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../users/index.html">User guide</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../tutorials/index.html">Tutorials</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../gallery/index.html">Examples</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../api/index.html">Reference</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="index.html">Contribute</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../users/release_notes.html">Releases</a>
  </li>
</ul></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://gitter.im/matplotlib/matplotlib" title="Gitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-gitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Gitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discourse.matplotlib.org" title="Discourse" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discourse fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Discourse</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/matplotlib/matplotlib" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/matplotlib/" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item"><ul id="navbar-main-elements" class="navbar-nav">
  <li class="nav-item">
    <a class="reference internal nav-link" href="../plot_types/index.html">Plot types</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../users/index.html">User guide</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../tutorials/index.html">Tutorials</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../gallery/index.html">Examples</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../api/index.html">Reference</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="index.html">Contribute</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../users/release_notes.html">Releases</a>
  </li>
</ul></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-3"
      type="button"
      class="version-switcher__button btn btn-sm dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-3"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-3"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-3">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://gitter.im/matplotlib/matplotlib" title="Gitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-gitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Gitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discourse.matplotlib.org" title="Discourse" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discourse fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Discourse</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/matplotlib/matplotlib" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/matplotlib/" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="contribute.html">Contributing guide</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="development_setup.html">Setting up Matplotlib for development</a></li>
</ul>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Development workflow</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="coding_guide.html">Coding guidelines</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="license.html">Licenses for contributed code</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="api_changes.html">API guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="document.html">Write documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="style_guide.html">Documentation style guide</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="tag_guidelines.html">Tagging guidelines</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="tag_glossary.html">Tag Glossary</a></li>
</ul>
</details></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="triage.html">Bug triaging and issue curation</a></li>
<li class="toctree-l1"><a class="reference internal" href="pr_guide.html">Pull request guidelines</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="release_guide.html">Release guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="communication_guide.html">Community management guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="min_dep_policy.html">Dependency version policy</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="MEP/index.html">Matplotlib Enhancement Proposals</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="MEP/template.html">MEP Template</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP08.html">MEP8: PEP8</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP09.html">MEP9: Global interaction manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP10.html">MEP10: Docstring consistency</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP11.html">MEP11: Third-party dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP12.html">MEP12: Improve Gallery and Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP13.html">MEP13: Use properties for Artists</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP14.html">MEP14: Text handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP15.html">MEP15: Fix axis autoscaling when limits are specified for one axis only</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP19.html">MEP19: Continuous Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP21.html">MEP21: color and cm refactor</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP22.html">MEP22: Toolbar rewrite</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP23.html">MEP23: Multiple Figures per GUI window</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP24.html">MEP24: Negative radius in polar plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP25.html">MEP25: Serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP26.html">MEP26: Artist styling</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP27.html">MEP27: Decouple pyplot from backends</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP28.html">MEP28: Remove Complexity from Axes.boxplot</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP/MEP29.html">MEP29: Text light markup</a></li>
</ul>
</details></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Contribute</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Development workflow</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="development-workflow">
<span id="id1"></span><h1>Development workflow<a class="headerlink" href="#development-workflow" title="Link to this heading">#</a></h1>
<section id="workflow-summary">
<h2>Workflow summary<a class="headerlink" href="#workflow-summary" title="Link to this heading">#</a></h2>
<p>To keep your work well organized, with readable history, and in turn make it
easier for project maintainers (that might be you) to see what you've done, and
why you did it, we recommend the following:</p>
<ul class="simple">
<li><p>Don't make changes in your local <code class="docutils literal notranslate"><span class="pre">main</span></code> branch!</p></li>
<li><p>Before starting a new set of changes, fetch all changes from
<code class="docutils literal notranslate"><span class="pre">upstream/main</span></code>, and start a new <em>feature branch</em> from that.</p></li>
<li><p>Make a new branch for each feature or bug fix — &quot;one task, one branch&quot;.</p></li>
<li><p>Name your branch for the purpose of the changes - e.g.
<code class="docutils literal notranslate"><span class="pre">bugfix-for-issue-14</span></code> or <code class="docutils literal notranslate"><span class="pre">refactor-database-code</span></code>.</p></li>
<li><p>If you get stuck, reach out on Gitter or
<a class="reference external" href="https://discourse.matplotlib.org">discourse</a>.</p></li>
<li><p>When you're ready or need feedback on your code, open a pull request so that the
Matplotlib developers can give feedback and eventually include your suggested
code into the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch.</p></li>
</ul>
<section id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Link to this heading">#</a></h3>
<p>After <a class="reference internal" href="development_setup.html#installing-for-devs"><span class="std std-ref">setting up a development environment</span></a>, the typical
workflow is:</p>
<ol class="arabic">
<li><p>Fetch all changes from <code class="docutils literal notranslate"><span class="pre">upstream/main</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>fetch<span class="w"> </span>upstream/main
</pre></div>
</div>
</li>
<li><p>Start a new <em>feature branch</em> from <code class="docutils literal notranslate"><span class="pre">upstream/main</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>checkout<span class="w"> </span>-b<span class="w"> </span>my-feature<span class="w"> </span>upstream/main
</pre></div>
</div>
</li>
<li><p>When you're done editing, e.g., <code class="docutils literal notranslate"><span class="pre">lib/matplotlib/collections.py</span></code>, record your changes in Git:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>add<span class="w"> </span>lib/matplotlib/collections.py
git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s1">&#39;a commit message&#39;</span>
</pre></div>
</div>
</li>
<li><p>Push the changes to your GitHub fork:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>push<span class="w"> </span>-u<span class="w"> </span>origin<span class="w"> </span>my-feature
</pre></div>
</div>
</li>
</ol>
</section>
</section>
<section id="update-the-main-branch">
<span id="update-mirror-main"></span><h2>Update the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch<a class="headerlink" href="#update-the-main-branch" title="Link to this heading">#</a></h2>
<p>First make sure you have followed <a class="reference internal" href="development_setup.html#installing-for-devs"><span class="std std-ref">Setting up Matplotlib for development</span></a>.</p>
<p>From time to time you should fetch the upstream changes from GitHub:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>fetch<span class="w"> </span>upstream
</pre></div>
</div>
<p>This will pull down any commits you don't have, and set the remote branches to
point to the right commit.</p>
</section>
<section id="make-a-new-feature-branch">
<span id="make-feature-branch"></span><h2>Make a new feature branch<a class="headerlink" href="#make-a-new-feature-branch" title="Link to this heading">#</a></h2>
<p>When you are ready to make some changes to the code, you should start a new
branch.  Branches that are for a collection of related edits are often called
'feature branches'. Making a new branch for each set of related changes will make it
easier for someone reviewing your branch to see what you are doing.</p>
<p>Choose an informative name for the branch to remind yourself and the rest of us
what the changes in the branch are for.  For example <code class="docutils literal notranslate"><span class="pre">add-ability-to-fly</span></code>, or
<code class="docutils literal notranslate"><span class="pre">bugfix-for-issue-42</span></code>.</p>
<p>The process for creating a new feature branch is:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Update the main branch</span>
git<span class="w"> </span>fetch<span class="w"> </span>upstream
<span class="c1"># Make new feature branch starting at current main</span>
git<span class="w"> </span>branch<span class="w"> </span>my-new-feature<span class="w"> </span>upstream/main
git<span class="w"> </span>checkout<span class="w"> </span>my-new-feature
</pre></div>
</div>
<p>If you started making changes on your local <code class="docutils literal notranslate"><span class="pre">main</span></code> branch, you can convert the
branch to a feature branch by renaming it:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>branch<span class="w"> </span>-m<span class="w"> </span>&lt;newname&gt;
</pre></div>
</div>
<p>Generally, you will want to keep your feature branches on your public GitHub
fork of Matplotlib.  To do this, you <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span></code> this new branch up to your
GitHub repo.  Generally, if you followed the instructions in these pages, and by
default, git will have a link to your fork of the GitHub repo, called
<code class="docutils literal notranslate"><span class="pre">origin</span></code>.  You push up to your own fork with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>my-new-feature
</pre></div>
</div>
</section>
<section id="the-editing-workflow">
<span id="edit-flow"></span><h2>The editing workflow<a class="headerlink" href="#the-editing-workflow" title="Link to this heading">#</a></h2>
<ol class="arabic">
<li><p>Make some changes</p></li>
<li><p>Save the changes</p></li>
<li><p>See which files have changed with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code>.
You'll see a listing like this one:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># On branch ny-new-feature
# Changed but not updated:
#   (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
#   (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)
#
#  modified:   README
#
# Untracked files:
#   (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)
#
#  INSTALL
no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
</pre></div>
</div>
</li>
<li><p>Check what the actual changes are with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code>.</p></li>
<li><p>Add any new files to version control <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">new_file_name</span></code>.</p></li>
<li><p>To commit <strong>all</strong> modified files into the local copy of your repo, type:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>commit<span class="w"> </span>-am<span class="w"> </span><span class="s1">&#39;A commit message&#39;</span>
</pre></div>
</div>
<p>Note the <code class="docutils literal notranslate"><span class="pre">-am</span></code> options to <code class="docutils literal notranslate"><span class="pre">commit</span></code>. The <code class="docutils literal notranslate"><span class="pre">m</span></code> flag signals that you are
going to type a message on the command line.  The <code class="docutils literal notranslate"><span class="pre">a</span></code> flag stages every
file that has been modified, except files listed in <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code>. For more
information, see <a class="reference external" href="http://gitready.com/beginner/2009/01/18/the-staging-area.html">why the -a flag?</a> and the
<a class="reference external" href="https://git-scm.com/docs/git-commit">git commit</a>  manual page.</p>
</li>
<li><p>To push the changes up to your forked repo on GitHub, do a <code class="docutils literal notranslate"><span class="pre">git</span>
<span class="pre">push</span></code>.</p></li>
</ol>
</section>
<section id="open-a-pull-request">
<h2>Open a pull request<a class="headerlink" href="#open-a-pull-request" title="Link to this heading">#</a></h2>
<p>When you are ready to ask for someone to review your code and consider a merge,
<a class="reference external" href="https://docs.github.com/pull-requests">submit your Pull Request (PR)</a>.</p>
<p>Go to the web page of <em>your fork</em> of the Matplotlib repo, and click
<code class="docutils literal notranslate"><span class="pre">Compare</span> <span class="pre">&amp;</span> <span class="pre">pull</span> <span class="pre">request</span></code> to send your changes to the maintainers for review.
The base repository is <code class="docutils literal notranslate"><span class="pre">matplotlib/matplotlib</span></code> and the base branch is
generally <code class="docutils literal notranslate"><span class="pre">main</span></code>.</p>
<p>Enter a title for the set of changes with some explanation of what you've done.
Mention anything you'd like particular attention for - such as a
complicated change or some code you are not happy with.</p>
<p>If you don't think your request is ready to be merged, just say so in your pull
request message and use the &quot;Draft PR&quot; feature of GitHub. This is a good way of
getting some preliminary code review.</p>
<p>For more guidance on the mechanics of making a pull request, see GitHub's
<a class="reference external" href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request-from-a-fork">pull request tutorial</a>.</p>
</section>
<section id="update-a-pull-request">
<span id="update-pull-request"></span><h2>Update a pull request<a class="headerlink" href="#update-a-pull-request" title="Link to this heading">#</a></h2>
<p>When updating your pull request after making revisions, instead of adding new
commits, please consider amending your initial commit(s) to keep the commit
history clean.</p>
<p>You can achieve this by using</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>commit<span class="w"> </span>-a<span class="w"> </span>--amend<span class="w"> </span>--no-edit
git<span class="w"> </span>push<span class="w"> </span><span class="o">[</span>your-remote-repo<span class="o">]</span><span class="w"> </span><span class="o">[</span>your-branch<span class="o">]</span><span class="w"> </span>--force-with-lease
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Instead of typing your branch name every time, you only need to type the following once to link the remote branch to the local branch:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>push<span class="w"> </span>--set-upstream<span class="w"> </span>origin<span class="w"> </span>my-new-feature
</pre></div>
</div>
<p>From now on git will know that <code class="docutils literal notranslate"><span class="pre">my-new-feature</span></code> is related to the
<code class="docutils literal notranslate"><span class="pre">my-new-feature</span></code> branch in the GitHub repo. After this, you will be able to
push your changes with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>push
</pre></div>
</div>
</div>
</section>
<section id="manage-commit-history">
<h2>Manage commit history<a class="headerlink" href="#manage-commit-history" title="Link to this heading">#</a></h2>
<section id="explore-your-repository">
<h3>Explore your repository<a class="headerlink" href="#explore-your-repository" title="Link to this heading">#</a></h3>
<p>To see a graphical representation of the repository branches and
commits:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gitk<span class="w"> </span>--all
</pre></div>
</div>
<p>To see a linear list of commits for this branch:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>log
</pre></div>
</div>
</section>
<section id="recover-from-mistakes">
<span id="recovering-from-mess-up"></span><h3>Recover from mistakes<a class="headerlink" href="#recover-from-mistakes" title="Link to this heading">#</a></h3>
<p>Sometimes, you mess up merges or rebases. Luckily, in git it is
relatively straightforward to recover from such mistakes.</p>
<p>If you mess up during a rebase:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>rebase<span class="w"> </span>--abort
</pre></div>
</div>
<p>If you notice you messed up after the rebase:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># reset branch back to the saved point</span>
git<span class="w"> </span>reset<span class="w"> </span>--hard<span class="w"> </span>tmp
</pre></div>
</div>
<p>If you forgot to make a backup branch:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># look at the reflog of the branch</span>
git<span class="w"> </span>reflog<span class="w"> </span>show<span class="w"> </span>cool-feature

<span class="m">8630830</span><span class="w"> </span>cool-feature@<span class="o">{</span><span class="m">0</span><span class="o">}</span>:<span class="w"> </span>commit:<span class="w"> </span>BUG:<span class="w"> </span>io:<span class="w"> </span>close<span class="w"> </span>file<span class="w"> </span>handles<span class="w"> </span>immediately
278dd2a<span class="w"> </span>cool-feature@<span class="o">{</span><span class="m">1</span><span class="o">}</span>:<span class="w"> </span>rebase<span class="w"> </span>finished:<span class="w"> </span>refs/heads/my-feature-branch<span class="w"> </span>onto<span class="w"> </span>11ee694744f2552d
26aa21a<span class="w"> </span>cool-feature@<span class="o">{</span><span class="m">2</span><span class="o">}</span>:<span class="w"> </span>commit:<span class="w"> </span>BUG:<span class="w"> </span>lib:<span class="w"> </span>make<span class="w"> </span>seek_gzip_factory<span class="w"> </span>not<span class="w"> </span>leak<span class="w"> </span>gzip<span class="w"> </span>obj
...

<span class="c1"># reset the branch to where it was before the botched rebase</span>
git<span class="w"> </span>reset<span class="w"> </span>--hard<span class="w"> </span>cool-feature@<span class="o">{</span><span class="m">2</span><span class="o">}</span>
</pre></div>
</div>
</section>
<section id="rewrite-commit-history">
<span id="rewriting-commit-history"></span><h3>Rewrite commit history<a class="headerlink" href="#rewrite-commit-history" title="Link to this heading">#</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Do this only for your own feature branches.</p>
</div>
<p>Is there an embarrassing typo in a commit you made? Or perhaps you
made several false starts you don't want posterity to see.</p>
<p>This can be done via <em>interactive rebasing</em>.</p>
<p>Suppose that the commit history looks like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>log<span class="w"> </span>--oneline
eadc391<span class="w"> </span>Fix<span class="w"> </span>some<span class="w"> </span>remaining<span class="w"> </span>bugs
a815645<span class="w"> </span>Modify<span class="w"> </span>it<span class="w"> </span>so<span class="w"> </span>that<span class="w"> </span>it<span class="w"> </span>works
2dec1ac<span class="w"> </span>Fix<span class="w"> </span>a<span class="w"> </span>few<span class="w"> </span>bugs<span class="w"> </span>+<span class="w"> </span>disable
13d7934<span class="w"> </span>First<span class="w"> </span>implementation
6ad92e5<span class="w"> </span>*<span class="w"> </span>masked<span class="w"> </span>is<span class="w"> </span>now<span class="w"> </span>an<span class="w"> </span>instance<span class="w"> </span>of<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>object,<span class="w"> </span>MaskedConstant
29001ed<span class="w"> </span>Add<span class="w"> </span>pre-nep<span class="w"> </span><span class="k">for</span><span class="w"> </span>a<span class="w"> </span>copule<span class="w"> </span>of<span class="w"> </span>structured_array_extensions.
...
</pre></div>
</div>
<p>and <code class="docutils literal notranslate"><span class="pre">6ad92e5</span></code> is the last commit in the <code class="docutils literal notranslate"><span class="pre">cool-feature</span></code> branch. Suppose we
want to make the following changes:</p>
<ul class="simple">
<li><p>Rewrite the commit message for <code class="docutils literal notranslate"><span class="pre">13d7934</span></code> to something more sensible.</p></li>
<li><p>Combine the commits <code class="docutils literal notranslate"><span class="pre">2dec1ac</span></code>, <code class="docutils literal notranslate"><span class="pre">a815645</span></code>, <code class="docutils literal notranslate"><span class="pre">eadc391</span></code> into a single one.</p></li>
</ul>
<p>We do as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># make a backup of the current state</span>
git<span class="w"> </span>branch<span class="w"> </span>tmp<span class="w"> </span>HEAD
<span class="c1"># interactive rebase</span>
git<span class="w"> </span>rebase<span class="w"> </span>-i<span class="w"> </span>6ad92e5
</pre></div>
</div>
<p>This will open an editor with the following text in it:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pick<span class="w"> </span>13d7934<span class="w"> </span>First<span class="w"> </span>implementation
pick<span class="w"> </span>2dec1ac<span class="w"> </span>Fix<span class="w"> </span>a<span class="w"> </span>few<span class="w"> </span>bugs<span class="w"> </span>+<span class="w"> </span>disable
pick<span class="w"> </span>a815645<span class="w"> </span>Modify<span class="w"> </span>it<span class="w"> </span>so<span class="w"> </span>that<span class="w"> </span>it<span class="w"> </span>works
pick<span class="w"> </span>eadc391<span class="w"> </span>Fix<span class="w"> </span>some<span class="w"> </span>remaining<span class="w"> </span>bugs

<span class="c1"># Rebase 6ad92e5..eadc391 onto 6ad92e5</span>
<span class="c1">#</span>
<span class="c1"># Commands:</span>
<span class="c1">#  p, pick = use commit</span>
<span class="c1">#  r, reword = use commit, but edit the commit message</span>
<span class="c1">#  e, edit = use commit, but stop for amending</span>
<span class="c1">#  s, squash = use commit, but meld into previous commit</span>
<span class="c1">#  f, fixup = like &quot;squash&quot;, but discard this commit&#39;s log message</span>
<span class="c1">#</span>
<span class="c1"># If you remove a line here THAT COMMIT WILL BE LOST.</span>
<span class="c1"># However, if you remove everything, the rebase will be aborted.</span>
<span class="c1">#</span>
</pre></div>
</div>
<p>To achieve what we want, we will make the following changes to it:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>r<span class="w"> </span>13d7934<span class="w"> </span>First<span class="w"> </span>implementation
pick<span class="w"> </span>2dec1ac<span class="w"> </span>Fix<span class="w"> </span>a<span class="w"> </span>few<span class="w"> </span>bugs<span class="w"> </span>+<span class="w"> </span>disable
f<span class="w"> </span>a815645<span class="w"> </span>Modify<span class="w"> </span>it<span class="w"> </span>so<span class="w"> </span>that<span class="w"> </span>it<span class="w"> </span>works
f<span class="w"> </span>eadc391<span class="w"> </span>Fix<span class="w"> </span>some<span class="w"> </span>remaining<span class="w"> </span>bugs
</pre></div>
</div>
<p>This means that (i) we want to edit the commit message for
<code class="docutils literal notranslate"><span class="pre">13d7934</span></code>, and (ii) collapse the last three commits into one. Now we
save and quit the editor.</p>
<p>Git will then immediately bring up an editor for editing the commit
message. After revising it, we get the output:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>detached<span class="w"> </span>HEAD<span class="w"> </span>721fc64<span class="o">]</span><span class="w"> </span>FOO:<span class="w"> </span>First<span class="w"> </span>implementation
<span class="w"> </span><span class="m">2</span><span class="w"> </span>files<span class="w"> </span>changed,<span class="w"> </span><span class="m">199</span><span class="w"> </span>insertions<span class="o">(</span>+<span class="o">)</span>,<span class="w"> </span><span class="m">66</span><span class="w"> </span>deletions<span class="o">(</span>-<span class="o">)</span>
<span class="o">[</span>detached<span class="w"> </span>HEAD<span class="w"> </span>0f22701<span class="o">]</span><span class="w"> </span>Fix<span class="w"> </span>a<span class="w"> </span>few<span class="w"> </span>bugs<span class="w"> </span>+<span class="w"> </span>disable
<span class="w"> </span><span class="m">1</span><span class="w"> </span>files<span class="w"> </span>changed,<span class="w"> </span><span class="m">79</span><span class="w"> </span>insertions<span class="o">(</span>+<span class="o">)</span>,<span class="w"> </span><span class="m">61</span><span class="w"> </span>deletions<span class="o">(</span>-<span class="o">)</span>
Successfully<span class="w"> </span>rebased<span class="w"> </span>and<span class="w"> </span>updated<span class="w"> </span>refs/heads/my-feature-branch.
</pre></div>
</div>
<p>and now, the history looks like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>0f22701<span class="w"> </span>Fix<span class="w"> </span>a<span class="w"> </span>few<span class="w"> </span>bugs<span class="w"> </span>+<span class="w"> </span>disable
721fc64<span class="w"> </span>ENH:<span class="w"> </span>Sophisticated<span class="w"> </span>feature
6ad92e5<span class="w"> </span>*<span class="w"> </span>masked<span class="w"> </span>is<span class="w"> </span>now<span class="w"> </span>an<span class="w"> </span>instance<span class="w"> </span>of<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>object,<span class="w"> </span>MaskedConstant
</pre></div>
</div>
<p>If it went wrong, recovery is again possible as explained <a class="reference internal" href="#recovering-from-mess-up"><span class="std std-ref">above</span></a>.</p>
<p>If you have not yet pushed this branch to github, you can carry on as normal,
however if you <em>have</em> already pushed this commit see <a class="reference internal" href="#force-push"><span class="std std-ref">Push with force</span></a> for how
to replace your already published commits with the new ones.</p>
</section>
<section id="rebase-onto-upstream-main">
<span id="rebase-on-main"></span><h3>Rebase onto <code class="docutils literal notranslate"><span class="pre">upstream/main</span></code><a class="headerlink" href="#rebase-onto-upstream-main" title="Link to this heading">#</a></h3>
<p>Let's say you thought of some work you'd like to do. You
<a class="reference internal" href="#update-mirror-main"><span class="std std-ref">Update the main branch</span></a> and <a class="reference internal" href="#make-feature-branch"><span class="std std-ref">Make a new feature branch</span></a> called
<code class="docutils literal notranslate"><span class="pre">cool-feature</span></code>. At this stage, <code class="docutils literal notranslate"><span class="pre">main</span></code> is at some commit, let's call it E.
Now you make some new commits on your <code class="docutils literal notranslate"><span class="pre">cool-feature</span></code> branch, let's call them
A, B, C. Maybe your changes take a while, or you come back to them after a
while. In the meantime, <code class="docutils literal notranslate"><span class="pre">main</span></code> has progressed from commit E to commit (say) G:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>      A---B---C cool-feature
     /
D---E---F---G main
</pre></div>
</div>
<p>At this stage you consider merging <code class="docutils literal notranslate"><span class="pre">main</span></code> into your feature branch, and you
remember that this page sternly advises you not to do that, because the
history will get messy. Most of the time, you can just ask for a review without
worrying about whether <code class="docutils literal notranslate"><span class="pre">main</span></code> has got a little ahead; however sometimes, the changes in
<code class="docutils literal notranslate"><span class="pre">main</span></code> might affect your changes, and you need to harmonize them.  In this
situation you may prefer to do a rebase.</p>
<p><code class="docutils literal notranslate"><span class="pre">rebase</span></code> takes your changes (A, B, C) and replays them as if they had been
made to the current state of <code class="docutils literal notranslate"><span class="pre">main</span></code>.  In other words, in this case, it takes
the changes represented by A, B, C and replays them on top of G. After the
rebase, your history will look like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>              A&#39;--B&#39;--C&#39; cool-feature
             /
D---E---F---G main
</pre></div>
</div>
<p>See <a class="reference external" href="https://matthew-brett.github.io/pydagogue/rebase_without_tears.html">rebase without tears</a> for more detail.</p>
<p>To do a rebase on <code class="docutils literal notranslate"><span class="pre">upstream/main</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fetch changes from upstream/main</span>
git<span class="w"> </span>fetch<span class="w"> </span>upstream
<span class="c1"># go to the feature branch</span>
git<span class="w"> </span>checkout<span class="w"> </span>cool-feature
<span class="c1"># make a backup in case you mess up</span>
git<span class="w"> </span>branch<span class="w"> </span>tmp<span class="w"> </span>cool-feature
<span class="c1"># rebase cool-feature onto main</span>
git<span class="w"> </span>rebase<span class="w"> </span>--onto<span class="w"> </span>upstream/main<span class="w"> </span>upstream/main<span class="w"> </span>cool-feature
</pre></div>
</div>
<p>In this situation, where you are already on branch <code class="docutils literal notranslate"><span class="pre">cool-feature</span></code>, the last
command can be written more succinctly as:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>rebase<span class="w"> </span>upstream/main
</pre></div>
</div>
<p>When all looks good, you can delete your backup branch:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>branch<span class="w"> </span>-D<span class="w"> </span>tmp
</pre></div>
</div>
<p>If it doesn't look good you may need to have a look at
<a class="reference internal" href="#recovering-from-mess-up"><span class="std std-ref">Recover from mistakes</span></a>.</p>
<p>If you have made changes to files that have also changed in <code class="docutils literal notranslate"><span class="pre">main</span></code>, this may
generate merge conflicts that you need to resolve - see the <a class="reference external" href="https://git-scm.com/docs/git-rebase">git rebase</a> man
page for some instructions at the end of the &quot;Description&quot; section. There is
some related help on merging in the git user manual - see <a class="reference external" href="https://schacon.github.io/git/user-manual.html#resolving-a-merge">resolving a merge</a>.</p>
<p>If you have not yet pushed this branch to github, you can carry on as normal,
however if you <em>have</em> already pushed this commit see <a class="reference internal" href="#force-push"><span class="std std-ref">Push with force</span></a> for how
to replace your already published commits with the new ones.</p>
</section>
<section id="push-with-force">
<span id="force-push"></span><h3>Push with force<a class="headerlink" href="#push-with-force" title="Link to this heading">#</a></h3>
<p>If you have in some way re-written already pushed history (e.g. via
<a class="reference internal" href="#rewriting-commit-history"><span class="std std-ref">Rewrite commit history</span></a> or <a class="reference internal" href="#rebase-on-main"><span class="std std-ref">Rebase onto upstream/main</span></a>) leaving you with
a git history that looks something like</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  A&#39;--E cool-feature
 /
D---A---B---C origin/cool-feature
</pre></div>
</div>
<p>where you have pushed the commits <code class="docutils literal notranslate"><span class="pre">A,B,C</span></code> to your fork on GitHub (under the
remote name <em>origin</em>) but now have the commits <code class="docutils literal notranslate"><span class="pre">A'</span></code> and <code class="docutils literal notranslate"><span class="pre">E</span></code> on your local
branch <em>cool-feature</em>.  If you try to push the new commits to GitHub, it will
fail and show an error that looks like</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>push
Pushing<span class="w"> </span>to<span class="w"> </span>github.com:origin/matplotlib.git
To<span class="w"> </span>github.com:origin/matplotlib.git
<span class="w"> </span>!<span class="w"> </span><span class="o">[</span>rejected<span class="o">]</span><span class="w">              </span>cool_feature<span class="w"> </span>-&gt;<span class="w"> </span>cool_feature<span class="w"> </span><span class="o">(</span>non-fast-forward<span class="o">)</span>
error:<span class="w"> </span>failed<span class="w"> </span>to<span class="w"> </span>push<span class="w"> </span>some<span class="w"> </span>refs<span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;github.com:origin/matplotlib.git&#39;</span>
hint:<span class="w"> </span>Updates<span class="w"> </span>were<span class="w"> </span>rejected<span class="w"> </span>because<span class="w"> </span>the<span class="w"> </span>tip<span class="w"> </span>of<span class="w"> </span>your<span class="w"> </span>current<span class="w"> </span>branch<span class="w"> </span>is<span class="w"> </span>behind
hint:<span class="w"> </span>its<span class="w"> </span>remote<span class="w"> </span>counterpart.<span class="w"> </span>Integrate<span class="w"> </span>the<span class="w"> </span>remote<span class="w"> </span>changes<span class="w"> </span><span class="o">(</span>e.g.
hint:<span class="w"> </span><span class="s1">&#39;git pull ...&#39;</span><span class="o">)</span><span class="w"> </span>before<span class="w"> </span>pushing<span class="w"> </span>again.
hint:<span class="w"> </span>See<span class="w"> </span>the<span class="w"> </span><span class="s1">&#39;Note about fast-forwards&#39;</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s1">&#39;git push --help&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>details.
</pre></div>
</div>
<p>If this push had succeeded, the commits <code class="docutils literal notranslate"><span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">B</span></code>, and <code class="docutils literal notranslate"><span class="pre">C</span></code> would no
longer be referenced by any branch and they would be discarded:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>D---A&#39;---E cool-feature, origin/cool-feature
</pre></div>
</div>
<p>By default <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span></code> helpfully tries to protect you from accidentally
discarding commits by rejecting the push to the remote.  When this happens,
GitHub also adds the helpful suggestion to pull the remote changes and then try
pushing again.  In some cases, such as if you and a colleague are both
committing and pushing to the same branch, this is a correct course of action.</p>
<p>However, in the case of having intentionally re-written history, we <em>want</em> to
discard the commits on the remote and replace them with the new-and-improved
versions from our local branch.  In this case, what we want to do is</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>--force-with-lease
</pre></div>
</div>
<p>which tells git you are aware of the risks and want to do the push anyway.  We
recommend using <code class="docutils literal notranslate"><span class="pre">--force-with-lease</span></code> over the <code class="docutils literal notranslate"><span class="pre">--force</span></code> flag.  The
<code class="docutils literal notranslate"><span class="pre">--force</span></code> will do the push no matter what, whereas <code class="docutils literal notranslate"><span class="pre">--force-with-lease</span></code>
will only do the push if the remote branch is where the local <code class="docutils literal notranslate"><span class="pre">git</span></code> client
thought it was.</p>
<p>Be judicious with force-pushing.  It is effectively re-writing published
history, and if anyone has fetched the old commits, it will have a different view
of history which can cause confusion.</p>
</section>
</section>
<section id="automated-tests">
<span id="id2"></span><h2>Automated tests<a class="headerlink" href="#automated-tests" title="Link to this heading">#</a></h2>
<p>Whenever a pull request is created or updated, various automated test tools
will run on all supported platforms and versions of Python.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://tox.readthedocs.io/">tox</a> is not used in the automated testing. It is supported for testing
locally.</p>
</li>
<li><p>Codecov and CodeQL are currently for information only. Their failure is not
necessarily a blocker.</p></li>
</ul>
<p>Make sure the Linting, GitHub Actions, AppVeyor, CircleCI, and Azure pipelines are
passing before merging. All checks are listed at the bottom of the GitHub page of your
pull request.</p>
<div class="pst-scrollable-table-container"><table class="table">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 60.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub"><p>Name</p></th>
<th class="head"><p>Check</p></th>
<th class="head"><p>Tips for finding cause of failure</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><th class="stub"><p>Linting</p></th>
<td><p><a class="reference internal" href="coding_guide.html#code-style"><span class="std std-ref">code style</span></a></p></td>
<td><p>Errors are displayed as annotations on the pull request diff.</p></td>
</tr>
<tr class="row-odd"><th class="stub"><div class="line-block">
<div class="line">Mypy</div>
<div class="line">Stubtest</div>
</div>
</th>
<td><p><a class="reference internal" href="coding_guide.html#type-hints"><span class="std std-ref">static type hints</span></a></p></td>
<td><p>Errors are displayed as annotations on the pull request diff.</p></td>
</tr>
<tr class="row-even"><th class="stub"><p>CircleCI</p></th>
<td><p><a class="reference internal" href="document.html#writing-rest-pages"><span class="std std-ref">documentation build</span></a></p></td>
<td><p>Search the CircleCI log for <code class="docutils literal notranslate"><span class="pre">WARNING</span></code>.</p></td>
</tr>
<tr class="row-odd"><th class="stub"><div class="line-block">
<div class="line">GitHub Actions</div>
<div class="line">AppVeyor</div>
<div class="line">Azure pipelines</div>
</div>
</th>
<td><p><a class="reference internal" href="testing.html#testing"><span class="std std-ref">tests</span></a></p></td>
<td><div class="line-block">
<div class="line">Search the log for <code class="docutils literal notranslate"><span class="pre">FAILURES</span></code>. Subsequent section should contain information
on failed tests.</div>
<div class="line"><br /></div>
<div class="line">On Azure, find the images as <em>artifacts</em> of the Azure job:</div>
<div class="line">1. Click <em>Details</em> on the check on the GitHub PR page.</div>
<div class="line">2. Click <em>View more details on Azure Pipelines</em> to go to Azure.</div>
<div class="line">3. On the overview page <em>artifacts</em> are listed in the section <em>Related</em>.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<section id="skip-ci-checks">
<h3>Skip CI checks<a class="headerlink" href="#skip-ci-checks" title="Link to this heading">#</a></h3>
<p>If you know only a subset of CI checks need to be run, you can skip unneeded CI checks
on individual commits by including the following strings in the commit message:</p>
<div class="pst-scrollable-table-container"><table class="table">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 20.0%" />
<col style="width: 55.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub"><p>String</p></th>
<th class="head"><p>Effect</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">[ci</span> <span class="pre">doc]</span></code></p></th>
<td><p>Only run documentation checks.</p></td>
<td><div class="line-block">
<div class="line">For when you have only changed documentation.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">[ci</span> <span class="pre">doc]</span></code> is applied automatically when the changes are only to files in
<code class="docutils literal notranslate"><span class="pre">doc/**/</span></code> or <code class="docutils literal notranslate"><span class="pre">galleries/**/</span></code></div>
</div>
</td>
</tr>
<tr class="row-odd"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">[skip</span> <span class="pre">doc]</span></code></p></th>
<td><p>Skip documentation checks.</p></td>
<td><p>For when you didn't change documentation.</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">[skip</span> <span class="pre">appveyor]</span></code></p></th>
<td><p>Skip AppVeyor run.</p></td>
<td><p>Substring must be in first line of commit message.</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">[skip</span> <span class="pre">azp]</span></code></p></th>
<td><p>Skip Azure Pipelines.</p></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">[skip</span> <span class="pre">actions]</span></code></p></th>
<td><p>Skip GitHub Actions.</p></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">[skip</span> <span class="pre">ci]</span></code></p></th>
<td><p>Skip all CI checks.</p></td>
<td><p>Use only for changes where documentation checks and unit tests do not apply.</p></td>
</tr>
</tbody>
</table>
</div>
<p><code class="docutils literal notranslate"><span class="pre">[skip</span> <span class="pre">actions]</span></code> and <code class="docutils literal notranslate"><span class="pre">[skip</span> <span class="pre">ci]</span></code> only skip Github Actions CI workflows that are
triggered on <code class="docutils literal notranslate"><span class="pre">on:</span> <span class="pre">push</span></code> and <code class="docutils literal notranslate"><span class="pre">on:</span> <span class="pre">pull_request</span></code> events. For more information,
see <a class="reference external" href="https://docs.github.com/en/actions/managing-workflow-runs/skipping-workflow-runs">Skipping workflow runs</a>.</p>
</section>
</section>
</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#workflow-summary">Workflow summary</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#update-the-main-branch">Update the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#make-a-new-feature-branch">Make a new feature branch</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-editing-workflow">The editing workflow</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#open-a-pull-request">Open a pull request</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#update-a-pull-request">Update a pull request</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#manage-commit-history">Manage commit history</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#explore-your-repository">Explore your repository</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#recover-from-mistakes">Recover from mistakes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rewrite-commit-history">Rewrite commit history</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rebase-onto-upstream-main">Rebase onto <code class="docutils literal notranslate"><span class="pre">upstream/main</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#push-with-force">Push with force</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#automated-tests">Automated tests</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#skip-ci-checks">Skip CI checks</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2002–2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the Matplotlib development team; 2012–2025 The Matplotlib development team.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Built from v3.10.5-19-gb17b062388.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>