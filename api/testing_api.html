<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>matplotlib.testing &mdash; Matplotlib 3.1.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/mpl.css"
type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css"
type="text/css" />
    <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
        <script type="text/javascript" src="../_static/copybutton.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 3.1.1 documentation"
          href="../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html"
/>
    <link rel="search" title="Search" href="../search.html"
/>
    <link rel="top" title="Matplotlib 3.1.1 documentation" href="../index.html" />
    <link rel="up" title="API Overview" href="index.html" />
    <link rel="next" title="matplotlib.text" href="text_api.html" />
    <link rel="prev" title="matplotlib.table" href="table_api.html" />
    <link rel="canonical" href="https://matplotlib.org/3.1.1/api/testing_api.html" />



  </head>
  <body>



<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px; position: relative;">
<a href="../index.html">
    <div style="float: left; position: absolute; width: 496px; bottom: 0; padding-bottom: 24px"><span style="float: right; color: #789; background: white">Version 3.1.1</span></div>
    <img src="../_static/logo2.png" height="125px" border="0" alt="matplotlib"/></a>

<!-- The "Fork me on github" ribbon -->
<div id="forkongithub"><a href="https://github.com/matplotlib/matplotlib">Fork me on GitHub</a></div>
</div>




    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="text_api.html" title="matplotlib.text"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="table_api.html" title="matplotlib.table"
             accesskey="P">previous</a> |</li>

        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../gallery/index.html">examples</a>|&nbsp;</li>
        <li><a href="../tutorials/index.html">tutorials</a>|&nbsp;</li>
        <li><a href="index.html">API</a>|&nbsp;</li>
        <li><a href="../contents.html">contents</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">API Overview</a> &raquo;</li> 
      </ul>
    </div>

  
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../contents.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">matplotlib.testing</span></code></a><ul>
<li><a class="reference internal" href="#id1"><code class="docutils literal notranslate"><span class="pre">matplotlib.testing</span></code></a></li>
<li><a class="reference internal" href="#module-matplotlib.testing.compare"><code class="docutils literal notranslate"><span class="pre">matplotlib.testing.compare</span></code></a></li>
<li><a class="reference internal" href="#module-matplotlib.testing.decorators"><code class="docutils literal notranslate"><span class="pre">matplotlib.testing.decorators</span></code></a></li>
<li><a class="reference internal" href="#module-matplotlib.testing.disable_internet"><code class="docutils literal notranslate"><span class="pre">matplotlib.testing.disable_internet</span></code></a></li>
<li><a class="reference internal" href="#module-matplotlib.testing.exceptions"><code class="docutils literal notranslate"><span class="pre">matplotlib.testing.exceptions</span></code></a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../contents.html">Documentation overview</a><ul>
  <li><a href="index.html">API Overview</a><ul>
      <li>Previous: <a href="table_api.html" title="previous chapter"><code class="docutils literal notranslate"><span class="pre">matplotlib.table</span></code></a></li>
      <li>Next: <a href="text_api.html" title="next chapter"><code class="docutils literal notranslate"><span class="pre">matplotlib.text</span></code></a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div id="sidebar-pagesource" role="note" aria-label="source link"
    style="margin-top: 1.5em; padding-top: 0.1em; border-top: 1px solid #86989b">
  <a href="../_sources/api/testing_api.rst.txt"
     style="color: #c0c0c0" rel="nofollow">Show Page Source</a>
  </div>
        </div>
      </div>
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="matplotlib-testing">
<h1><code class="docutils literal notranslate"><span class="pre">matplotlib.testing</span></code><a class="headerlink" href="#matplotlib-testing" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2><a class="reference internal" href="#module-matplotlib.testing" title="matplotlib.testing"><code class="xref py py-mod docutils literal notranslate"><span class="pre">matplotlib.testing</span></code></a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-matplotlib.testing"></span><p>Helper functions for testing.</p>
<dl class="function">
<dt id="matplotlib.testing.is_called_from_pytest">
<code class="descclassname">matplotlib.testing.</code><code class="descname">is_called_from_pytest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing.html#is_called_from_pytest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.is_called_from_pytest" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether we are in a pytest run.</p>
</dd></dl>

<dl class="function">
<dt id="matplotlib.testing.set_font_settings_for_testing">
<code class="descclassname">matplotlib.testing.</code><code class="descname">set_font_settings_for_testing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing.html#set_font_settings_for_testing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.set_font_settings_for_testing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="matplotlib.testing.set_reproducibility_for_testing">
<code class="descclassname">matplotlib.testing.</code><code class="descname">set_reproducibility_for_testing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing.html#set_reproducibility_for_testing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.set_reproducibility_for_testing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="matplotlib.testing.setup">
<code class="descclassname">matplotlib.testing.</code><code class="descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing.html#setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.setup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-matplotlib.testing.compare">
<span id="matplotlib-testing-compare"></span><h2><a class="reference internal" href="#module-matplotlib.testing.compare" title="matplotlib.testing.compare"><code class="xref py py-mod docutils literal notranslate"><span class="pre">matplotlib.testing.compare</span></code></a><a class="headerlink" href="#module-matplotlib.testing.compare" title="Permalink to this headline">¶</a></h2>
<p>Provides a collection of utilities for comparing (image) results.</p>
<dl class="function">
<dt id="matplotlib.testing.compare.compare_float">
<code class="descclassname">matplotlib.testing.compare.</code><code class="descname">compare_float</code><span class="sig-paren">(</span><em>expected</em>, <em>actual</em>, <em>relTol=None</em>, <em>absTol=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing/compare.html#compare_float"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.compare.compare_float" title="Permalink to this definition">¶</a></dt>
<dd><p>[<em>Deprecated</em>] Fail if the floating point values are not close enough, with
the given message.</p>
<p>You can specify a relative tolerance, absolute tolerance, or both.</p>
<p class="rubric">Notes</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 3.0.</span></p>
</div>
</dd></dl>

<dl class="function">
<dt id="matplotlib.testing.compare.compare_images">
<code class="descclassname">matplotlib.testing.compare.</code><code class="descname">compare_images</code><span class="sig-paren">(</span><em>expected</em>, <em>actual</em>, <em>tol</em>, <em>in_decorator=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing/compare.html#compare_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.compare.compare_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare two &quot;image&quot; files checking differences within a tolerance.</p>
<p>The two given filenames may point to files which are convertible to
PNG via the <code class="xref py py-obj docutils literal notranslate"><span class="pre">converter</span></code> dictionary. The underlying RMS is calculated
with the <code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_rms</span></code> function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>expected</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">The filename of the expected image.</p>
</dd>
<dt><strong>actual</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">The filename of the actual image.</p>
</dd>
<dt><strong>tol</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The tolerance (a color value difference, where 255 is the
maximal difference).  The test fails if the average pixel
difference is greater than this value.</p>
</dd>
<dt><strong>in_decorator</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd><p class="first last">Determines the output format. If called from image_comparison
decorator, this should be True. (default=False)</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>comparison_result</strong> <span class="classifier-delimiter">:</span> <span class="classifier">None or dict or str</span></dt>
<dd><p class="first">Return <em>None</em> if the images are equal within the given tolerance.</p>
<p>If the images differ, the return value depends on  <em>in_decorator</em>.
If <em>in_decorator</em> is true, a dict with the following entries is
returned:</p>
<ul class="simple">
<li><em>rms</em>: The RMS of the image difference.</li>
<li><em>expected</em>: The filename of the expected image.</li>
<li><em>actual</em>: The filename of the actual image.</li>
<li><em>diff_image</em>: The filename of the difference image.</li>
<li><em>tol</em>: The comparison tolerance.</li>
</ul>
<p class="last">Otherwise, a human-readable multi-line string representation of this
information is returned.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">img1</span> <span class="o">=</span> <span class="s2">&quot;./baseline/plot.png&quot;</span>
<span class="n">img2</span> <span class="o">=</span> <span class="s2">&quot;./output/plot.png&quot;</span>
<span class="n">compare_images</span><span class="p">(</span><span class="n">img1</span><span class="p">,</span> <span class="n">img2</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="matplotlib.testing.compare.comparable_formats">
<code class="descclassname">matplotlib.testing.compare.</code><code class="descname">comparable_formats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing/compare.html#comparable_formats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.compare.comparable_formats" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of file formats that <a class="reference internal" href="#matplotlib.testing.compare.compare_images" title="matplotlib.testing.compare.compare_images"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compare_images</span></code></a> can compare
on this system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>supported_formats</strong> <span class="classifier-delimiter">:</span> <span class="classifier">list of str</span></dt>
<dd><p class="first last">E.g. <code class="docutils literal notranslate"><span class="pre">['png',</span> <span class="pre">'pdf',</span> <span class="pre">'svg',</span> <span class="pre">'eps']</span></code>.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-matplotlib.testing.decorators">
<span id="matplotlib-testing-decorators"></span><h2><a class="reference internal" href="#module-matplotlib.testing.decorators" title="matplotlib.testing.decorators"><code class="xref py py-mod docutils literal notranslate"><span class="pre">matplotlib.testing.decorators</span></code></a><a class="headerlink" href="#module-matplotlib.testing.decorators" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="matplotlib.testing.decorators.CleanupTest">
<em class="property">class </em><code class="descclassname">matplotlib.testing.decorators.</code><code class="descname">CleanupTest</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing/decorators.html#CleanupTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.decorators.CleanupTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>[<em>Deprecated</em>]</p>
<p class="rubric">Notes</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 3.0: </span></p>
</div>
<dl class="classmethod">
<dt id="matplotlib.testing.decorators.CleanupTest.setup_class">
<em class="property">classmethod </em><code class="descname">setup_class</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#matplotlib.testing.decorators.CleanupTest.setup_class" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="matplotlib.testing.decorators.CleanupTest.teardown_class">
<em class="property">classmethod </em><code class="descname">teardown_class</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#matplotlib.testing.decorators.CleanupTest.teardown_class" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="matplotlib.testing.decorators.CleanupTest.test">
<code class="descname">test</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing/decorators.html#CleanupTest.test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.decorators.CleanupTest.test" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="matplotlib.testing.decorators.CleanupTestCase">
<em class="property">class </em><code class="descclassname">matplotlib.testing.decorators.</code><code class="descname">CleanupTestCase</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing/decorators.html#CleanupTestCase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.decorators.CleanupTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">unittest.case.TestCase</span></code></p>
<p>A wrapper for unittest.TestCase that includes cleanup operations.</p>
<p>Create an instance of the class that will use the named test
method when executed. Raises a ValueError if the instance does
not have a method with the specified name.</p>
<dl class="classmethod">
<dt id="matplotlib.testing.decorators.CleanupTestCase.setUpClass">
<em class="property">classmethod </em><code class="descname">setUpClass</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing/decorators.html#CleanupTestCase.setUpClass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.decorators.CleanupTestCase.setUpClass" title="Permalink to this definition">¶</a></dt>
<dd><p>Hook method for setting up class fixture before running tests in the class.</p>
</dd></dl>

<dl class="classmethod">
<dt id="matplotlib.testing.decorators.CleanupTestCase.tearDownClass">
<em class="property">classmethod </em><code class="descname">tearDownClass</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing/decorators.html#CleanupTestCase.tearDownClass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.decorators.CleanupTestCase.tearDownClass" title="Permalink to this definition">¶</a></dt>
<dd><p>Hook method for deconstructing the class fixture after running all tests in the class.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="matplotlib.testing.decorators.ImageComparisonTest">
<em class="property">class </em><code class="descclassname">matplotlib.testing.decorators.</code><code class="descname">ImageComparisonTest</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing/decorators.html#ImageComparisonTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.decorators.ImageComparisonTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#matplotlib.testing.decorators.CleanupTest" title="matplotlib.testing.decorators.CleanupTest"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.testing.decorators.CleanupTest</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.testing.decorators._ImageComparisonBase</span></code></p>
<p>[<em>Deprecated</em>] Nose-based image comparison class</p>
<p>This class generates tests for a nose-based testing framework. Ideally,
this class would not be public, and the only publicly visible API would
be the <a class="reference internal" href="#matplotlib.testing.decorators.image_comparison" title="matplotlib.testing.decorators.image_comparison"><code class="xref py py-func docutils literal notranslate"><span class="pre">image_comparison()</span></code></a> decorator. Unfortunately, there are
existing downstream users of this class (e.g., pytest-mpl) so it cannot yet
be removed.</p>
<p class="rubric">Notes</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 3.0.</span></p>
</div>
<dl class="method">
<dt id="matplotlib.testing.decorators.ImageComparisonTest.nose_runner">
<code class="descname">nose_runner</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing/decorators.html#ImageComparisonTest.nose_runner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.decorators.ImageComparisonTest.nose_runner" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="matplotlib.testing.decorators.ImageComparisonTest.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing/decorators.html#ImageComparisonTest.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.decorators.ImageComparisonTest.setup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="matplotlib.testing.decorators.ImageComparisonTest.teardown">
<code class="descname">teardown</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing/decorators.html#ImageComparisonTest.teardown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.decorators.ImageComparisonTest.teardown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="matplotlib.testing.decorators.check_figures_equal">
<code class="descclassname">matplotlib.testing.decorators.</code><code class="descname">check_figures_equal</code><span class="sig-paren">(</span><em>*</em>, <em>extensions=('png'</em>, <em>'pdf'</em>, <em>'svg')</em>, <em>tol=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing/decorators.html#check_figures_equal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.decorators.check_figures_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for test cases that generate and compare two figures.</p>
<p>The decorated function must take two arguments, <em>fig_test</em> and <em>fig_ref</em>,
and draw the test and reference images on them.  After the function
returns, the figures are saved and compared.</p>
<p>This decorator should be preferred over <a class="reference internal" href="#matplotlib.testing.decorators.image_comparison" title="matplotlib.testing.decorators.image_comparison"><code class="xref py py-obj docutils literal notranslate"><span class="pre">image_comparison</span></code></a> when possible in
order to keep the size of the test suite from ballooning.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>extensions</strong> <span class="classifier-delimiter">:</span> <span class="classifier">list, default: [&quot;png&quot;, &quot;pdf&quot;, &quot;svg&quot;]</span></dt>
<dd><p class="first last">The extensions to test.</p>
</dd>
<dt><strong>tol</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The RMS threshold above which the test is considered failed.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Check that calling <code class="xref py py-obj docutils literal notranslate"><span class="pre">Axes.plot</span></code> with a single argument plots it against
<code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">...]</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@check_figures_equal</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test_plot</span><span class="p">(</span><span class="n">fig_test</span><span class="p">,</span> <span class="n">fig_ref</span><span class="p">):</span>
    <span class="n">fig_test</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
    <span class="n">fig_ref</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="matplotlib.testing.decorators.check_freetype_version">
<code class="descclassname">matplotlib.testing.decorators.</code><code class="descname">check_freetype_version</code><span class="sig-paren">(</span><em>ver</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing/decorators.html#check_freetype_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.decorators.check_freetype_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="matplotlib.testing.decorators.cleanup">
<code class="descclassname">matplotlib.testing.decorators.</code><code class="descname">cleanup</code><span class="sig-paren">(</span><em>style=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing/decorators.html#cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.decorators.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator to ensure that any global state is reset before
running a test.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>style</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str, optional</span></dt>
<dd><p class="first last">The name of the style to apply.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="matplotlib.testing.decorators.image_comparison">
<code class="descclassname">matplotlib.testing.decorators.</code><code class="descname">image_comparison</code><span class="sig-paren">(</span><em>baseline_images</em>, <em>extensions=None</em>, <em>tol=0</em>, <em>freetype_version=None</em>, <em>remove_text=False</em>, <em>savefig_kwarg=None</em>, <em>style='_classic_test'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing/decorators.html#image_comparison"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.decorators.image_comparison" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare images generated by the test with those specified in
<em>baseline_images</em>, which must correspond, else an <code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageComparisonFailure</span></code>
exception will be raised.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>baseline_images</strong> <span class="classifier-delimiter">:</span> <span class="classifier">list or None</span></dt>
<dd><p class="first">A list of strings specifying the names of the images generated by
calls to <code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.figure.savefig()</span></code>.</p>
<p class="last">If <em>None</em>, the test function must use the <code class="docutils literal notranslate"><span class="pre">baseline_images</span></code> fixture,
either as a parameter or with <code class="xref py py-obj docutils literal notranslate"><span class="pre">pytest.mark.usefixtures</span></code>. This value is
only allowed when using pytest.</p>
</dd>
<dt><strong>extensions</strong> <span class="classifier-delimiter">:</span> <span class="classifier">None or list of str</span></dt>
<dd><p class="first">The list of extensions to test, e.g. <code class="docutils literal notranslate"><span class="pre">['png',</span> <span class="pre">'pdf']</span></code>.</p>
<p>If <em>None</em>, defaults to all supported extensions: png, pdf, and svg.</p>
<p class="last">In order to keep the size of the test suite from ballooning, we only
include the <code class="docutils literal notranslate"><span class="pre">svg</span></code> or <code class="docutils literal notranslate"><span class="pre">pdf</span></code> outputs if the test is explicitly
exercising a feature dependent on that backend (see also the
<a class="reference internal" href="#matplotlib.testing.decorators.check_figures_equal" title="matplotlib.testing.decorators.check_figures_equal"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_figures_equal</span></code></a> decorator for that purpose).</p>
</dd>
<dt><strong>tol</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float, optional, default: 0</span></dt>
<dd><p class="first last">The RMS threshold above which the test is considered failed.</p>
</dd>
<dt><strong>freetype_version</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str or tuple</span></dt>
<dd><p class="first last">The expected freetype version or range of versions for this test to
pass.</p>
</dd>
<dt><strong>remove_text</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd><p class="first">Remove the title and tick text from the figure before comparison.  This
is useful to make the baseline images independent of variations in text
rendering between different versions of FreeType.</p>
<p class="last">This does not remove other, more deliberate, text, such as legends and
annotations.</p>
</dd>
<dt><strong>savefig_kwarg</strong> <span class="classifier-delimiter">:</span> <span class="classifier">dict</span></dt>
<dd><p class="first last">Optional arguments that are passed to the savefig method.</p>
</dd>
<dt><strong>style</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">Optional name for the base style to apply to the image test. The test
itself can also apply additional styles if desired. Defaults to the
'_classic_test' style.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="matplotlib.testing.decorators.remove_ticks_and_titles">
<code class="descclassname">matplotlib.testing.decorators.</code><code class="descname">remove_ticks_and_titles</code><span class="sig-paren">(</span><em>figure</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing/decorators.html#remove_ticks_and_titles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.decorators.remove_ticks_and_titles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="matplotlib.testing.decorators.skip_if_command_unavailable">
<code class="descclassname">matplotlib.testing.decorators.</code><code class="descname">skip_if_command_unavailable</code><span class="sig-paren">(</span><em>cmd</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing/decorators.html#skip_if_command_unavailable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.decorators.skip_if_command_unavailable" title="Permalink to this definition">¶</a></dt>
<dd><p>[<em>Deprecated</em>] skips a test if a command is unavailable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>cmd</strong> <span class="classifier-delimiter">:</span> <span class="classifier">list of str</span></dt>
<dd><p class="first last">must be a complete command which should not
return a non zero exit code, something like
[&quot;latex&quot;, &quot;-version&quot;]</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 3.0.</span></p>
</div>
</dd></dl>

<dl class="function">
<dt id="matplotlib.testing.decorators.switch_backend">
<code class="descclassname">matplotlib.testing.decorators.</code><code class="descname">switch_backend</code><span class="sig-paren">(</span><em>backend</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing/decorators.html#switch_backend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.decorators.switch_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>[<em>Deprecated</em>]</p>
<p class="rubric">Notes</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 3.1: </span></p>
</div>
</dd></dl>

</div>
<div class="section" id="module-matplotlib.testing.disable_internet">
<span id="matplotlib-testing-disable-internet"></span><h2><a class="reference internal" href="#module-matplotlib.testing.disable_internet" title="matplotlib.testing.disable_internet"><code class="xref py py-mod docutils literal notranslate"><span class="pre">matplotlib.testing.disable_internet</span></code></a><a class="headerlink" href="#module-matplotlib.testing.disable_internet" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="matplotlib.testing.disable_internet.check_internet_off">
<code class="descclassname">matplotlib.testing.disable_internet.</code><code class="descname">check_internet_off</code><span class="sig-paren">(</span><em>original_function</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing/disable_internet.html#check_internet_off"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.disable_internet.check_internet_off" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps <code class="docutils literal notranslate"><span class="pre">original_function</span></code>, which in most cases is assumed
to be a <a class="reference external" href="https://docs.python.org/3/library/socket.html#socket.socket" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">socket.socket</span></code></a> method, to raise an <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IOError</span></code></a> for any operations
on non-local AF_INET sockets.</p>
</dd></dl>

<dl class="function">
<dt id="matplotlib.testing.disable_internet.no_internet">
<code class="descclassname">matplotlib.testing.disable_internet.</code><code class="descname">no_internet</code><span class="sig-paren">(</span><em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing/disable_internet.html#no_internet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.disable_internet.no_internet" title="Permalink to this definition">¶</a></dt>
<dd><p>Context manager to temporarily disable internet access (if not already
disabled).  If it was already disabled before entering the context manager
(i.e. <a class="reference internal" href="#matplotlib.testing.disable_internet.turn_off_internet" title="matplotlib.testing.disable_internet.turn_off_internet"><code class="xref py py-obj docutils literal notranslate"><span class="pre">turn_off_internet</span></code></a> was called previously) then this is a no-op and
leaves internet access disabled until a manual call to <a class="reference internal" href="#matplotlib.testing.disable_internet.turn_on_internet" title="matplotlib.testing.disable_internet.turn_on_internet"><code class="xref py py-obj docutils literal notranslate"><span class="pre">turn_on_internet</span></code></a>.</p>
</dd></dl>

<dl class="function">
<dt id="matplotlib.testing.disable_internet.turn_off_internet">
<code class="descclassname">matplotlib.testing.disable_internet.</code><code class="descname">turn_off_internet</code><span class="sig-paren">(</span><em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing/disable_internet.html#turn_off_internet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.disable_internet.turn_off_internet" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable internet access via python by preventing connections from being
created using the socket module.  Presumably this could be worked around by
using some other means of accessing the internet, but all default python
modules (urllib, requests, etc.) use socket [citation needed].</p>
</dd></dl>

<dl class="function">
<dt id="matplotlib.testing.disable_internet.turn_on_internet">
<code class="descclassname">matplotlib.testing.disable_internet.</code><code class="descname">turn_on_internet</code><span class="sig-paren">(</span><em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matplotlib/testing/disable_internet.html#turn_on_internet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.disable_internet.turn_on_internet" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore internet access.  Not used, but kept in case it is needed.</p>
</dd></dl>

</div>
<div class="section" id="module-matplotlib.testing.exceptions">
<span id="matplotlib-testing-exceptions"></span><h2><a class="reference internal" href="#module-matplotlib.testing.exceptions" title="matplotlib.testing.exceptions"><code class="xref py py-mod docutils literal notranslate"><span class="pre">matplotlib.testing.exceptions</span></code></a><a class="headerlink" href="#module-matplotlib.testing.exceptions" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="matplotlib.testing.exceptions.ImageComparisonFailure">
<em class="property">exception </em><code class="descclassname">matplotlib.testing.exceptions.</code><code class="descname">ImageComparisonFailure</code><a class="reference internal" href="../_modules/matplotlib/testing/exceptions.html#ImageComparisonFailure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matplotlib.testing.exceptions.ImageComparisonFailure" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#AssertionError" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssertionError</span></code></a></p>
<p>Raise this exception to mark a test as a comparison between two images.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>

      <div class="clearer"></div>
    </div>
    <div class="footer">
        &copy; Copyright 2002 - 2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the Matplotlib development team; 2012 - 2018 The Matplotlib development team.
        <br />
      Last updated on Aug 08, 2019.
	Created using
	<a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
	Doc version v3.1.1-31-g3b829f7f2.
    </div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55954603-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
<footer>
</footer>
</html>