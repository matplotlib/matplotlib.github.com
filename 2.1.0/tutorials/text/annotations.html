<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Annotations — Matplotlib 2.1.0 documentation</title>
<link href="../../_static/mpl.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/gallery.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
<script src="../../_static/jquery.js" type="text/javascript"></script>
<script src="../../_static/underscore.js" type="text/javascript"></script>
<script src="../../_static/doctools.js" type="text/javascript"></script>
<link href="../../_static/opensearch.xml" rel="search" title="Search within Matplotlib 2.1.0 documentation" type="application/opensearchdescription+xml"/>
<link href="../../_static/favicon.ico" rel="shortcut icon"/>
<link href="../../genindex.html" rel="index" title="Index"/>
<link href="../../search.html" rel="search" title="Search"/>
<link href="../../index.html" rel="top" title="Matplotlib 2.1.0 documentation"/>
<link href="../index.html" rel="up" title="Tutorials"/>
<link href="usetex.html" rel="next" title="Text rendering With LaTeX"/>
<link href="../colors/colormaps.html" rel="prev" title="Colormaps in Matplotlib"/>
<link href="https://matplotlib.org/tutorials/text/annotations.html" rel="canonical"/></head>
<body><div id="old-version-banner">
            You are reading documentation for a static version of Matplotlib.
            <a href="https://matplotlib.org/tutorials/text/annotations.html">This page may have been updated.</a>
</div>
<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px; position: relative;">
<a href="../../index.html"><img alt="matplotlib" border="0" src="../../_static/logo2.svg" width="540px"/></a>
<!-- The "Fork me on github" ribbon -->
<div id="forkongithub"><a href="https://github.com/matplotlib/matplotlib">Fork me on GitHub</a></div>
</div>
<div class="related">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a accesskey="I" href="../../genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="../../py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a accesskey="N" href="usetex.html" title="Text rendering With LaTeX">next</a> |</li>
<li class="right">
<a accesskey="P" href="../colors/colormaps.html" title="Colormaps in Matplotlib">previous</a> |</li>
<li><a href="../../index.html">home</a>| </li>
<li><a href="../../gallery/index.html">examples</a>| </li>
<li><a href="../index.html">tutorials</a>| </li>
<li><a href="../../api/pyplot_summary.html">pyplot</a>| </li>
<li><a href="../../contents.html">docs</a> »</li>
<li><a href="../../users/index.html">User’s Guide</a> »</li>
<li><a accesskey="U" href="../index.html">Tutorials</a> »</li>
</ul>
</div>
<div class="sphinxsidebar">
<div class="sphinxsidebarwrapper"><a href="https://www.numfocus.org">
<image src="https://img.shields.io/badge/powered%20by-NumFOCUS-orange.svg?style=flat&amp;colorA=E1523D&amp;colorB=007D8A">
</image></a>
<br/>
<a href="http://depsy.org/package/python/matplotlib">
<img src="../../_static/depsy_badge.svg"/>
</a>
<br/>

Travis-CI: <a href="https://travis-ci.org/matplotlib/matplotlib">
<img src="https://travis-ci.org/matplotlib/matplotlib.svg?branch=master"/>
</a>
<br/>
<h3><a href="../../contents.html">Table Of Contents</a></h3>
<ul>
<li><a class="reference internal" href="#">Annotations</a></li>
<li><a class="reference internal" href="#basic-annotation">Basic annotation</a></li>
<li><a class="reference internal" href="#advanced-annotation">Advanced Annotation</a><ul>
<li><a class="reference internal" href="#annotating-with-text-with-box">Annotating with Text with Box</a></li>
<li><a class="reference internal" href="#annotating-with-arrow">Annotating with Arrow</a></li>
<li><a class="reference internal" href="#placing-artist-at-the-anchored-location-of-the-axes">Placing Artist at the anchored location of the Axes</a></li>
<li><a class="reference internal" href="#using-complex-coordinates-with-annotations">Using Complex Coordinates with Annotations</a></li>
<li><a class="reference internal" href="#using-connectorpatch">Using ConnectorPatch</a><ul>
<li><a class="reference internal" href="#advanced-topics">Advanced Topics</a></li>
</ul>
</li>
<li><a class="reference internal" href="#zoom-effect-between-axes">Zoom effect between Axes</a></li>
<li><a class="reference internal" href="#define-custom-boxstyle">Define Custom BoxStyle</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
<li><a href="../../contents.html">Documentation overview</a><ul>
<li><a href="../../users/index.html">User’s Guide</a><ul>
<li><a href="../index.html">Tutorials</a><ul>
<li>Previous: <a href="../colors/colormaps.html" title="previous chapter">Colormaps in Matplotlib</a></li>
<li>Next: <a href="usetex.html" title="next chapter">Text rendering With LaTeX</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</div>
<div aria-label="source link" role="note">
<h3>This Page</h3>
<ul class="this-page-menu">
<li><a href="../../_sources/tutorials/text/annotations.rst.txt" rel="nofollow">Show Source</a></li>
</ul>
</div>
<div id="searchbox" role="search" style="display: none">
<h3>Quick search</h3>
<form action="../../search.html" class="search" method="get">
<div><input name="q" type="text"/></div>
<div><input type="submit" value="Go"/></div>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
</div>
</div>
<div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body">
<div class="section" id="annotations">
<span id="sphx-glr-tutorials-text-annotations-py"></span><h1><a class="toc-backref" href="#id23">Annotations</a><a class="headerlink" href="#annotations" title="Permalink to this headline">¶</a></h1>
<p>Annotating text with Matplotlib.</p>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#annotations" id="id23">Annotations</a></li>
<li><a class="reference internal" href="#basic-annotation" id="id24">Basic annotation</a></li>
<li><a class="reference internal" href="#advanced-annotation" id="id25">Advanced Annotation</a><ul>
<li><a class="reference internal" href="#annotating-with-text-with-box" id="id26">Annotating with Text with Box</a></li>
<li><a class="reference internal" href="#annotating-with-arrow" id="id27">Annotating with Arrow</a></li>
<li><a class="reference internal" href="#placing-artist-at-the-anchored-location-of-the-axes" id="id28">Placing Artist at the anchored location of the Axes</a></li>
<li><a class="reference internal" href="#using-complex-coordinates-with-annotations" id="id29">Using Complex Coordinates with Annotations</a></li>
<li><a class="reference internal" href="#using-connectorpatch" id="id30">Using ConnectorPatch</a><ul>
<li><a class="reference internal" href="#advanced-topics" id="id31">Advanced Topics</a></li>
</ul>
</li>
<li><a class="reference internal" href="#zoom-effect-between-axes" id="id32">Zoom effect between Axes</a></li>
<li><a class="reference internal" href="#define-custom-boxstyle" id="id33">Define Custom BoxStyle</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="basic-annotation">
<span id="annotations-tutorial"></span><h1><a class="toc-backref" href="#id24">Basic annotation</a><a class="headerlink" href="#basic-annotation" title="Permalink to this headline">¶</a></h1>
<p>The uses of the basic <a class="reference internal" href="../../api/_as_gen/matplotlib.pyplot.text.html#matplotlib.pyplot.text" title="matplotlib.pyplot.text"><code class="xref py py-func docutils literal"><span class="pre">text()</span></code></a> will place text
at an arbitrary position on the Axes.  A common use case of text is to
annotate some feature of the plot, and the
<code class="xref py py-func docutils literal"><span class="pre">annotate()</span></code> method provides helper functionality
to make annotations easy.  In an annotation, there are two points to
consider: the location being annotated represented by the argument
<code class="docutils literal"><span class="pre">xy</span></code> and the location of the text <code class="docutils literal"><span class="pre">xytext</span></code>.  Both of these
arguments are <code class="docutils literal"><span class="pre">(x,y)</span></code> tuples.</p>
<div class="figure align-center" id="id1">
<a class="reference external image-reference" href="../../gallery/pyplots/annotation_basic.html"><img alt="../../_images/sphx_glr_annotation_basic_0011.png" src="../../_images/sphx_glr_annotation_basic_0011.png" style="width: 320.0px; height: 240.0px;"/></a>
<p class="caption"><span class="caption-text">Annotation Basic</span></p>
</div>
<p>In this example, both the <code class="docutils literal"><span class="pre">xy</span></code> (arrow tip) and <code class="docutils literal"><span class="pre">xytext</span></code> locations
(text location) are in data coordinates.  There are a variety of other
coordinate systems one can choose – you can specify the coordinate
system of <code class="docutils literal"><span class="pre">xy</span></code> and <code class="docutils literal"><span class="pre">xytext</span></code> with one of the following strings for
<code class="docutils literal"><span class="pre">xycoords</span></code> and <code class="docutils literal"><span class="pre">textcoords</span></code> (default is ‘data’)</p>
<table border="1" class="docutils">
<colgroup>
<col width="28%"/>
<col width="72%"/>
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">argument</th>
<th class="head">coordinate system</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>‘figure points’</td>
<td>points from the lower left corner of the figure</td>
</tr>
<tr class="row-odd"><td>‘figure pixels’</td>
<td>pixels from the lower left corner of the figure</td>
</tr>
<tr class="row-even"><td>‘figure fraction’</td>
<td>0,0 is lower left of figure and 1,1 is upper right</td>
</tr>
<tr class="row-odd"><td>‘axes points’</td>
<td>points from lower left corner of axes</td>
</tr>
<tr class="row-even"><td>‘axes pixels’</td>
<td>pixels from lower left corner of axes</td>
</tr>
<tr class="row-odd"><td>‘axes fraction’</td>
<td>0,0 is lower left of axes and 1,1 is upper right</td>
</tr>
<tr class="row-even"><td>‘data’</td>
<td>use the axes data coordinate system</td>
</tr>
</tbody>
</table>
<p>For example to place the text coordinates in fractional axes
coordinates, one could do:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">'local max'</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>  <span class="n">xycoords</span><span class="o">=</span><span class="s1">'data'</span><span class="p">,</span>
            <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">'axes fraction'</span><span class="p">,</span>
            <span class="n">arrowprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">'black'</span><span class="p">,</span> <span class="n">shrink</span><span class="o">=</span><span class="mf">0.05</span><span class="p">),</span>
            <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">'right'</span><span class="p">,</span> <span class="n">verticalalignment</span><span class="o">=</span><span class="s1">'top'</span><span class="p">,</span>
            <span class="p">)</span>
</pre></div>
</div>
<p>For physical coordinate systems (points or pixels) the origin is the
bottom-left of the figure or axes.</p>
<p>Optionally, you can enable drawing of an arrow from the text to the annotated
point by giving a dictionary of arrow properties in the optional keyword
argument <code class="docutils literal"><span class="pre">arrowprops</span></code>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="27%"/>
<col width="73%"/>
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><code class="docutils literal"><span class="pre">arrowprops</span></code> key</th>
<th class="head">description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>width</td>
<td>the width of the arrow in points</td>
</tr>
<tr class="row-odd"><td>frac</td>
<td>the fraction of the arrow length occupied by the head</td>
</tr>
<tr class="row-even"><td>headwidth</td>
<td>the width of the base of the arrow head in points</td>
</tr>
<tr class="row-odd"><td>shrink</td>
<td>move the tip and base some percent away from
the annotated point and text</td>
</tr>
<tr class="row-even"><td>**kwargs</td>
<td>any key for <a class="reference internal" href="../../api/_as_gen/matplotlib.patches.Polygon.html#matplotlib.patches.Polygon" title="matplotlib.patches.Polygon"><code class="xref py py-class docutils literal"><span class="pre">matplotlib.patches.Polygon</span></code></a>,
e.g., <code class="docutils literal"><span class="pre">facecolor</span></code></td>
</tr>
</tbody>
</table>
<p>In the example below, the <code class="docutils literal"><span class="pre">xy</span></code> point is in native coordinates
(<code class="docutils literal"><span class="pre">xycoords</span></code> defaults to ‘data’).  For a polar axes, this is in
(theta, radius) space.  The text in this example is placed in the
fractional figure coordinate system. <a class="reference internal" href="../../api/text_api.html#matplotlib.text.Text" title="matplotlib.text.Text"><code class="xref py py-class docutils literal"><span class="pre">matplotlib.text.Text</span></code></a>
keyword args like <code class="docutils literal"><span class="pre">horizontalalignment</span></code>, <code class="docutils literal"><span class="pre">verticalalignment</span></code> and
<code class="docutils literal"><span class="pre">fontsize</span></code> are passed from <code class="xref py py-obj docutils literal"><span class="pre">annotate</span></code> to the
<code class="docutils literal"><span class="pre">Text</span></code> instance.</p>
<div class="figure align-center" id="id2">
<a class="reference external image-reference" href="../../gallery/pyplots/annotation_polar.html"><img alt="../../_images/sphx_glr_annotation_polar_0011.png" src="../../_images/sphx_glr_annotation_polar_0011.png" style="width: 320.0px; height: 240.0px;"/></a>
<p class="caption"><span class="caption-text">Annotation Polar</span></p>
</div>
<p>For more on all the wild and wonderful things you can do with
annotations, including fancy arrows, see <a class="reference internal" href="#plotting-guide-annotation"><span class="std std-ref">Advanced Annotation</span></a>
and <a class="reference internal" href="../../gallery/text_labels_and_annotations/annotation_demo.html#sphx-glr-gallery-text-labels-and-annotations-annotation-demo-py"><span class="std std-ref">Annotating Plots</span></a>.</p>
<p>Do not proceed unless you have already read <a class="reference internal" href="#annotations-tutorial"><span class="std std-ref">Basic annotation</span></a>,
<a class="reference internal" href="../../api/_as_gen/matplotlib.pyplot.text.html#matplotlib.pyplot.text" title="matplotlib.pyplot.text"><code class="xref py py-func docutils literal"><span class="pre">text()</span></code></a> and <a class="reference internal" href="../../api/_as_gen/matplotlib.pyplot.annotate.html#matplotlib.pyplot.annotate" title="matplotlib.pyplot.annotate"><code class="xref py py-func docutils literal"><span class="pre">annotate()</span></code></a>!</p>
</div>
<div class="section" id="advanced-annotation">
<span id="plotting-guide-annotation"></span><h1><a class="toc-backref" href="#id25">Advanced Annotation</a><a class="headerlink" href="#advanced-annotation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="annotating-with-text-with-box">
<h2><a class="toc-backref" href="#id26">Annotating with Text with Box</a><a class="headerlink" href="#annotating-with-text-with-box" title="Permalink to this headline">¶</a></h2>
<p>Let’s start with a simple example.</p>
<div class="figure align-center" id="id3">
<a class="reference external image-reference" href="../../gallery/userdemo/annotate_text_arrow.html"><img alt="../../_images/sphx_glr_annotate_text_arrow_0011.png" src="../../_images/sphx_glr_annotate_text_arrow_0011.png" style="width: 250.0px; height: 250.0px;"/></a>
<p class="caption"><span class="caption-text">Annotate Text Arrow</span></p>
</div>
<p>The <a class="reference internal" href="../../api/_as_gen/matplotlib.pyplot.text.html#matplotlib.pyplot.text" title="matplotlib.pyplot.text"><code class="xref py py-func docutils literal"><span class="pre">text()</span></code></a> function in the pyplot module (or
text method of the Axes class) takes bbox keyword argument, and when
given, a box around the text is drawn.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">bbox_props</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">"rarrow,pad=0.3"</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s2">"cyan"</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s2">"b"</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">"Direction"</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">"center"</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s2">"center"</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span>
            <span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
            <span class="n">bbox</span><span class="o">=</span><span class="n">bbox_props</span><span class="p">)</span>
</pre></div>
</div>
<p>The patch object associated with the text can be accessed by:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">bb</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">get_bbox_patch</span><span class="p">()</span>
</pre></div>
</div>
<p>The return value is an instance of FancyBboxPatch and the patch
properties like facecolor, edgewidth, etc. can be accessed and
modified as usual. To change the shape of the box, use the <em>set_boxstyle</em>
method.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">bb</span><span class="o">.</span><span class="n">set_boxstyle</span><span class="p">(</span><span class="s2">"rarrow"</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
</pre></div>
</div>
<p>The arguments are the name of the box style with its attributes as
keyword arguments. Currently, following box styles are implemented.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="20%"/>
<col width="28%"/>
<col width="52%"/>
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Class</th>
<th class="head">Name</th>
<th class="head">Attrs</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Circle</td>
<td><code class="docutils literal"><span class="pre">circle</span></code></td>
<td>pad=0.3</td>
</tr>
<tr class="row-odd"><td>DArrow</td>
<td><code class="docutils literal"><span class="pre">darrow</span></code></td>
<td>pad=0.3</td>
</tr>
<tr class="row-even"><td>LArrow</td>
<td><code class="docutils literal"><span class="pre">larrow</span></code></td>
<td>pad=0.3</td>
</tr>
<tr class="row-odd"><td>RArrow</td>
<td><code class="docutils literal"><span class="pre">rarrow</span></code></td>
<td>pad=0.3</td>
</tr>
<tr class="row-even"><td>Round</td>
<td><code class="docutils literal"><span class="pre">round</span></code></td>
<td>pad=0.3,rounding_size=None</td>
</tr>
<tr class="row-odd"><td>Round4</td>
<td><code class="docutils literal"><span class="pre">round4</span></code></td>
<td>pad=0.3,rounding_size=None</td>
</tr>
<tr class="row-even"><td>Roundtooth</td>
<td><code class="docutils literal"><span class="pre">roundtooth</span></code></td>
<td>pad=0.3,tooth_size=None</td>
</tr>
<tr class="row-odd"><td>Sawtooth</td>
<td><code class="docutils literal"><span class="pre">sawtooth</span></code></td>
<td>pad=0.3,tooth_size=None</td>
</tr>
<tr class="row-even"><td>Square</td>
<td><code class="docutils literal"><span class="pre">square</span></code></td>
<td>pad=0.3</td>
</tr>
</tbody>
</table>
</div></blockquote>
<div class="figure align-center" id="id4">
<a class="reference external image-reference" href="../../gallery/shapes_and_collections/fancybox_demo.html"><img alt="../../_images/sphx_glr_fancybox_demo_0011.png" src="../../_images/sphx_glr_fancybox_demo_0011.png" style="width: 133.0px; height: 376.5px;"/></a>
<p class="caption"><span class="caption-text">Fancybox Demo</span></p>
</div>
<p>Note that the attribute arguments can be specified within the style
name with separating comma (this form can be used as “boxstyle” value
of bbox argument when initializing the text instance)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">bb</span><span class="o">.</span><span class="n">set_boxstyle</span><span class="p">(</span><span class="s2">"rarrow,pad=0.6"</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="annotating-with-arrow">
<h2><a class="toc-backref" href="#id27">Annotating with Arrow</a><a class="headerlink" href="#annotating-with-arrow" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="../../api/_as_gen/matplotlib.pyplot.annotate.html#matplotlib.pyplot.annotate" title="matplotlib.pyplot.annotate"><code class="xref py py-func docutils literal"><span class="pre">annotate()</span></code></a> function in the pyplot module
(or annotate method of the Axes class) is used to draw an arrow
connecting two points on the plot.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">"Annotation"</span><span class="p">,</span>
            <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s1">'data'</span><span class="p">,</span>
            <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">'offset points'</span><span class="p">,</span>
            <span class="p">)</span>
</pre></div>
</div>
<p>This annotates a point at <code class="docutils literal"><span class="pre">xy</span></code> in the given coordinate (<code class="docutils literal"><span class="pre">xycoords</span></code>)
with the text at <code class="docutils literal"><span class="pre">xytext</span></code> given in <code class="docutils literal"><span class="pre">textcoords</span></code>. Often, the
annotated point is specified in the <em>data</em> coordinate and the annotating
text in <em>offset points</em>.
See <a class="reference internal" href="../../api/_as_gen/matplotlib.pyplot.annotate.html#matplotlib.pyplot.annotate" title="matplotlib.pyplot.annotate"><code class="xref py py-func docutils literal"><span class="pre">annotate()</span></code></a> for available coordinate systems.</p>
<p>An arrow connecting two points (xy &amp; xytext) can be optionally drawn by
specifying the <code class="docutils literal"><span class="pre">arrowprops</span></code> argument. To draw only an arrow, use
empty string as the first argument.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">""</span><span class="p">,</span>
            <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s1">'data'</span><span class="p">,</span>
            <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">'data'</span><span class="p">,</span>
            <span class="n">arrowprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">arrowstyle</span><span class="o">=</span><span class="s2">"-&gt;"</span><span class="p">,</span>
                            <span class="n">connectionstyle</span><span class="o">=</span><span class="s2">"arc3"</span><span class="p">),</span>
            <span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center" id="id5">
<a class="reference external image-reference" href="../../gallery/userdemo/annotate_simple01.html"><img alt="../../_images/sphx_glr_annotate_simple01_0011.png" src="../../_images/sphx_glr_annotate_simple01_0011.png" style="width: 150.0px; height: 150.0px;"/></a>
<p class="caption"><span class="caption-text">Annotate Simple01</span></p>
</div>
<p>The arrow drawing takes a few steps.</p>
<ol class="arabic simple">
<li>a connecting path between two points are created. This is
controlled by <code class="docutils literal"><span class="pre">connectionstyle</span></code> key value.</li>
<li>If patch object is given (<em>patchA</em> &amp; <em>patchB</em>), the path is clipped to
avoid the patch.</li>
<li>The path is further shrunk by given amount of pixels (<em>shrinkA</em>
&amp; <em>shrinkB</em>)</li>
<li>The path is transmuted to arrow patch, which is controlled by the
<code class="docutils literal"><span class="pre">arrowstyle</span></code> key value.</li>
</ol>
<div class="figure align-center" id="id6">
<a class="reference external image-reference" href="../../gallery/userdemo/annotate_explain.html"><img alt="../../_images/sphx_glr_annotate_explain_0011.png" src="../../_images/sphx_glr_annotate_explain_0011.png" style="width: 400.0px; height: 150.0px;"/></a>
<p class="caption"><span class="caption-text">Annotate Explain</span></p>
</div>
<p>The creation of the connecting path between two points is controlled by
<code class="docutils literal"><span class="pre">connectionstyle</span></code> key and the following styles are available.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="18%"/>
<col width="82%"/>
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Attrs</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">angle</span></code></td>
<td>angleA=90,angleB=0,rad=0.0</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">angle3</span></code></td>
<td>angleA=90,angleB=0</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">arc</span></code></td>
<td>angleA=0,angleB=0,armA=None,armB=None,rad=0.0</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">arc3</span></code></td>
<td>rad=0.0</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">bar</span></code></td>
<td>armA=0.0,armB=0.0,fraction=0.3,angle=None</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Note that “3” in <code class="docutils literal"><span class="pre">angle3</span></code> and <code class="docutils literal"><span class="pre">arc3</span></code> is meant to indicate that the
resulting path is a quadratic spline segment (three control
points). As will be discussed below, some arrow style options can only
be used when the connecting path is a quadratic spline.</p>
<p>The behavior of each connection style is (limitedly) demonstrated in the
example below. (Warning : The behavior of the <code class="docutils literal"><span class="pre">bar</span></code> style is currently not
well defined, it may be changed in the future).</p>
<div class="figure align-center" id="id7">
<a class="reference external image-reference" href="../../gallery/userdemo/connectionstyle_demo.html"><img alt="../../_images/sphx_glr_connectionstyle_demo_0011.png" src="../../_images/sphx_glr_connectionstyle_demo_0011.png" style="width: 400.0px; height: 250.0px;"/></a>
<p class="caption"><span class="caption-text">Connectionstyle Demo</span></p>
</div>
<p>The connecting path (after clipping and shrinking) is then mutated to
an arrow patch, according to the given <code class="docutils literal"><span class="pre">arrowstyle</span></code>.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="18%"/>
<col width="82%"/>
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Attrs</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">-</span></code></td>
<td>None</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">-&gt;</span></code></td>
<td>head_length=0.4,head_width=0.2</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">-[</span></code></td>
<td>widthB=1.0,lengthB=0.2,angleB=None</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">|-|</span></code></td>
<td>widthA=1.0,widthB=1.0</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">-|&gt;</span></code></td>
<td>head_length=0.4,head_width=0.2</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;-</span></code></td>
<td>head_length=0.4,head_width=0.2</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;-&gt;</span></code></td>
<td>head_length=0.4,head_width=0.2</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;|-</span></code></td>
<td>head_length=0.4,head_width=0.2</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;|-|&gt;</span></code></td>
<td>head_length=0.4,head_width=0.2</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">fancy</span></code></td>
<td>head_length=0.4,head_width=0.4,tail_width=0.4</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">simple</span></code></td>
<td>head_length=0.5,head_width=0.5,tail_width=0.2</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">wedge</span></code></td>
<td>tail_width=0.3,shrink_factor=0.5</td>
</tr>
</tbody>
</table>
</div></blockquote>
<div class="figure align-center" id="id8">
<a class="reference external image-reference" href="../../gallery/text_labels_and_annotations/fancyarrow_demo.html"><img alt="../../_images/sphx_glr_fancyarrow_demo_0011.png" src="../../_images/sphx_glr_fancyarrow_demo_0011.png" style="width: 266.5px; height: 250.0px;"/></a>
<p class="caption"><span class="caption-text">Fancyarrow Demo</span></p>
</div>
<p>Some arrowstyles only work with connection styles that generate a
quadratic-spline segment. They are <code class="docutils literal"><span class="pre">fancy</span></code>, <code class="docutils literal"><span class="pre">simple</span></code>, and <code class="docutils literal"><span class="pre">wedge</span></code>.
For these arrow styles, you must use the “angle3” or “arc3” connection
style.</p>
<p>If the annotation string is given, the patchA is set to the bbox patch
of the text by default.</p>
<div class="figure align-center" id="id9">
<a class="reference external image-reference" href="../../gallery/userdemo/annotate_simple02.html"><img alt="../../_images/sphx_glr_annotate_simple02_0011.png" src="../../_images/sphx_glr_annotate_simple02_0011.png" style="width: 150.0px; height: 150.0px;"/></a>
<p class="caption"><span class="caption-text">Annotate Simple02</span></p>
</div>
<p>As in the text command, a box around the text can be drawn using
the <code class="docutils literal"><span class="pre">bbox</span></code> argument.</p>
<div class="figure align-center" id="id10">
<a class="reference external image-reference" href="../../gallery/userdemo/annotate_simple03.html"><img alt="../../_images/sphx_glr_annotate_simple03_0011.png" src="../../_images/sphx_glr_annotate_simple03_0011.png" style="width: 150.0px; height: 150.0px;"/></a>
<p class="caption"><span class="caption-text">Annotate Simple03</span></p>
</div>
<p>By default, the starting point is set to the center of the text
extent.  This can be adjusted with <code class="docutils literal"><span class="pre">relpos</span></code> key value. The values
are normalized to the extent of the text. For example, (0,0) means
lower-left corner and (1,1) means top-right.</p>
<div class="figure align-center" id="id11">
<a class="reference external image-reference" href="../../gallery/userdemo/annotate_simple04.html"><img alt="../../_images/sphx_glr_annotate_simple04_0011.png" src="../../_images/sphx_glr_annotate_simple04_0011.png" style="width: 150.0px; height: 150.0px;"/></a>
<p class="caption"><span class="caption-text">Annotate Simple04</span></p>
</div>
</div>
<div class="section" id="placing-artist-at-the-anchored-location-of-the-axes">
<h2><a class="toc-backref" href="#id28">Placing Artist at the anchored location of the Axes</a><a class="headerlink" href="#placing-artist-at-the-anchored-location-of-the-axes" title="Permalink to this headline">¶</a></h2>
<p>There are classes of artists that can be placed at an anchored location
in the Axes. A common example is the legend.  This type of artist can
be created by using the OffsetBox class. A few predefined classes are
available in <code class="docutils literal"><span class="pre">mpl_toolkits.axes_grid1.anchored_artists</span></code> others in
<code class="docutils literal"><span class="pre">matplotlib.offsetbox</span></code></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib.offsetbox</span> <span class="k">import</span> <span class="n">AnchoredText</span>
<span class="n">at</span> <span class="o">=</span> <span class="n">AnchoredText</span><span class="p">(</span><span class="s2">"Figure 1a"</span><span class="p">,</span>
                  <span class="n">prop</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">8</span><span class="p">),</span> <span class="n">frameon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                  <span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                  <span class="p">)</span>
<span class="n">at</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_boxstyle</span><span class="p">(</span><span class="s2">"round,pad=0.,rounding_size=0.2"</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">at</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center" id="id12">
<a class="reference external image-reference" href="../../gallery/userdemo/anchored_box01.html"><img alt="../../_images/sphx_glr_anchored_box01_0011.png" src="../../_images/sphx_glr_anchored_box01_0011.png" style="width: 150.0px; height: 150.0px;"/></a>
<p class="caption"><span class="caption-text">Anchored Box01</span></p>
</div>
<p>The <em>loc</em> keyword has same meaning as in the legend command.</p>
<p>A simple application is when the size of the artist (or collection of
artists) is known in pixel size during the time of creation. For
example, If you want to draw a circle with fixed size of 20 pixel x 20
pixel (radius = 10 pixel), you can utilize
<code class="docutils literal"><span class="pre">AnchoredDrawingArea</span></code>. The instance is created with a size of the
drawing area (in pixels), and arbitrary artists can added to the
drawing area. Note that the extents of the artists that are added to
the drawing area are not related to the placement of the drawing
area itself. Only the initial size matters.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mpl_toolkits.axes_grid1.anchored_artists</span> <span class="k">import</span> <span class="n">AnchoredDrawingArea</span>

<span class="n">ada</span> <span class="o">=</span> <span class="n">AnchoredDrawingArea</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
                          <span class="n">loc</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">frameon</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">p1</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">ada</span><span class="o">.</span><span class="n">drawing_area</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span>
<span class="n">p2</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">((</span><span class="mi">30</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="mi">5</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span>
<span class="n">ada</span><span class="o">.</span><span class="n">drawing_area</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">p2</span><span class="p">)</span>
</pre></div>
</div>
<p>The artists that are added to the drawing area should not have a
transform set (it will be overridden) and the dimensions of those
artists are interpreted as a pixel coordinate, i.e., the radius of the
circles in above example are 10 pixels and 5 pixels, respectively.</p>
<div class="figure align-center" id="id13">
<a class="reference external image-reference" href="../../gallery/userdemo/anchored_box02.html"><img alt="../../_images/sphx_glr_anchored_box02_0011.png" src="../../_images/sphx_glr_anchored_box02_0011.png" style="width: 150.0px; height: 150.0px;"/></a>
<p class="caption"><span class="caption-text">Anchored Box02</span></p>
</div>
<p>Sometimes, you want your artists to scale with the data coordinate (or
coordinates other than canvas pixels). You can use
<code class="docutils literal"><span class="pre">AnchoredAuxTransformBox</span></code> class. This is similar to
<code class="docutils literal"><span class="pre">AnchoredDrawingArea</span></code> except that the extent of the artist is
determined during the drawing time respecting the specified transform.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mpl_toolkits.axes_grid1.anchored_artists</span> <span class="k">import</span> <span class="n">AnchoredAuxTransformBox</span>

<span class="n">box</span> <span class="o">=</span> <span class="n">AnchoredAuxTransformBox</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">transData</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">el</span> <span class="o">=</span> <span class="n">Ellipse</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">angle</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>  <span class="c1"># in data coordinates!</span>
<span class="n">box</span><span class="o">.</span><span class="n">drawing_area</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
</pre></div>
</div>
<p>The ellipse in the above example will have width and height
corresponding to 0.1 and 0.4 in data coordinateing and will be
automatically scaled when the view limits of the axes change.</p>
<div class="figure align-center" id="id14">
<a class="reference external image-reference" href="../../gallery/userdemo/anchored_box03.html"><img alt="../../_images/sphx_glr_anchored_box03_0011.png" src="../../_images/sphx_glr_anchored_box03_0011.png" style="width: 150.0px; height: 150.0px;"/></a>
<p class="caption"><span class="caption-text">Anchored Box03</span></p>
</div>
<p>As in the legend, the bbox_to_anchor argument can be set.  Using the
HPacker and VPacker, you can have an arrangement(?) of artist as in the
legend (as a matter of fact, this is how the legend is created).</p>
<div class="figure align-center" id="id15">
<a class="reference external image-reference" href="../../gallery/userdemo/anchored_box04.html"><img alt="../../_images/sphx_glr_anchored_box04_0011.png" src="../../_images/sphx_glr_anchored_box04_0011.png" style="width: 150.0px; height: 150.0px;"/></a>
<p class="caption"><span class="caption-text">Anchored Box04</span></p>
</div>
<p>Note that unlike the legend, the <code class="docutils literal"><span class="pre">bbox_transform</span></code> is set
to IdentityTransform by default.</p>
</div>
<div class="section" id="using-complex-coordinates-with-annotations">
<h2><a class="toc-backref" href="#id29">Using Complex Coordinates with Annotations</a><a class="headerlink" href="#using-complex-coordinates-with-annotations" title="Permalink to this headline">¶</a></h2>
<p>The Annotation in matplotlib supports several types of coordinates as
described in <a class="reference internal" href="#annotations-tutorial"><span class="std std-ref">Basic annotation</span></a>. For an advanced user who wants
more control, it supports a few other options.</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first"><a class="reference internal" href="../../api/transformations.html#matplotlib.transforms.Transform" title="matplotlib.transforms.Transform"><code class="xref py py-class docutils literal"><span class="pre">Transform</span></code></a> instance. For example,</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">"Test"</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="n">ax</span><span class="o">.</span><span class="n">transAxes</span><span class="p">)</span>
</pre></div>
</div>
<p>is identical to</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">"Test"</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s2">"axes fraction"</span><span class="p">)</span>
</pre></div>
</div>
<p>With this, you can annotate a point in other axes.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span> <span class="o">=</span> <span class="n">subplot</span><span class="p">(</span><span class="mi">121</span><span class="p">),</span> <span class="n">subplot</span><span class="p">(</span><span class="mi">122</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">"Test"</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="n">ax1</span><span class="o">.</span><span class="n">transData</span><span class="p">,</span>
             <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="n">ax2</span><span class="o">.</span><span class="n">transData</span><span class="p">,</span>
             <span class="n">arrowprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">arrowstyle</span><span class="o">=</span><span class="s2">"-&gt;"</span><span class="p">))</span>
</pre></div>
</div>
</li>
<li><p class="first"><a class="reference internal" href="../../api/artist_api.html#matplotlib.artist.Artist" title="matplotlib.artist.Artist"><code class="xref py py-class docutils literal"><span class="pre">Artist</span></code></a> instance. The xy value (or
xytext) is interpreted as a fractional coordinate of the bbox
(return value of <em>get_window_extent</em>) of the artist.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">an1</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">"Test 1"</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s2">"data"</span><span class="p">,</span>
                  <span class="n">va</span><span class="o">=</span><span class="s2">"center"</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">"center"</span><span class="p">,</span>
                  <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">"round"</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s2">"w"</span><span class="p">))</span>
<span class="n">an2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">"Test 2"</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="n">an1</span><span class="p">,</span> <span class="c1"># (1,0.5) of the an1's bbox</span>
                  <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s2">"offset points"</span><span class="p">,</span>
                  <span class="n">va</span><span class="o">=</span><span class="s2">"center"</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">"left"</span><span class="p">,</span>
                  <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">"round"</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s2">"w"</span><span class="p">),</span>
                  <span class="n">arrowprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">arrowstyle</span><span class="o">=</span><span class="s2">"-&gt;"</span><span class="p">))</span>
</pre></div>
</div>
<div class="figure align-center" id="id16">
<a class="reference external image-reference" href="../../gallery/userdemo/annotate_simple_coord01.html"><img alt="../../_images/sphx_glr_annotate_simple_coord01_0011.png" src="../../_images/sphx_glr_annotate_simple_coord01_0011.png" style="width: 150.0px; height: 100.0px;"/></a>
<p class="caption"><span class="caption-text">Annotation with Simple Coordinates</span></p>
</div>
<p>Note that it is your responsibility that the extent of the
coordinate artist (<em>an1</em> in above example) is determined before <em>an2</em>
gets drawn. In most cases, it means that <em>an2</em> needs to be drawn
later than <em>an1</em>.</p>
</li>
<li><p class="first">A callable object that returns an instance of either
<a class="reference internal" href="../../api/transformations.html#matplotlib.transforms.BboxBase" title="matplotlib.transforms.BboxBase"><code class="xref py py-class docutils literal"><span class="pre">BboxBase</span></code></a> or
<a class="reference internal" href="../../api/transformations.html#matplotlib.transforms.Transform" title="matplotlib.transforms.Transform"><code class="xref py py-class docutils literal"><span class="pre">Transform</span></code></a>. If a transform is
returned, it is the same as 1 and if a bbox is returned, it is the same
as 2.  The callable object should take a single argument of the
renderer instance. For example, the following two commands give
identical results</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">an2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">"Test 2"</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="n">an1</span><span class="p">,</span>
                  <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s2">"offset points"</span><span class="p">)</span>
<span class="n">an2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">"Test 2"</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="n">an1</span><span class="o">.</span><span class="n">get_window_extent</span><span class="p">,</span>
                  <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s2">"offset points"</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">A tuple of two coordinate specifications. The first item is for the
x-coordinate and the second is for the y-coordinate. For example,</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">annotate</span><span class="p">(</span><span class="s2">"Test"</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="p">(</span><span class="s2">"data"</span><span class="p">,</span> <span class="s2">"axes fraction"</span><span class="p">))</span>
</pre></div>
</div>
<p>0.5 is in data coordinates, and 1 is in normalized axes coordinates.
You may use an artist or transform as with a tuple. For example,</p>
<div class="figure align-center" id="id17">
<a class="reference external image-reference" href="../../gallery/userdemo/annotate_simple_coord02.html"><img alt="../../_images/sphx_glr_annotate_simple_coord02_0011.png" src="../../_images/sphx_glr_annotate_simple_coord02_0011.png" style="width: 150.0px; height: 100.0px;"/></a>
<p class="caption"><span class="caption-text">Annotation with Simple Coordinates 2</span></p>
</div>
</li>
<li><p class="first">Sometimes, you want your annotation with some “offset points”, not from the
annotated point but from some other point.
<a class="reference internal" href="../../api/text_api.html#matplotlib.text.OffsetFrom" title="matplotlib.text.OffsetFrom"><code class="xref py py-class docutils literal"><span class="pre">OffsetFrom</span></code></a> is a helper class for such cases.</p>
<div class="figure align-center" id="id18">
<a class="reference external image-reference" href="../../gallery/userdemo/annotate_simple_coord03.html"><img alt="../../_images/sphx_glr_annotate_simple_coord03_0011.png" src="../../_images/sphx_glr_annotate_simple_coord03_0011.png" style="width: 150.0px; height: 100.0px;"/></a>
<p class="caption"><span class="caption-text">Annotation with Simple Coordinates 3</span></p>
</div>
<p>You may take a look at this example
<a class="reference internal" href="../../gallery/text_labels_and_annotations/annotation_demo.html#sphx-glr-gallery-text-labels-and-annotations-annotation-demo-py"><span class="std std-ref">Annotating Plots</span></a>.</p>
</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="using-connectorpatch">
<h2><a class="toc-backref" href="#id30">Using ConnectorPatch</a><a class="headerlink" href="#using-connectorpatch" title="Permalink to this headline">¶</a></h2>
<p>The ConnectorPatch is like an annotation without text. While the annotate
function is recommended in most situations, the ConnectorPatch is useful when
you want to connect points in different axes.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib.patches</span> <span class="k">import</span> <span class="n">ConnectionPatch</span>
<span class="n">xy</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span>
<span class="n">con</span> <span class="o">=</span> <span class="n">ConnectionPatch</span><span class="p">(</span><span class="n">xyA</span><span class="o">=</span><span class="n">xy</span><span class="p">,</span> <span class="n">xyB</span><span class="o">=</span><span class="n">xy</span><span class="p">,</span> <span class="n">coordsA</span><span class="o">=</span><span class="s2">"data"</span><span class="p">,</span> <span class="n">coordsB</span><span class="o">=</span><span class="s2">"data"</span><span class="p">,</span>
                      <span class="n">axesA</span><span class="o">=</span><span class="n">ax1</span><span class="p">,</span> <span class="n">axesB</span><span class="o">=</span><span class="n">ax2</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">con</span><span class="p">)</span>
</pre></div>
</div>
<p>The above code connects point xy in the data coordinates of <code class="docutils literal"><span class="pre">ax1</span></code> to
point xy in the data coordinates of <code class="docutils literal"><span class="pre">ax2</span></code>. Here is a simple example.</p>
<div class="figure align-center" id="id19">
<a class="reference external image-reference" href="../../gallery/userdemo/connect_simple01.html"><img alt="../../_images/sphx_glr_connect_simple01_0011.png" src="../../_images/sphx_glr_connect_simple01_0011.png" style="width: 300.0px; height: 150.0px;"/></a>
<p class="caption"><span class="caption-text">Connect Simple01</span></p>
</div>
<p>While the ConnectorPatch instance can be added to any axes, you may want to add
it to the axes that is latest in drawing order to prevent overlap by other
axes.</p>
<div class="section" id="advanced-topics">
<h3><a class="toc-backref" href="#id31">Advanced Topics</a><a class="headerlink" href="#advanced-topics" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="zoom-effect-between-axes">
<h2><a class="toc-backref" href="#id32">Zoom effect between Axes</a><a class="headerlink" href="#zoom-effect-between-axes" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">mpl_toolkits.axes_grid1.inset_locator</span></code> defines some patch classes useful
for interconnecting two axes. Understanding the code requires some
knowledge of how mpl’s transform works. But, utilizing it will be
straight forward.</p>
<div class="figure align-center" id="id20">
<a class="reference external image-reference" href="../../gallery/subplots_axes_and_figures/axes_zoom_effect.html"><img alt="../../_images/sphx_glr_axes_zoom_effect_0011.png" src="../../_images/sphx_glr_axes_zoom_effect_0011.png" style="width: 250.0px; height: 250.0px;"/></a>
<p class="caption"><span class="caption-text">Axes Zoom Effect</span></p>
</div>
</div>
<div class="section" id="define-custom-boxstyle">
<h2><a class="toc-backref" href="#id33">Define Custom BoxStyle</a><a class="headerlink" href="#define-custom-boxstyle" title="Permalink to this headline">¶</a></h2>
<p>You can use a custom box style. The value for the <code class="docutils literal"><span class="pre">boxstyle</span></code> can be a
callable object in the following forms.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">mutation_size</span><span class="p">,</span>
             <span class="n">aspect_ratio</span><span class="o">=</span><span class="mf">1.</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    Given the location and size of the box, return the path of</span>
<span class="sd">    the box around it.</span>

<span class="sd">      - *x0*, *y0*, *width*, *height* : location and size of the box</span>
<span class="sd">      - *mutation_size* : a reference scale for the mutation.</span>
<span class="sd">      - *aspect_ratio* : aspect-ratio for the mutation.</span>
<span class="sd">    '''</span>
    <span class="n">path</span> <span class="o">=</span> <span class="o">...</span>
    <span class="k">return</span> <span class="n">path</span>
</pre></div>
</div>
<p>Here is a complete example.</p>
<div class="figure align-center" id="id21">
<a class="reference external image-reference" href="../../gallery/userdemo/custom_boxstyle01.html"><img alt="../../_images/sphx_glr_custom_boxstyle01_0011.png" src="../../_images/sphx_glr_custom_boxstyle01_0011.png" style="width: 150.0px; height: 150.0px;"/></a>
<p class="caption"><span class="caption-text">Custom Boxstyle01</span></p>
</div>
<p>However, it is recommended that you derive from the
matplotlib.patches.BoxStyle._Base as demonstrated below.</p>
<div class="figure align-center" id="id22">
<a class="reference external image-reference" href="../../gallery/userdemo/custom_boxstyle02.html"><img alt="../../_images/sphx_glr_custom_boxstyle02_0011.png" src="../../_images/sphx_glr_custom_boxstyle02_0011.png" style="width: 150.0px; height: 150.0px;"/></a>
<p class="caption"><span class="caption-text">Custom Boxstyle02</span></p>
</div>
<p>Similarly, you can define a custom ConnectionStyle and a custom ArrowStyle.
See the source code of <code class="docutils literal"><span class="pre">lib/matplotlib/patches.py</span></code> and check
how each style class is defined.</p>
<p><strong>Total running time of the script:</strong> ( 0 minutes  0.000 seconds)</p>
<div class="sphx-glr-footer docutils container">
<div class="sphx-glr-download docutils container">
<a class="reference download internal" download="" href="../../_downloads/annotations.py"><code class="xref download docutils literal"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">annotations.py</span></code></a></div>
<div class="sphx-glr-download docutils container">
<a class="reference download internal" download="" href="../../_downloads/annotations.ipynb"><code class="xref download docutils literal"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">annotations.ipynb</span></code></a></div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.readthedocs.io">Gallery generated by Sphinx-Gallery</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="clearer"></div>
</div>
<div class="footer">
        © Copyright 2002 - 2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the Matplotlib development team; 2012 - 2017 The Matplotlib development team.
      Last updated on Oct 13, 2017.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.
    </div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55954603-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
<footer>
<!--Flipcause Integration v3.0// Flipcause Integration Instructions:
Install the following code block once in the website Header (after <head> tag) -->
<style>

.fc-black_overlay{
display:none; position: fixed; z-index:1000001; top: 0%;left: 0%;width: 100%;height: 100%;
background-color: black; filter: alpha(opacity=50); cursor:pointer; opacity:0.5;
}

.fc-white_content {
opacity:1; display:none; margin-top: -320px; margin-left: -485px; width:970px; height:640px;
position:fixed; top:50%; left:50%; border: none;z-index:1000002;overflow: auto;
}

.fc-main-box{
opacity:1; display:none; margin:15px auto 0 auto; width:930px; position:relative; z-index:1000003;
}

.fc-widget_close{
opacity:1; content:url(http://i1338.photobucket.com/albums/o691/WeCause/X_zpse4a7e538.png);
position:absolute; z-index=1000004; right:-16px; top:-16px; display:block; cursor:pointer;
}

.floating_button{
display: block; margin-top: 0px; margin-left: 0px; width:auto ; height: auto;
position:fixed; z-index:999999; overflow: auto;
}

@keyframes backfadesin {
   from { opacity:0; }
   to {opacity:.5;}
}

@-moz-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}

@-webkit-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}

@-o-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}


@-ms-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}

@keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; transform: translateY(20px);}
   100% {opacity: 1; transform: translateY(0);}
}

@-moz-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -moz-transform: translateY(20px);}
   100% {opacity: 1; -moz-transform: translateY(0);}
}

@-webkit-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -webkit-transform: translateY(20px);}
   100% {opacity: 1; -webkit-transform: translateY(0);}
}

@-o-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -o-transform: translateY(20px);}
   100% {opacity: 1; -o-transform: translateY(0);}
}

@-ms-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -ms-transform: translateY(20px);}
   100% {opacity: 1; -ms-transform: translateY(0);}
}

</style>
<script>

function open_window(cause_id) {
var  protocol=String(document.location.protocol);
var new_url;
if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){
new_url="https://www.flipcause.com/widget/"+cause_id
window.open(new_url);
}

else {
document.getElementById("fc-fade").style.display = "block";
document.getElementById("fc-fade").style.webkitAnimation = "backfadesin 1s";
document.getElementById("fc-fade").style.animation = "backfadesin 1s";
document.getElementById("fc-fade").style.mozAnimation = "backfadesin 1s";
document.getElementById("fc-light").style.display = "block";
document.getElementById("fc-light").style.webkitAnimation = "fadesin 1.5s";
document.getElementById("fc-light").style.animation = "fadesin 1.5s";
document.getElementById("fc-light").style.mozAnimation = "fadesin 1.5s";
document.getElementById("fc-main").style.display = "block";
document.getElementById("fc-main").style.webkitAnimation = "fadesin 1.5s";
document.getElementById("fc-main").style.animation = "fadesin 1.5s";
document.getElementById("fc-main").style.mozAnimation = "fadesin 1.5s";
document.getElementById("fc-close").style.display = "block";
document.getElementById("fc-close").style.webkitAnimation = "fadesin 1.5s";
document.getElementById("fc-close").style.animation = "fadesin 1.5s";
document.getElementById("fc-close").style.mozAnimation = "fadesin 1.5s";
document.getElementById("fc-myFrame").style.display = "block";
document.getElementById("fc-myFrame").style.webkitAnimation = "fadesin 1.5s";
document.getElementById("fc-myFrame").style.animation = "fadesin 1.5s";
document.getElementById("fc-myFrame").style.mozAnimation = "fadesin 1.5s";
document.getElementById("fc-myFrame").src="https://www.flipcause.com/widget/"+cause_id;
}
}


function close_window() {
document.getElementById("fc-fade").style.display="none";
document.getElementById("fc-light").style.display="none";
document.getElementById("fc-main").style.display="none";
document.getElementById("fc-close").style.display="none";
document.getElementById("fc-myFrame").style.display="none";
}

</script>
<div class="fc-black_overlay" id="fc-fade" onclick="close_window()"></div>
<div class="fc-white_content" id="fc-light">
<div class="fc-main-box" id="fc-main">
<div class="fc-widget_close" id="fc-close" onclick="close_window()">
</div><iframe height="580" id="fc-myFrame" iframe="" scrolling="no" src="" style="border: 0;
border-radius:5px 5px 5px 5px; box-shadow:0 0 8px rgba(0, 0, 0, 0.5);" width="925"></iframe></div>
</div>
<!--END Flipcause Main Integration Code-->
</footer>
</html>