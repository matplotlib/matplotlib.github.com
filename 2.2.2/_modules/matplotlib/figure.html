<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>matplotlib.figure &mdash; Matplotlib 2.2.2 documentation</title>
    
    <link rel="stylesheet" href="../../_static/mpl.css"
type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css"
type="text/css" />
    <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.2.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 2.2.2 documentation"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html"
/>
    <link rel="search" title="Search" href="../../search.html"
/>
    <link rel="top" title="Matplotlib 2.2.2 documentation" href="../../index.html" />
    <link rel="up" title="matplotlib" href="../matplotlib.html" />
  <link rel="canonical" href="https://matplotlib.org/3.4.3/_modules/matplotlib/figure.html" />



  </head>
  <body>
<div id="unreleased-message"> You are reading an old version of the documentation (v2.2.2).  For the latest version see <a href="/stable/">https://matplotlib.org/stable/</a> </div>



<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px; position: relative;">
<a href="../../index.html">
    <div style="float: left; position: absolute; width: 496px; bottom: 0; padding-bottom: 24px"><span style="float: right; color: #789; background: white">Version 2.2.2</span></div>
    <img src="../../_static/logo2.png" height="125px" border="0" alt="matplotlib"/></a>

<!-- The "Fork me on github" ribbon -->
<div id="forkongithub"><a href="https://github.com/matplotlib/matplotlib">Fork me on GitHub</a></div>
</div>




    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>

        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../gallery/index.html">examples</a>|&nbsp;</li>
        <li><a href="../../tutorials/index.html">tutorials</a>|&nbsp;</li>
        <li><a href="../../api/pyplot_summary.html">pyplot</a>|&nbsp;</li>
        <li><a href="../../contents.html">docs</a> &raquo;</li>
          <li><a href="../index.html" >Module code</a> &raquo;</li>
          <li><a href="../matplotlib.html" accesskey="U">matplotlib</a> &raquo;</li> 
      </ul>
    </div>

  
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../contents.html">Documentation overview</a><ul>
  <li><a href="../index.html">Module code</a><ul>
  <li><a href="../matplotlib.html">matplotlib</a><ul>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
        </div>
      </div>
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for matplotlib.figure</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">The figure module provides the top-level</span>
<span class="sd">:class:`~matplotlib.artist.Artist`, the :class:`Figure`, which</span>
<span class="sd">contains all the plot elements.  The following classes are defined</span>

<span class="sd">:class:`SubplotParams`</span>
<span class="sd">    control the default spacing of the subplots</span>

<span class="sd">:class:`Figure`</span>
<span class="sd">    top level container for all plot elements</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="p">(</span><span class="n">absolute_import</span><span class="p">,</span> <span class="n">division</span><span class="p">,</span> <span class="n">print_function</span><span class="p">,</span>
                        <span class="n">unicode_literals</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">six</span>

<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">warnings</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="k">import</span> <span class="n">rcParams</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="k">import</span> <span class="n">docstring</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="k">import</span> <span class="n">__version__</span> <span class="k">as</span> <span class="n">_mpl_version</span>

<span class="kn">import</span> <span class="nn">matplotlib.artist</span> <span class="k">as</span> <span class="nn">martist</span>
<span class="kn">from</span> <span class="nn">matplotlib.artist</span> <span class="k">import</span> <span class="n">Artist</span><span class="p">,</span> <span class="n">allow_rasterization</span>

<span class="kn">import</span> <span class="nn">matplotlib.cbook</span> <span class="k">as</span> <span class="nn">cbook</span>

<span class="kn">from</span> <span class="nn">matplotlib.cbook</span> <span class="k">import</span> <span class="n">Stack</span><span class="p">,</span> <span class="n">iterable</span>

<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="k">import</span> <span class="n">image</span> <span class="k">as</span> <span class="n">mimage</span>
<span class="kn">from</span> <span class="nn">matplotlib.image</span> <span class="k">import</span> <span class="n">FigureImage</span>

<span class="kn">import</span> <span class="nn">matplotlib.colorbar</span> <span class="k">as</span> <span class="nn">cbar</span>

<span class="kn">from</span> <span class="nn">matplotlib.axes</span> <span class="k">import</span> <span class="n">Axes</span><span class="p">,</span> <span class="n">SubplotBase</span><span class="p">,</span> <span class="n">subplot_class_factory</span>
<span class="kn">from</span> <span class="nn">matplotlib.blocking_input</span> <span class="k">import</span> <span class="n">BlockingMouseInput</span><span class="p">,</span> <span class="n">BlockingKeyMouseInput</span>
<span class="kn">from</span> <span class="nn">matplotlib.gridspec</span> <span class="k">import</span> <span class="n">GridSpec</span>
<span class="kn">import</span> <span class="nn">matplotlib.legend</span> <span class="k">as</span> <span class="nn">mlegend</span>
<span class="kn">from</span> <span class="nn">matplotlib.patches</span> <span class="k">import</span> <span class="n">Rectangle</span>
<span class="kn">from</span> <span class="nn">matplotlib.projections</span> <span class="k">import</span> <span class="p">(</span><span class="n">get_projection_names</span><span class="p">,</span>
                                    <span class="n">process_projection_requirements</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">matplotlib.text</span> <span class="k">import</span> <span class="n">Text</span><span class="p">,</span> <span class="n">_process_text_args</span>
<span class="kn">from</span> <span class="nn">matplotlib.transforms</span> <span class="k">import</span> <span class="p">(</span><span class="n">Affine2D</span><span class="p">,</span> <span class="n">Bbox</span><span class="p">,</span> <span class="n">BboxTransformTo</span><span class="p">,</span>
                                   <span class="n">TransformedBbox</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">matplotlib._layoutbox</span> <span class="k">as</span> <span class="nn">layoutbox</span>
<span class="kn">from</span> <span class="nn">matplotlib.backend_bases</span> <span class="k">import</span> <span class="n">NonGuiException</span>

<span class="n">_log</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="n">docstring</span><span class="o">.</span><span class="n">interpd</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">projection_names</span><span class="o">=</span><span class="n">get_projection_names</span><span class="p">())</span>


<span class="k">def</span> <span class="nf">_stale_figure_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">stale</span> <span class="o">=</span> <span class="n">val</span>


<div class="viewcode-block" id="AxesStack"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.AxesStack.html#matplotlib.figure.AxesStack">[docs]</a><span class="k">class</span> <span class="nc">AxesStack</span><span class="p">(</span><span class="n">Stack</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Specialization of the Stack to handle all tracking of Axes in a Figure.</span>
<span class="sd">    This stack stores ``key, (ind, axes)`` pairs, where:</span>

<span class="sd">        * **key** should be a hash of the args and kwargs</span>
<span class="sd">          used in generating the Axes.</span>
<span class="sd">        * **ind** is a serial number for tracking the order</span>
<span class="sd">          in which axes were added.</span>

<span class="sd">    The AxesStack is a callable, where ``ax_stack()`` returns</span>
<span class="sd">    the current axes. Alternatively the :meth:`current_key_axes` will</span>
<span class="sd">    return the current key and associated axes.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">Stack</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ind</span> <span class="o">=</span> <span class="mi">0</span>

<div class="viewcode-block" id="AxesStack.as_list"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.AxesStack.html#matplotlib.figure.AxesStack.as_list">[docs]</a>    <span class="k">def</span> <span class="nf">as_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a list of the Axes instances that have been added to the figure</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ia_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elements</span><span class="p">]</span>
        <span class="n">ia_list</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">a</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">ia_list</span><span class="p">]</span></div>

<div class="viewcode-block" id="AxesStack.get"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.AxesStack.html#matplotlib.figure.AxesStack.get">[docs]</a>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the Axes instance that was added with *key*.</span>
<span class="sd">        If it is not present, return None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">item</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_elements</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">item</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">cbook</span><span class="o">.</span><span class="n">warn_deprecated</span><span class="p">(</span>
            <span class="s2">&quot;2.1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Adding an axes using the same arguments as a previous axes &quot;</span>
            <span class="s2">&quot;currently reuses the earlier instance.  In a future version, &quot;</span>
            <span class="s2">&quot;a new instance will always be created and returned.  Meanwhile, &quot;</span>
            <span class="s2">&quot;this warning can be suppressed, and the future behavior ensured, &quot;</span>
            <span class="s2">&quot;by passing a unique label to each axes instance.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

    <span class="k">def</span> <span class="nf">_entry_from_axes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="n">ind</span><span class="p">,</span> <span class="n">k</span> <span class="o">=</span> <span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elements</span><span class="p">}[</span><span class="n">e</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>

<div class="viewcode-block" id="AxesStack.remove"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.AxesStack.html#matplotlib.figure.AxesStack.remove">[docs]</a>    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove the axes from the stack.&quot;&quot;&quot;</span>
        <span class="n">Stack</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_entry_from_axes</span><span class="p">(</span><span class="n">a</span><span class="p">))</span></div>

<div class="viewcode-block" id="AxesStack.bubble"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.AxesStack.html#matplotlib.figure.AxesStack.bubble">[docs]</a>    <span class="k">def</span> <span class="nf">bubble</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Move the given axes, which must already exist in the</span>
<span class="sd">        stack, to the top.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Stack</span><span class="o">.</span><span class="n">bubble</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_entry_from_axes</span><span class="p">(</span><span class="n">a</span><span class="p">))</span></div>

<div class="viewcode-block" id="AxesStack.add"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.AxesStack.html#matplotlib.figure.AxesStack.add">[docs]</a>    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add Axes *a*, with key *key*, to the stack, and return the stack.</span>

<span class="sd">        If *key* is unhashable, replace it by a unique, arbitrary object.</span>

<span class="sd">        If *a* is already on the stack, don&#39;t add it again, but</span>
<span class="sd">        return *None*.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># All the error checking may be unnecessary; but this method</span>
        <span class="c1"># is called so seldom that the overhead is negligible.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">Axes</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;second argument, </span><span class="si">{!r}</span><span class="s2">, is not an Axes&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="nb">hash</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="n">key</span> <span class="o">=</span> <span class="nb">object</span><span class="p">()</span>

        <span class="n">a_existing</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">a_existing</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">Stack</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">a_existing</span><span class="p">))</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;key </span><span class="si">{!r}</span><span class="s2"> already existed; Axes is being replaced&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
            <span class="c1"># I don&#39;t think the above should ever happen.</span>

        <span class="k">if</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ind</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">Stack</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ind</span><span class="p">,</span> <span class="n">a</span><span class="p">)))</span></div>

<div class="viewcode-block" id="AxesStack.current_key_axes"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.AxesStack.html#matplotlib.figure.AxesStack.current_key_axes">[docs]</a>    <span class="k">def</span> <span class="nf">current_key_axes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a tuple of ``(key, axes)`` for the active axes.</span>

<span class="sd">        If no axes exists on the stack, then returns ``(None, None)``.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_elements</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">key</span><span class="p">,</span> <span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">axes</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elements</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_pos</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">key</span><span class="p">,</span> <span class="n">axes</span></div>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_key_axes</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">as_list</span><span class="p">()</span></div>


<div class="viewcode-block" id="SubplotParams"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.SubplotParams.html#matplotlib.figure.SubplotParams">[docs]</a><span class="k">class</span> <span class="nc">SubplotParams</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class to hold the parameters for a subplot</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">wspace</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">hspace</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        All dimensions are fraction of the figure width or height.</span>
<span class="sd">        All values default to their rc params</span>

<span class="sd">        The following attributes are available</span>

<span class="sd">        left  : 0.125</span>
<span class="sd">            The left side of the subplots of the figure</span>

<span class="sd">        right : 0.9</span>
<span class="sd">            The right side of the subplots of the figure</span>

<span class="sd">        bottom : 0.1</span>
<span class="sd">            The bottom of the subplots of the figure</span>

<span class="sd">        top : 0.9</span>
<span class="sd">            The top of the subplots of the figure</span>

<span class="sd">        wspace : 0.2</span>
<span class="sd">            The amount of width reserved for space between subplots,</span>
<span class="sd">            expressed as a fraction of the average axis width</span>

<span class="sd">        hspace : 0.2</span>
<span class="sd">            The amount of height reserved for space between subplots,</span>
<span class="sd">            expressed as a fraction of the average axis height</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">validate</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">top</span><span class="p">,</span> <span class="n">wspace</span><span class="p">,</span> <span class="n">hspace</span><span class="p">)</span>

<div class="viewcode-block" id="SubplotParams.update"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.SubplotParams.html#matplotlib.figure.SubplotParams.update">[docs]</a>    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
               <span class="n">wspace</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">hspace</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update the current values.  If any kwarg is None, default to</span>
<span class="sd">        the current value, if set, otherwise to rc</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">thisleft</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">thisright</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">thistop</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">thisbottom</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">thiswspace</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;wspace&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">thishspace</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;hspace&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_update_this</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">left</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_this</span><span class="p">(</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_this</span><span class="p">(</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="n">bottom</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_this</span><span class="p">(</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">top</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_this</span><span class="p">(</span><span class="s1">&#39;wspace&#39;</span><span class="p">,</span> <span class="n">wspace</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_this</span><span class="p">(</span><span class="s1">&#39;hspace&#39;</span><span class="p">,</span> <span class="n">hspace</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">reset</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">thisleft</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">thisright</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">top</span> <span class="o">=</span> <span class="n">thistop</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bottom</span> <span class="o">=</span> <span class="n">thisbottom</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wspace</span> <span class="o">=</span> <span class="n">thiswspace</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hspace</span> <span class="o">=</span> <span class="n">thishspace</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">left</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
                <span class="n">reset</span><span class="p">()</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;left cannot be &gt;= right&#39;</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottom</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="p">:</span>
                <span class="n">reset</span><span class="p">()</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;bottom cannot be &gt;= top&#39;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_update_this</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">key</span> <span class="o">=</span> <span class="s1">&#39;figure.subplot.&#39;</span> <span class="o">+</span> <span class="n">s</span>
                <span class="n">val</span> <span class="o">=</span> <span class="n">rcParams</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

        <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span></div>


<div class="viewcode-block" id="Figure"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure">[docs]</a><span class="k">class</span> <span class="nc">Figure</span><span class="p">(</span><span class="n">Artist</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The Figure instance supports callbacks through a *callbacks* attribute</span>
<span class="sd">    which is a `.CallbackRegistry` instance.  The events you can connect to</span>
<span class="sd">    are &#39;dpi_changed&#39;, and the callback will be called with ``func(fig)`` where</span>
<span class="sd">    fig is the `Figure` instance.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    patch</span>
<span class="sd">        The `.Rectangle` instance representing the figure patch.</span>

<span class="sd">    suppressComposite</span>
<span class="sd">        For multiple figure images, the figure will make composite images</span>
<span class="sd">        depending on the renderer option_image_nocomposite function.  If</span>
<span class="sd">        *suppressComposite* is a boolean, this will override the renderer.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Figure(</span><span class="si">%g</span><span class="s2">x</span><span class="si">%g</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bbox</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;&lt;</span><span class="si">{clsname}</span><span class="s2"> size </span><span class="si">{h:g}</span><span class="s2">x</span><span class="si">{w:g}</span><span class="s2"> with </span><span class="si">{naxes}</span><span class="s2"> Axes&gt;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">clsname</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">h</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bbox</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">w</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bbox</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
            <span class="n">naxes</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">figsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># defaults to rc figure.figsize</span>
                 <span class="n">dpi</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># defaults to rc figure.dpi</span>
                 <span class="n">facecolor</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># defaults to rc figure.facecolor</span>
                 <span class="n">edgecolor</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># defaults to rc figure.edgecolor</span>
                 <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>  <span class="c1"># the default linewidth of the frame</span>
                 <span class="n">frameon</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># whether or not to draw the figure frame</span>
                 <span class="n">subplotpars</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># default to rc</span>
                 <span class="n">tight_layout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># default to rc figure.autolayout</span>
                 <span class="n">constrained_layout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># default to rc</span>
                                          <span class="c1">#figure.constrained_layout.use</span>
                 <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        figsize : 2-tuple of floats</span>
<span class="sd">            ``(width, height)`` tuple in inches</span>

<span class="sd">        dpi : float</span>
<span class="sd">            Dots per inch</span>

<span class="sd">        facecolor</span>
<span class="sd">            The figure patch facecolor; defaults to rc ``figure.facecolor``</span>

<span class="sd">        edgecolor</span>
<span class="sd">            The figure patch edge color; defaults to rc ``figure.edgecolor``</span>

<span class="sd">        linewidth : float</span>
<span class="sd">            The figure patch edge linewidth; the default linewidth of the frame</span>

<span class="sd">        frameon : bool</span>
<span class="sd">            If ``False``, suppress drawing the figure frame</span>

<span class="sd">        subplotpars : :class:`SubplotParams`</span>
<span class="sd">            Subplot parameters, defaults to rc</span>

<span class="sd">        tight_layout : bool</span>
<span class="sd">            If ``False`` use *subplotpars*; if ``True`` adjust subplot</span>
<span class="sd">            parameters using `.tight_layout` with default padding.</span>
<span class="sd">            When providing a dict containing the keys</span>
<span class="sd">            ``pad``, ``w_pad``, ``h_pad``, and ``rect``, the default</span>
<span class="sd">            `.tight_layout` paddings will be overridden.</span>
<span class="sd">            Defaults to rc ``figure.autolayout``.</span>

<span class="sd">        constrained_layout : bool</span>
<span class="sd">            If ``True`` use constrained layout to adjust positioning of plot</span>
<span class="sd">            elements.  Like ``tight_layout``, but designed to be more</span>
<span class="sd">            flexible.  See</span>
<span class="sd">            :doc:`/tutorials/intermediate/constrainedlayout_guide`</span>
<span class="sd">            for examples.  (Note: does not work with :meth:`.subplot` or</span>
<span class="sd">            :meth:`.subplot2grid`.)</span>
<span class="sd">            Defaults to rc ``figure.constrained_layout.use``.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Artist</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># remove the non-figure artist _axes property</span>
        <span class="c1"># as it makes no sense for a figure to be _in_ an axes</span>
        <span class="c1"># this is used by the property methods in the artist base class</span>
        <span class="c1"># which are over-ridden in this class</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_axes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">callbacks</span> <span class="o">=</span> <span class="n">cbook</span><span class="o">.</span><span class="n">CallbackRegistry</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">figsize</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">figsize</span> <span class="o">=</span> <span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">dpi</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">dpi</span> <span class="o">=</span> <span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.dpi&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">facecolor</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">facecolor</span> <span class="o">=</span> <span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.facecolor&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">edgecolor</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">edgecolor</span> <span class="o">=</span> <span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.edgecolor&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">frameon</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">frameon</span> <span class="o">=</span> <span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.frameon&#39;</span><span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">isfinite</span><span class="p">(</span><span class="n">figsize</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;figure size must be finite not &#39;</span>
                             <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">figsize</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bbox_inches</span> <span class="o">=</span> <span class="n">Bbox</span><span class="o">.</span><span class="n">from_bounds</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">*</span><span class="n">figsize</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">dpi_scale_trans</span> <span class="o">=</span> <span class="n">Affine2D</span><span class="p">()</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">dpi</span><span class="p">,</span> <span class="n">dpi</span><span class="p">)</span>
        <span class="c1"># do not use property as it will trigger</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dpi</span> <span class="o">=</span> <span class="n">dpi</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bbox</span> <span class="o">=</span> <span class="n">TransformedBbox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bbox_inches</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dpi_scale_trans</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">frameon</span> <span class="o">=</span> <span class="n">frameon</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">transFigure</span> <span class="o">=</span> <span class="n">BboxTransformTo</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bbox</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">patch</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span>
            <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">facecolor</span><span class="o">=</span><span class="n">facecolor</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="n">edgecolor</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="n">linewidth</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_artist_props</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">patch</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_aa</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_hold</span> <span class="o">=</span> <span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.hold&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hold</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_hold</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_suptitle</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">subplotpars</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">subplotpars</span> <span class="o">=</span> <span class="n">SubplotParams</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">subplotpars</span> <span class="o">=</span> <span class="n">subplotpars</span>
        <span class="c1"># constrained_layout:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_layoutbox</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># set in set_constrained_layout_pads()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_constrained_layout</span><span class="p">(</span><span class="n">constrained_layout</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">set_tight_layout</span><span class="p">(</span><span class="n">tight_layout</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_axstack</span> <span class="o">=</span> <span class="n">AxesStack</span><span class="p">()</span>  <span class="c1"># track all figure axes and current axes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clf</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cachedRenderer</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># groupers to keep track of x and y labels we want to align.</span>
        <span class="c1"># see self.align_xlabels and self.align_ylabels and</span>
        <span class="c1"># axis._get_tick_boxes_siblings</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_align_xlabel_grp</span> <span class="o">=</span> <span class="n">cbook</span><span class="o">.</span><span class="n">Grouper</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_align_ylabel_grp</span> <span class="o">=</span> <span class="n">cbook</span><span class="o">.</span><span class="n">Grouper</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="nd">@cbook</span><span class="o">.</span><span class="n">deprecated</span><span class="p">(</span><span class="s2">&quot;2.1&quot;</span><span class="p">,</span> <span class="n">alternative</span><span class="o">=</span><span class="s2">&quot;Figure.patch&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">figurePatch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">patch</span>

    <span class="c1"># TODO: I&#39;d like to dynamically add the _repr_html_ method</span>
    <span class="c1"># to the figure in the right context, but then IPython doesn&#39;t</span>
    <span class="c1"># use it, for some reason.</span>

    <span class="k">def</span> <span class="nf">_repr_html_</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># We can&#39;t use &quot;isinstance&quot; here, because then we&#39;d end up importing</span>
        <span class="c1"># webagg unconditiionally.</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span>
                <span class="s1">&#39;WebAgg&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">):</span>
            <span class="kn">from</span> <span class="nn">matplotlib.backends</span> <span class="k">import</span> <span class="n">backend_webagg</span>
            <span class="k">return</span> <span class="n">backend_webagg</span><span class="o">.</span><span class="n">ipython_inline_display</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="Figure.show"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.show">[docs]</a>    <span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">warn</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        If using a GUI backend with pyplot, display the figure window.</span>

<span class="sd">        If the figure was not created using</span>
<span class="sd">        :func:`~matplotlib.pyplot.figure`, it will lack a</span>
<span class="sd">        :class:`~matplotlib.backend_bases.FigureManagerBase`, and</span>
<span class="sd">        will raise an AttributeError.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        warm : bool</span>
<span class="sd">            If ``True``, issue warning when called on a non-GUI backend</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        For non-GUI backends, this does nothing, in which case a warning will</span>
<span class="sd">        be issued if *warn* is ``True`` (default).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">manager</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="s1">&#39;manager&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span>
                                 <span class="s2">&quot;Figure.show works only &quot;</span>
                                 <span class="s2">&quot;for figures managed by pyplot, normally &quot;</span>
                                 <span class="s2">&quot;created by pyplot.figure().&quot;</span> <span class="o">%</span> <span class="n">err</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">manager</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">manager</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
                <span class="k">return</span>
            <span class="k">except</span> <span class="n">NonGuiException</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">if</span> <span class="n">warn</span><span class="p">:</span>
            <span class="kn">import</span> <span class="nn">warnings</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;matplotlib is currently using a non-GUI backend, &quot;</span>
                <span class="s2">&quot;so cannot show the figure&quot;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_get_axes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_axstack</span><span class="o">.</span><span class="n">as_list</span><span class="p">()</span>

    <span class="n">axes</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">fget</span><span class="o">=</span><span class="n">_get_axes</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Read-only: list of axes in Figure&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_dpi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dpi</span>

    <span class="k">def</span> <span class="nf">_set_dpi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dpi</span><span class="p">,</span> <span class="n">forward</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        dpi : float</span>

<span class="sd">        forward : bool</span>
<span class="sd">            Passed on to `~.Figure.set_size_inches`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dpi</span> <span class="o">=</span> <span class="n">dpi</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dpi_scale_trans</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">dpi</span><span class="p">,</span> <span class="n">dpi</span><span class="p">)</span>
        <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_size_inches</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">forward</span><span class="o">=</span><span class="n">forward</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">callbacks</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="s1">&#39;dpi_changed&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

    <span class="n">dpi</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_dpi</span><span class="p">,</span> <span class="n">_set_dpi</span><span class="p">)</span>

<div class="viewcode-block" id="Figure.get_tight_layout"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.get_tight_layout">[docs]</a>    <span class="k">def</span> <span class="nf">get_tight_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return whether and how `.tight_layout` is called when drawing.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tight</span></div>

<div class="viewcode-block" id="Figure.set_tight_layout"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.set_tight_layout">[docs]</a>    <span class="k">def</span> <span class="nf">set_tight_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tight</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set whether and how `.tight_layout` is called when drawing.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        tight : bool or dict with keys &quot;pad&quot;, &quot;w_pad&quot;, &quot;h_pad&quot;, &quot;rect&quot; or None</span>
<span class="sd">            If a bool, sets whether to call `.tight_layout` upon drawing.</span>
<span class="sd">            If ``None``, use the ``figure.autolayout`` rcparam instead.</span>
<span class="sd">            If a dict, pass it as kwargs to `.tight_layout`, overriding the</span>
<span class="sd">            default paddings.</span>

<span class="sd">            ..</span>
<span class="sd">                ACCEPTS: [ bool</span>
<span class="sd">                         | dict with keys &quot;pad&quot;, &quot;w_pad&quot;, &quot;h_pad&quot;, &quot;rect&quot;</span>
<span class="sd">                         | None ]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">tight</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">tight</span> <span class="o">=</span> <span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.autolayout&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tight</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">tight</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tight_parameters</span> <span class="o">=</span> <span class="n">tight</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tight</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="k">else</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stale</span> <span class="o">=</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Figure.get_constrained_layout"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.get_constrained_layout">[docs]</a>    <span class="k">def</span> <span class="nf">get_constrained_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a boolean: True means constrained layout is being used.</span>

<span class="sd">        See :doc:`/tutorials/intermediate/constrainedlayout_guide`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_constrained</span></div>

<div class="viewcode-block" id="Figure.set_constrained_layout"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.set_constrained_layout">[docs]</a>    <span class="k">def</span> <span class="nf">set_constrained_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">constrained</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set whether ``constrained_layout`` is used upon drawing. If None,</span>
<span class="sd">        the rcParams[&#39;figure.constrained_layout.use&#39;] value will be used.</span>

<span class="sd">        When providing a dict containing the keys `w_pad`, `h_pad`</span>
<span class="sd">        the default ``constrained_layout`` paddings will be</span>
<span class="sd">        overridden.  These pads are in inches and default to 3.0/72.0.</span>
<span class="sd">        ``w_pad`` is the width padding and ``h_pad`` is the height padding.</span>

<span class="sd">        ACCEPTS: [True | False | dict | None ]</span>

<span class="sd">        See :doc:`/tutorials/intermediate/constrainedlayout_guide`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_constrained_layout_pads</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_constrained_layout_pads</span><span class="p">[</span><span class="s1">&#39;w_pad&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_constrained_layout_pads</span><span class="p">[</span><span class="s1">&#39;h_pad&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_constrained_layout_pads</span><span class="p">[</span><span class="s1">&#39;wspace&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_constrained_layout_pads</span><span class="p">[</span><span class="s1">&#39;hspace&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">constrained</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">constrained</span> <span class="o">=</span> <span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.constrained_layout.use&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_constrained</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">constrained</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">constrained</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_constrained_layout_pads</span><span class="p">(</span><span class="o">**</span><span class="n">constrained</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_constrained_layout_pads</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">stale</span> <span class="o">=</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Figure.set_constrained_layout_pads"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.set_constrained_layout_pads">[docs]</a>    <span class="k">def</span> <span class="nf">set_constrained_layout_pads</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set padding for ``constrained_layout``.  Note the kwargs can be passed</span>
<span class="sd">        as a dictionary ``fig.set_constrained_layout(**paddict)``.</span>

<span class="sd">        See :doc:`/tutorials/intermediate/constrainedlayout_guide`</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        w_pad : scalar</span>
<span class="sd">            Width padding in inches.  This is the pad around axes</span>
<span class="sd">            and is meant to make sure there is enough room for fonts to</span>
<span class="sd">            look good.  Defaults to 3 pts = 0.04167 inches</span>

<span class="sd">        h_pad : scalar</span>
<span class="sd">            Height padding in inches. Defaults to 3 pts.</span>

<span class="sd">        wspace: scalar</span>
<span class="sd">            Width padding between subplots, expressed as a fraction of the</span>
<span class="sd">            subplot width.  The total padding ends up being w_pad + wspace.</span>

<span class="sd">        hspace: scalar</span>
<span class="sd">            Height padding between subplots, expressed as a fraction of the</span>
<span class="sd">            subplot width. The total padding ends up being h_pad + hspace.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">todo</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;w_pad&#39;</span><span class="p">,</span> <span class="s1">&#39;h_pad&#39;</span><span class="p">,</span> <span class="s1">&#39;wspace&#39;</span><span class="p">,</span> <span class="s1">&#39;hspace&#39;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">td</span> <span class="ow">in</span> <span class="n">todo</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">td</span> <span class="ow">in</span> <span class="n">kwargs</span> <span class="ow">and</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">td</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_constrained_layout_pads</span><span class="p">[</span><span class="n">td</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">td</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_constrained_layout_pads</span><span class="p">[</span><span class="n">td</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.constrained_layout.&#39;</span> <span class="o">+</span> <span class="n">td</span><span class="p">])</span></div>

<div class="viewcode-block" id="Figure.get_constrained_layout_pads"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.get_constrained_layout_pads">[docs]</a>    <span class="k">def</span> <span class="nf">get_constrained_layout_pads</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">relative</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get padding for ``constrained_layout``.</span>

<span class="sd">        Returns a list of `w_pad, h_pad` in inches and</span>
<span class="sd">        `wspace` and `hspace` as fractions of the subplot.</span>

<span class="sd">        See :doc:`/tutorials/intermediate/constrainedlayout_guide`</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        relative : boolean</span>
<span class="sd">            If `True`, then convert from inches to figure relative.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">w_pad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_constrained_layout_pads</span><span class="p">[</span><span class="s1">&#39;w_pad&#39;</span><span class="p">]</span>
        <span class="n">h_pad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_constrained_layout_pads</span><span class="p">[</span><span class="s1">&#39;h_pad&#39;</span><span class="p">]</span>
        <span class="n">wspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_constrained_layout_pads</span><span class="p">[</span><span class="s1">&#39;wspace&#39;</span><span class="p">]</span>
        <span class="n">hspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_constrained_layout_pads</span><span class="p">[</span><span class="s1">&#39;hspace&#39;</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">relative</span> <span class="ow">and</span> <span class="p">((</span><span class="n">w_pad</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">h_pad</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)):</span>
            <span class="n">renderer0</span> <span class="o">=</span> <span class="n">layoutbox</span><span class="o">.</span><span class="n">get_renderer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="n">dpi</span> <span class="o">=</span> <span class="n">renderer0</span><span class="o">.</span><span class="n">dpi</span>
            <span class="n">w_pad</span> <span class="o">=</span> <span class="n">w_pad</span> <span class="o">*</span> <span class="n">dpi</span> <span class="o">/</span> <span class="n">renderer0</span><span class="o">.</span><span class="n">width</span>
            <span class="n">h_pad</span> <span class="o">=</span> <span class="n">h_pad</span> <span class="o">*</span> <span class="n">dpi</span> <span class="o">/</span> <span class="n">renderer0</span><span class="o">.</span><span class="n">height</span>

        <span class="k">return</span> <span class="n">w_pad</span><span class="p">,</span> <span class="n">h_pad</span><span class="p">,</span> <span class="n">wspace</span><span class="p">,</span> <span class="n">hspace</span></div>

<div class="viewcode-block" id="Figure.autofmt_xdate"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.autofmt_xdate">[docs]</a>    <span class="k">def</span> <span class="nf">autofmt_xdate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Date ticklabels often overlap, so it is useful to rotate them</span>
<span class="sd">        and right align them.  Also, a common use case is a number of</span>
<span class="sd">        subplots with shared xaxes where the x-axis is date data.  The</span>
<span class="sd">        ticklabels are often long, and it helps to rotate them on the</span>
<span class="sd">        bottom subplot and turn them off on other subplots, as well as</span>
<span class="sd">        turn off xlabels.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bottom : scalar</span>
<span class="sd">            The bottom of the subplots for :meth:`subplots_adjust`</span>

<span class="sd">        rotation : angle in degrees</span>
<span class="sd">            The rotation of the xtick labels</span>

<span class="sd">        ha : string</span>
<span class="sd">            The horizontal alignment of the xticklabels</span>

<span class="sd">        which : {None, &#39;major&#39;, &#39;minor&#39;, &#39;both&#39;}</span>
<span class="sd">            Selects which ticklabels to rotate (default is None which works</span>
<span class="sd">            same as major)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">allsubplots</span> <span class="o">=</span> <span class="nb">all</span><span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="s1">&#39;is_last_row&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(</span><span class="n">which</span><span class="o">=</span><span class="n">which</span><span class="p">):</span>
                <span class="n">label</span><span class="o">.</span><span class="n">set_ha</span><span class="p">(</span><span class="n">ha</span><span class="p">)</span>
                <span class="n">label</span><span class="o">.</span><span class="n">set_rotation</span><span class="p">(</span><span class="n">rotation</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">allsubplots</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_axes</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">ax</span><span class="o">.</span><span class="n">is_last_row</span><span class="p">():</span>
                        <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(</span><span class="n">which</span><span class="o">=</span><span class="n">which</span><span class="p">):</span>
                            <span class="n">label</span><span class="o">.</span><span class="n">set_ha</span><span class="p">(</span><span class="n">ha</span><span class="p">)</span>
                            <span class="n">label</span><span class="o">.</span><span class="n">set_rotation</span><span class="p">(</span><span class="n">rotation</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(</span><span class="n">which</span><span class="o">=</span><span class="n">which</span><span class="p">):</span>
                            <span class="n">label</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">allsubplots</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">bottom</span><span class="o">=</span><span class="n">bottom</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stale</span> <span class="o">=</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Figure.get_children"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.get_children">[docs]</a>    <span class="k">def</span> <span class="nf">get_children</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get a list of artists contained in the figure.&quot;&quot;&quot;</span>
        <span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">patch</span><span class="p">]</span>
        <span class="n">children</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artists</span><span class="p">)</span>
        <span class="n">children</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">)</span>
        <span class="n">children</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">)</span>
        <span class="n">children</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">patches</span><span class="p">)</span>
        <span class="n">children</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="p">)</span>
        <span class="n">children</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="p">)</span>
        <span class="n">children</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">legends</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">children</span></div>

<div class="viewcode-block" id="Figure.contains"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.contains">[docs]</a>    <span class="k">def</span> <span class="nf">contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mouseevent</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test whether the mouse event occurred on the figure.</span>

<span class="sd">        Returns True, {}.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">callable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_contains</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mouseevent</span><span class="p">)</span>
        <span class="n">inside</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bbox</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">mouseevent</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">mouseevent</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">inside</span><span class="p">,</span> <span class="p">{}</span></div>

<div class="viewcode-block" id="Figure.get_window_extent"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.get_window_extent">[docs]</a>    <span class="k">def</span> <span class="nf">get_window_extent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return figure bounding box in display space; arguments are ignored.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">bbox</span></div>

<div class="viewcode-block" id="Figure.suptitle"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.suptitle">[docs]</a>    <span class="k">def</span> <span class="nf">suptitle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add a centered title to the figure.</span>

<span class="sd">        kwargs are :class:`matplotlib.text.Text` properties.  Using figure</span>
<span class="sd">        coordinates, the defaults are:</span>

<span class="sd">          x : 0.5</span>
<span class="sd">            The x location of the text in figure coords</span>

<span class="sd">          y : 0.98</span>
<span class="sd">            The y location of the text in figure coords</span>

<span class="sd">          horizontalalignment : &#39;center&#39;</span>
<span class="sd">            The horizontal alignment of the text</span>

<span class="sd">          verticalalignment : &#39;top&#39;</span>
<span class="sd">            The vertical alignment of the text</span>

<span class="sd">        If the `fontproperties` keyword argument is given then the</span>
<span class="sd">        rcParams defaults for `fontsize` (`figure.titlesize`) and</span>
<span class="sd">        `fontweight` (`figure.titleweight`) will be ignored in favour</span>
<span class="sd">        of the `FontProperties` defaults.</span>

<span class="sd">        A :class:`matplotlib.text.Text` instance is returned.</span>

<span class="sd">        Example::</span>

<span class="sd">          fig.suptitle(&#39;this is the figure title&#39;, fontsize=12)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="mf">0.98</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;horizontalalignment&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="s1">&#39;ha&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">):</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;horizontalalignment&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;center&#39;</span>
        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;verticalalignment&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="s1">&#39;va&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">):</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;verticalalignment&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;top&#39;</span>

        <span class="k">if</span> <span class="s1">&#39;fontproperties&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="k">if</span> <span class="s1">&#39;fontsize&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span> <span class="ow">and</span> <span class="s1">&#39;size&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.titlesize&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="s1">&#39;fontweight&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span> <span class="ow">and</span> <span class="s1">&#39;weight&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.titleweight&#39;</span><span class="p">]</span>

        <span class="n">sup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_suptitle</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_suptitle</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_suptitle</span><span class="o">.</span><span class="n">set_position</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_suptitle</span><span class="o">.</span><span class="n">update_from</span><span class="p">(</span><span class="n">sup</span><span class="p">)</span>
            <span class="n">sup</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_suptitle</span> <span class="o">=</span> <span class="n">sup</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_layoutbox</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># assign a layout box to the suptitle...</span>
            <span class="n">figlb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_layoutbox</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_suptitle</span><span class="o">.</span><span class="n">_layoutbox</span> <span class="o">=</span> <span class="n">layoutbox</span><span class="o">.</span><span class="n">LayoutBox</span><span class="p">(</span>
                                            <span class="n">parent</span><span class="o">=</span><span class="n">figlb</span><span class="p">,</span>
                                            <span class="n">name</span><span class="o">=</span><span class="n">figlb</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;.suptitle&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">figlb</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">child</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_suptitle</span><span class="o">.</span><span class="n">_layoutbox</span><span class="p">):</span>
                    <span class="n">w_pad</span><span class="p">,</span> <span class="n">h_pad</span><span class="p">,</span> <span class="n">wspace</span><span class="p">,</span> <span class="n">hspace</span> <span class="o">=</span>  \
                            <span class="bp">self</span><span class="o">.</span><span class="n">get_constrained_layout_pads</span><span class="p">(</span>
                                    <span class="n">relative</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                    <span class="n">layoutbox</span><span class="o">.</span><span class="n">vstack</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">_suptitle</span><span class="o">.</span><span class="n">_layoutbox</span><span class="p">,</span> <span class="n">child</span><span class="p">],</span>
                                     <span class="n">padding</span><span class="o">=</span><span class="n">h_pad</span><span class="o">*</span><span class="mf">2.</span><span class="p">,</span> <span class="n">strength</span><span class="o">=</span><span class="s1">&#39;required&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stale</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_suptitle</span></div>

<div class="viewcode-block" id="Figure.set_canvas"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.set_canvas">[docs]</a>    <span class="k">def</span> <span class="nf">set_canvas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">canvas</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the canvas that contains the figure</span>

<span class="sd">        ACCEPTS: a FigureCanvas instance</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="n">canvas</span></div>

<div class="viewcode-block" id="Figure.hold"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.hold">[docs]</a>    <span class="nd">@cbook</span><span class="o">.</span><span class="n">deprecated</span><span class="p">(</span><span class="s2">&quot;2.0&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">hold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the hold state.  If hold is None (default), toggle the</span>
<span class="sd">        hold state.  Else set the hold state to boolean value b.</span>

<span class="sd">        e.g.::</span>

<span class="sd">            hold()      # toggle hold</span>
<span class="sd">            hold(True)  # hold is on</span>
<span class="sd">            hold(False) # hold is off</span>

<span class="sd">        All &quot;hold&quot; machinery is deprecated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">b</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_hold</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hold</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_hold</span> <span class="o">=</span> <span class="n">b</span></div>

<div class="viewcode-block" id="Figure.figimage"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.figimage">[docs]</a>    <span class="k">def</span> <span class="nf">figimage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span>
                 <span class="n">xo</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                 <span class="n">yo</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                 <span class="n">alpha</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">norm</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">cmap</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">vmin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">vmax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">origin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">resize</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a non-resampled image to the figure.</span>

<span class="sd">        call signatures::</span>

<span class="sd">          figimage(X, **kwargs)</span>

<span class="sd">        adds a non-resampled array *X* to the figure.</span>

<span class="sd">        ::</span>

<span class="sd">          figimage(X, xo, yo)</span>

<span class="sd">        with pixel offsets *xo*, *yo*,</span>

<span class="sd">        *X* must be a float array:</span>

<span class="sd">        * If *X* is MxN, assume luminance (grayscale)</span>
<span class="sd">        * If *X* is MxNx3, assume RGB</span>
<span class="sd">        * If *X* is MxNx4, assume RGBA</span>

<span class="sd">        Optional keyword arguments:</span>

<span class="sd">          =========   =========================================================</span>
<span class="sd">          Keyword     Description</span>
<span class="sd">          =========   =========================================================</span>
<span class="sd">          resize      a boolean, True or False. If &quot;True&quot;, then re-size the</span>
<span class="sd">                      Figure to match the given image size.</span>
<span class="sd">          xo or yo    An integer, the *x* and *y* image offset in pixels</span>
<span class="sd">          cmap        a :class:`matplotlib.colors.Colormap` instance, e.g.,</span>
<span class="sd">                      cm.jet. If *None*, default to the rc ``image.cmap``</span>
<span class="sd">                      value</span>
<span class="sd">          norm        a :class:`matplotlib.colors.Normalize` instance. The</span>
<span class="sd">                      default is normalization().  This scales luminance -&gt; 0-1</span>
<span class="sd">          vmin|vmax   are used to scale a luminance image to 0-1.  If either</span>
<span class="sd">                      is *None*, the min and max of the luminance values will</span>
<span class="sd">                      be used.  Note if you pass a norm instance, the settings</span>
<span class="sd">                      for *vmin* and *vmax* will be ignored.</span>
<span class="sd">          alpha       the alpha blending value, default is *None*</span>
<span class="sd">          origin      [ &#39;upper&#39; | &#39;lower&#39; ] Indicates where the [0,0] index of</span>
<span class="sd">                      the array is in the upper left or lower left corner of</span>
<span class="sd">                      the axes. Defaults to the rc image.origin value</span>
<span class="sd">          =========   =========================================================</span>

<span class="sd">        figimage complements the axes image</span>
<span class="sd">        (:meth:`~matplotlib.axes.Axes.imshow`) which will be resampled</span>
<span class="sd">        to fit the current axes.  If you want a resampled image to</span>
<span class="sd">        fill the entire figure, you can define an</span>
<span class="sd">        :class:`~matplotlib.axes.Axes` with extent [0,0,1,1].</span>

<span class="sd">        An :class:`matplotlib.image.FigureImage` instance is returned.</span>

<span class="sd">        Additional kwargs are Artist kwargs passed on to</span>
<span class="sd">        :class:`~matplotlib.image.FigureImage`</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hold</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clf</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">resize</span><span class="p">:</span>
            <span class="n">dpi</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_dpi</span><span class="p">()</span>
            <span class="n">figsize</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">/</span> <span class="n">dpi</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="n">figsize</span><span class="p">,</span> <span class="n">forward</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">im</span> <span class="o">=</span> <span class="n">FigureImage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmap</span><span class="p">,</span> <span class="n">norm</span><span class="p">,</span> <span class="n">xo</span><span class="p">,</span> <span class="n">yo</span><span class="p">,</span> <span class="n">origin</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">im</span><span class="o">.</span><span class="n">stale_callback</span> <span class="o">=</span> <span class="n">_stale_figure_callback</span>

        <span class="n">im</span><span class="o">.</span><span class="n">set_array</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
        <span class="n">im</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="n">alpha</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">norm</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">im</span><span class="o">.</span><span class="n">set_clim</span><span class="p">(</span><span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">im</span><span class="p">)</span>
        <span class="n">im</span><span class="o">.</span><span class="n">_remove_method</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">h</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stale</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="n">im</span></div>

<div class="viewcode-block" id="Figure.set_size_inches"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.set_size_inches">[docs]</a>    <span class="k">def</span> <span class="nf">set_size_inches</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">forward</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the figure size in inches (1in == 2.54cm)</span>

<span class="sd">        Usage ::</span>

<span class="sd">             fig.set_size_inches(w, h)  # OR</span>
<span class="sd">             fig.set_size_inches((w, h))</span>

<span class="sd">        optional kwarg *forward=True* will cause the canvas size to be</span>
<span class="sd">        automatically updated; e.g., you can resize the figure window</span>
<span class="sd">        from the shell</span>

<span class="sd">        ACCEPTS: a w, h tuple with w, h in inches</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        matplotlib.Figure.get_size_inches</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># the width and height have been passed in as a tuple to the first</span>
        <span class="c1"># argument, so unpack them</span>
        <span class="k">if</span> <span class="n">h</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">w</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">isfinite</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;figure size must be finite not &#39;</span>
                             <span class="s1">&#39;(</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bbox_inches</span><span class="o">.</span><span class="n">p1</span> <span class="o">=</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span>

        <span class="k">if</span> <span class="n">forward</span><span class="p">:</span>
            <span class="n">canvas</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;canvas&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">canvas</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ratio</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="s1">&#39;_dpi_ratio&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">dpival</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dpi</span> <span class="o">/</span> <span class="n">ratio</span>
                <span class="n">canvasw</span> <span class="o">=</span> <span class="n">w</span> <span class="o">*</span> <span class="n">dpival</span>
                <span class="n">canvash</span> <span class="o">=</span> <span class="n">h</span> <span class="o">*</span> <span class="n">dpival</span>
                <span class="n">manager</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="s1">&#39;manager&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">manager</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">manager</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">canvasw</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">canvash</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stale</span> <span class="o">=</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Figure.get_size_inches"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.get_size_inches">[docs]</a>    <span class="k">def</span> <span class="nf">get_size_inches</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the current size of the figure in inches (1in == 2.54cm)</span>
<span class="sd">        as an numpy array.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        size : ndarray</span>
<span class="sd">           The size of the figure in inches</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        matplotlib.Figure.set_size_inches</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bbox_inches</span><span class="o">.</span><span class="n">p1</span><span class="p">)</span></div>

<div class="viewcode-block" id="Figure.get_edgecolor"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.get_edgecolor">[docs]</a>    <span class="k">def</span> <span class="nf">get_edgecolor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the edge color of the Figure rectangle.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">get_edgecolor</span><span class="p">()</span></div>

<div class="viewcode-block" id="Figure.get_facecolor"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.get_facecolor">[docs]</a>    <span class="k">def</span> <span class="nf">get_facecolor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the face color of the Figure rectangle.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">get_facecolor</span><span class="p">()</span></div>

<div class="viewcode-block" id="Figure.get_figwidth"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.get_figwidth">[docs]</a>    <span class="k">def</span> <span class="nf">get_figwidth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the figwidth as a float.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">bbox_inches</span><span class="o">.</span><span class="n">width</span></div>

<div class="viewcode-block" id="Figure.get_figheight"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.get_figheight">[docs]</a>    <span class="k">def</span> <span class="nf">get_figheight</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the figheight as a float.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">bbox_inches</span><span class="o">.</span><span class="n">height</span></div>

<div class="viewcode-block" id="Figure.get_dpi"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.get_dpi">[docs]</a>    <span class="k">def</span> <span class="nf">get_dpi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the dpi as a float.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dpi</span></div>

<div class="viewcode-block" id="Figure.get_frameon"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.get_frameon">[docs]</a>    <span class="k">def</span> <span class="nf">get_frameon</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the boolean indicating frameon.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">frameon</span></div>

<div class="viewcode-block" id="Figure.set_edgecolor"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.set_edgecolor">[docs]</a>    <span class="k">def</span> <span class="nf">set_edgecolor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the edge color of the Figure rectangle</span>

<span class="sd">        ACCEPTS: any matplotlib color - see help(colors)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_edgecolor</span><span class="p">(</span><span class="n">color</span><span class="p">)</span></div>

<div class="viewcode-block" id="Figure.set_facecolor"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.set_facecolor">[docs]</a>    <span class="k">def</span> <span class="nf">set_facecolor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the face color of the Figure rectangle</span>

<span class="sd">        ACCEPTS: any matplotlib color - see help(colors)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="n">color</span><span class="p">)</span></div>

<div class="viewcode-block" id="Figure.set_dpi"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.set_dpi">[docs]</a>    <span class="k">def</span> <span class="nf">set_dpi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the dots-per-inch of the figure</span>

<span class="sd">        ACCEPTS: float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dpi</span> <span class="o">=</span> <span class="n">val</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stale</span> <span class="o">=</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Figure.set_figwidth"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.set_figwidth">[docs]</a>    <span class="k">def</span> <span class="nf">set_figwidth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">forward</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the width of the figure in inches</span>

<span class="sd">        ACCEPTS: float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_figheight</span><span class="p">(),</span> <span class="n">forward</span><span class="o">=</span><span class="n">forward</span><span class="p">)</span></div>

<div class="viewcode-block" id="Figure.set_figheight"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.set_figheight">[docs]</a>    <span class="k">def</span> <span class="nf">set_figheight</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">forward</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the height of the figure in inches</span>

<span class="sd">        ACCEPTS: float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_figwidth</span><span class="p">(),</span> <span class="n">val</span><span class="p">,</span> <span class="n">forward</span><span class="o">=</span><span class="n">forward</span><span class="p">)</span></div>

<div class="viewcode-block" id="Figure.set_frameon"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.set_frameon">[docs]</a>    <span class="k">def</span> <span class="nf">set_frameon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set whether the figure frame (background) is displayed or invisible</span>

<span class="sd">        ACCEPTS: boolean</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frameon</span> <span class="o">=</span> <span class="n">b</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stale</span> <span class="o">=</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Figure.delaxes"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.delaxes">[docs]</a>    <span class="k">def</span> <span class="nf">delaxes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ax</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Remove the `.Axes` *ax* from the figure and update the current axes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_axstack</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">func</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_axobservers</span><span class="p">:</span>
            <span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stale</span> <span class="o">=</span> <span class="kc">True</span></div>

    <span class="k">def</span> <span class="nf">_make_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Make a hashable key out of args and kwargs.&quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">fixitems</span><span class="p">(</span><span class="n">items</span><span class="p">):</span>
            <span class="c1"># items may have arrays and lists in them, so convert them</span>
            <span class="c1"># to tuples for the key</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
                <span class="c1"># some objects can define __getitem__ without being</span>
                <span class="c1"># iterable and in those cases the conversion to tuples</span>
                <span class="c1"># will fail. So instead of using the iterable(v) function</span>
                <span class="c1"># we simply try and convert to a tuple, and proceed if not.</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">v</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                    <span class="k">pass</span>
                <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">fixlist</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">iterable</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
                    <span class="n">a</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
                <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
            <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>

        <span class="n">key</span> <span class="o">=</span> <span class="n">fixlist</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="n">fixitems</span><span class="p">(</span><span class="n">six</span><span class="o">.</span><span class="n">iteritems</span><span class="p">(</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">key</span>

<div class="viewcode-block" id="Figure.add_axes"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.add_axes">[docs]</a>    <span class="k">def</span> <span class="nf">add_axes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add an axes at position *rect* [*left*, *bottom*, *width*,</span>
<span class="sd">        *height*] where all quantities are in fractions of figure</span>
<span class="sd">        width and height.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        rect : sequence of float</span>
<span class="sd">            A 4-length sequence of [left, bottom, width, height] quantities.</span>

<span class="sd">        projection :</span>
<span class="sd">            [&#39;aitoff&#39; | &#39;hammer&#39; | &#39;lambert&#39; | &#39;mollweide&#39; | \</span>
<span class="sd">&#39;polar&#39; | &#39;rectilinear&#39;], optional</span>
<span class="sd">            The projection type of the axes.</span>

<span class="sd">        polar : boolean, optional</span>
<span class="sd">            If True, equivalent to projection=&#39;polar&#39;.</span>

<span class="sd">        **kwargs</span>
<span class="sd">            This method also takes the keyword arguments for</span>
<span class="sd">            :class:`~matplotlib.axes.Axes`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        axes : Axes</span>
<span class="sd">            The added axes.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        A simple example::</span>

<span class="sd">            rect = l,b,w,h</span>
<span class="sd">            fig.add_axes(rect)</span>
<span class="sd">            fig.add_axes(rect, frameon=False, facecolor=&#39;g&#39;)</span>
<span class="sd">            fig.add_axes(rect, polar=True)</span>
<span class="sd">            fig.add_axes(rect, projection=&#39;polar&#39;)</span>
<span class="sd">            fig.add_axes(ax)</span>

<span class="sd">        If the figure already has an axes with the same parameters, then it</span>
<span class="sd">        will simply make that axes current and return it.  This behavior</span>
<span class="sd">        has been deprecated as of Matplotlib 2.1.  Meanwhile, if you do</span>
<span class="sd">        not want this behavior (i.e., you want to force the creation of a</span>
<span class="sd">        new Axes), you must use a unique set of args and kwargs.  The axes</span>
<span class="sd">        :attr:`~matplotlib.axes.Axes.label` attribute has been exposed for this</span>
<span class="sd">        purpose: if you want two axes that are otherwise identical to be added</span>
<span class="sd">        to the figure, make sure you give them unique labels::</span>

<span class="sd">            fig.add_axes(rect, label=&#39;axes1&#39;)</span>
<span class="sd">            fig.add_axes(rect, label=&#39;axes2&#39;)</span>

<span class="sd">        In rare circumstances, add_axes may be called with a single</span>
<span class="sd">        argument, an Axes instance already created in the present</span>
<span class="sd">        figure but not in the figure&#39;s list of axes.  For example,</span>
<span class="sd">        if an axes has been removed with :meth:`delaxes`, it can</span>
<span class="sd">        be restored with::</span>

<span class="sd">            fig.add_axes(ax)</span>

<span class="sd">        In all cases, the :class:`~matplotlib.axes.Axes` instance</span>
<span class="sd">        will be returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
            <span class="k">return</span>

        <span class="c1"># shortcut the projection &quot;key&quot; modifications later on, if an axes</span>
        <span class="c1"># with the exact args/kwargs exists, return it immediately.</span>
        <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_key</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_axstack</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ax</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sca</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">ax</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Axes</span><span class="p">):</span>
            <span class="n">a</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">a</span><span class="o">.</span><span class="n">get_figure</span><span class="p">()</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;The Axes must have been created in the present figure&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rect</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">isfinite</span><span class="p">(</span><span class="n">rect</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;all entries in rect must be finite &#39;</span>
                                 <span class="s1">&#39;not </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">rect</span><span class="p">))</span>
            <span class="n">projection_class</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">,</span> <span class="n">key</span> <span class="o">=</span> <span class="n">process_projection_requirements</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

            <span class="c1"># check that an axes of this type doesn&#39;t already exist, if it</span>
            <span class="c1"># does, set it as active and return it</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_axstack</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">projection_class</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sca</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">ax</span>

            <span class="c1"># create the new axes using the axes class given</span>
            <span class="n">a</span> <span class="o">=</span> <span class="n">projection_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rect</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_axstack</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sca</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
        <span class="n">a</span><span class="o">.</span><span class="n">_remove_method</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__remove_ax</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stale</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">a</span><span class="o">.</span><span class="n">stale_callback</span> <span class="o">=</span> <span class="n">_stale_figure_callback</span>
        <span class="k">return</span> <span class="n">a</span></div>

<div class="viewcode-block" id="Figure.add_subplot"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.add_subplot">[docs]</a>    <span class="k">def</span> <span class="nf">add_subplot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add a subplot.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        *args</span>
<span class="sd">            Either a 3-digit integer or three separate integers</span>
<span class="sd">            describing the position of the subplot. If the three</span>
<span class="sd">            integers are R, C, and P in order, the subplot will take</span>
<span class="sd">            the Pth position on a grid with R rows and C columns.</span>

<span class="sd">        projection : [&#39;aitoff&#39; | &#39;hammer&#39; | &#39;lambert&#39; | \</span>
<span class="sd">&#39;mollweide&#39; | &#39;polar&#39; | &#39;rectilinear&#39;], optional</span>
<span class="sd">            The projection type of the axes.</span>

<span class="sd">        polar : boolean, optional</span>
<span class="sd">            If True, equivalent to projection=&#39;polar&#39;.</span>

<span class="sd">        **kwargs</span>
<span class="sd">            This method also takes the keyword arguments for</span>
<span class="sd">            :class:`~matplotlib.axes.Axes`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        axes : Axes</span>
<span class="sd">            The axes of the subplot.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        If the figure already has a subplot with key (*args*,</span>
<span class="sd">        *kwargs*) then it will simply make that subplot current and</span>
<span class="sd">        return it.  This behavior is deprecated.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        ::</span>

<span class="sd">            fig.add_subplot(111)</span>

<span class="sd">            # equivalent but more general</span>
<span class="sd">            fig.add_subplot(1, 1, 1)</span>

<span class="sd">            # add subplot with red background</span>
<span class="sd">            fig.add_subplot(212, facecolor=&#39;r&#39;)</span>

<span class="sd">            # add a polar subplot</span>
<span class="sd">            fig.add_subplot(111, projection=&#39;polar&#39;)</span>

<span class="sd">            # add Subplot instance sub</span>
<span class="sd">            fig.add_subplot(sub)</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        matplotlib.pyplot.subplot : for an explanation of the args.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="mi">100</span> <span class="o">&lt;=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">999</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Integer subplot specification must be a &quot;</span>
                                 <span class="s2">&quot;three-digit number, not </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
            <span class="n">args</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">SubplotBase</span><span class="p">):</span>

            <span class="n">a</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">a</span><span class="o">.</span><span class="n">get_figure</span><span class="p">()</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;The Subplot must have been created in the present figure&quot;</span><span class="p">)</span>
            <span class="c1"># make a key for the subplot (which includes the axes object id</span>
            <span class="c1"># in the hash)</span>
            <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_key</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">projection_class</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">,</span> <span class="n">key</span> <span class="o">=</span> <span class="n">process_projection_requirements</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

            <span class="c1"># try to find the axes with this key in the stack</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_axstack</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">ax</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">projection_class</span><span class="p">):</span>
                    <span class="c1"># the axes already existed, so set it as active &amp; return</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">sca</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
                    <span class="k">return</span> <span class="n">ax</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># Undocumented convenience behavior:</span>
                    <span class="c1"># subplot(111); subplot(111, projection=&#39;polar&#39;)</span>
                    <span class="c1"># will replace the first with the second.</span>
                    <span class="c1"># Without this, add_subplot would be simpler and</span>
                    <span class="c1"># more similar to add_axes.</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_axstack</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>

            <span class="n">a</span> <span class="o">=</span> <span class="n">subplot_class_factory</span><span class="p">(</span><span class="n">projection_class</span><span class="p">)(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_axstack</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sca</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
        <span class="n">a</span><span class="o">.</span><span class="n">_remove_method</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__remove_ax</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stale</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">a</span><span class="o">.</span><span class="n">stale_callback</span> <span class="o">=</span> <span class="n">_stale_figure_callback</span>
        <span class="k">return</span> <span class="n">a</span></div>

<div class="viewcode-block" id="Figure.subplots"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.subplots">[docs]</a>    <span class="k">def</span> <span class="nf">subplots</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">squeeze</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">subplot_kw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">gridspec_kw</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add a set of subplots to this figure.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        nrows, ncols : int, default: 1</span>
<span class="sd">            Number of rows/cols of the subplot grid.</span>

<span class="sd">        sharex, sharey : bool or {&#39;none&#39;, &#39;all&#39;, &#39;row&#39;, &#39;col&#39;}, default: False</span>
<span class="sd">            Controls sharing of properties among x (`sharex`) or y (`sharey`)</span>
<span class="sd">            axes:</span>

<span class="sd">                - True or &#39;all&#39;: x- or y-axis will be shared among all</span>
<span class="sd">                  subplots.</span>
<span class="sd">                - False or &#39;none&#39;: each subplot x- or y-axis will be</span>
<span class="sd">                  independent.</span>
<span class="sd">                - &#39;row&#39;: each subplot row will share an x- or y-axis.</span>
<span class="sd">                - &#39;col&#39;: each subplot column will share an x- or y-axis.</span>

<span class="sd">            When subplots have a shared x-axis along a column, only the x tick</span>
<span class="sd">            labels of the bottom subplot are visible.  Similarly, when</span>
<span class="sd">            subplots have a shared y-axis along a row, only the y tick labels</span>
<span class="sd">            of the first column subplot are visible.</span>

<span class="sd">        squeeze : bool, default: True</span>
<span class="sd">            - If True, extra dimensions are squeezed out from the returned</span>
<span class="sd">              axis object:</span>

<span class="sd">                - if only one subplot is constructed (nrows=ncols=1), the</span>
<span class="sd">                  resulting single Axes object is returned as a scalar.</span>
<span class="sd">                - for Nx1 or 1xN subplots, the returned object is a 1D numpy</span>
<span class="sd">                  object array of Axes objects are returned as numpy 1D</span>
<span class="sd">                  arrays.</span>
<span class="sd">                - for NxM, subplots with N&gt;1 and M&gt;1 are returned as a 2D</span>
<span class="sd">                  arrays.</span>

<span class="sd">            - If False, no squeezing at all is done: the returned Axes object</span>
<span class="sd">              is always a 2D array containing Axes instances, even if it ends</span>
<span class="sd">              up being 1x1.</span>

<span class="sd">        subplot_kw : dict, default: {}</span>
<span class="sd">            Dict with keywords passed to the</span>
<span class="sd">            :meth:`~matplotlib.figure.Figure.add_subplot` call used to create</span>
<span class="sd">            each subplots.</span>

<span class="sd">        gridspec_kw : dict, default: {}</span>
<span class="sd">            Dict with keywords passed to the</span>
<span class="sd">            :class:`~matplotlib.gridspec.GridSpec` constructor used to create</span>
<span class="sd">            the grid the subplots are placed on.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        ax : single Axes object or array of Axes objects</span>
<span class="sd">            The added axes.  The dimensions of the resulting array can be</span>
<span class="sd">            controlled with the squeeze keyword, see above.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        pyplot.subplots : pyplot API; docstring includes examples.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># for backwards compatibility</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sharex</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="n">sharex</span> <span class="o">=</span> <span class="s2">&quot;all&quot;</span> <span class="k">if</span> <span class="n">sharex</span> <span class="k">else</span> <span class="s2">&quot;none&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sharey</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="n">sharey</span> <span class="o">=</span> <span class="s2">&quot;all&quot;</span> <span class="k">if</span> <span class="n">sharey</span> <span class="k">else</span> <span class="s2">&quot;none&quot;</span>
        <span class="n">share_values</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="s2">&quot;row&quot;</span><span class="p">,</span> <span class="s2">&quot;col&quot;</span><span class="p">,</span> <span class="s2">&quot;none&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">sharex</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">share_values</span><span class="p">:</span>
            <span class="c1"># This check was added because it is very easy to type</span>
            <span class="c1"># `subplots(1, 2, 1)` when `subplot(1, 2, 1)` was intended.</span>
            <span class="c1"># In most cases, no error will ever occur, but mysterious behavior</span>
            <span class="c1"># will result because what was intended to be the subplot index is</span>
            <span class="c1"># instead treated as a bool for sharex.</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sharex</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                    <span class="s2">&quot;sharex argument to subplots() was an integer. &quot;</span>
                    <span class="s2">&quot;Did you intend to use subplot() (without &#39;s&#39;)?&quot;</span><span class="p">)</span>

            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;sharex [</span><span class="si">%s</span><span class="s2">] must be one of </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span>
                             <span class="p">(</span><span class="n">sharex</span><span class="p">,</span> <span class="n">share_values</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">sharey</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">share_values</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;sharey [</span><span class="si">%s</span><span class="s2">] must be one of </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span>
                             <span class="p">(</span><span class="n">sharey</span><span class="p">,</span> <span class="n">share_values</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">subplot_kw</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">subplot_kw</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">gridspec_kw</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">gridspec_kw</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_constrained_layout</span><span class="p">():</span>
            <span class="n">gs</span> <span class="o">=</span> <span class="n">GridSpec</span><span class="p">(</span><span class="n">nrows</span><span class="p">,</span> <span class="n">ncols</span><span class="p">,</span> <span class="n">figure</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">gridspec_kw</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># this should turn constrained_layout off if we don&#39;t want it</span>
            <span class="n">gs</span> <span class="o">=</span> <span class="n">GridSpec</span><span class="p">(</span><span class="n">nrows</span><span class="p">,</span> <span class="n">ncols</span><span class="p">,</span> <span class="n">figure</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">gridspec_kw</span><span class="p">)</span>

        <span class="c1"># Create array to hold all axes.</span>
        <span class="n">axarr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="n">nrows</span><span class="p">,</span> <span class="n">ncols</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nrows</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">ncols</span><span class="p">):</span>
                <span class="n">shared_with</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;none&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;all&quot;</span><span class="p">:</span> <span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                               <span class="s2">&quot;row&quot;</span><span class="p">:</span> <span class="n">axarr</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;col&quot;</span><span class="p">:</span> <span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">col</span><span class="p">]}</span>
                <span class="n">subplot_kw</span><span class="p">[</span><span class="s2">&quot;sharex&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shared_with</span><span class="p">[</span><span class="n">sharex</span><span class="p">]</span>
                <span class="n">subplot_kw</span><span class="p">[</span><span class="s2">&quot;sharey&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shared_with</span><span class="p">[</span><span class="n">sharey</span><span class="p">]</span>
                <span class="n">axarr</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">],</span> <span class="o">**</span><span class="n">subplot_kw</span><span class="p">)</span>

        <span class="c1"># turn off redundant tick labeling</span>
        <span class="k">if</span> <span class="n">sharex</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;col&quot;</span><span class="p">,</span> <span class="s2">&quot;all&quot;</span><span class="p">]:</span>
            <span class="c1"># turn off all but the bottom row</span>
            <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">axarr</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">:]</span><span class="o">.</span><span class="n">flat</span><span class="p">:</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_tick_params</span><span class="p">(</span><span class="n">which</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span>
                                         <span class="n">labelbottom</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">labeltop</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">offsetText</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">sharey</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;row&quot;</span><span class="p">,</span> <span class="s2">&quot;all&quot;</span><span class="p">]:</span>
            <span class="c1"># turn off all but the first column</span>
            <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">axarr</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">flat</span><span class="p">:</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_tick_params</span><span class="p">(</span><span class="n">which</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span>
                                         <span class="n">labelleft</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">labelright</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">offsetText</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">squeeze</span><span class="p">:</span>
            <span class="c1"># Discarding unneeded dimensions that equal 1.  If we only have one</span>
            <span class="c1"># subplot, just return it instead of a 1-element array.</span>
            <span class="k">return</span> <span class="n">axarr</span><span class="o">.</span><span class="n">item</span><span class="p">()</span> <span class="k">if</span> <span class="n">axarr</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">axarr</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Returned axis array will be always 2-d, even if nrows=ncols=1.</span>
            <span class="k">return</span> <span class="n">axarr</span></div>

    <span class="k">def</span> <span class="nf">__remove_ax</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ax</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">_reset_loc_form</span><span class="p">(</span><span class="n">axis</span><span class="p">):</span>
            <span class="n">axis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">axis</span><span class="o">.</span><span class="n">get_major_formatter</span><span class="p">())</span>
            <span class="n">axis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">axis</span><span class="o">.</span><span class="n">get_major_locator</span><span class="p">())</span>
            <span class="n">axis</span><span class="o">.</span><span class="n">set_minor_formatter</span><span class="p">(</span><span class="n">axis</span><span class="o">.</span><span class="n">get_minor_formatter</span><span class="p">())</span>
            <span class="n">axis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">axis</span><span class="o">.</span><span class="n">get_minor_locator</span><span class="p">())</span>

        <span class="k">def</span> <span class="nf">_break_share_link</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">grouper</span><span class="p">):</span>
            <span class="n">siblings</span> <span class="o">=</span> <span class="n">grouper</span><span class="o">.</span><span class="n">get_siblings</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">siblings</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">grouper</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">last_ax</span> <span class="ow">in</span> <span class="n">siblings</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">ax</span> <span class="ow">is</span> <span class="n">last_ax</span><span class="p">:</span>
                        <span class="k">continue</span>
                    <span class="k">return</span> <span class="n">last_ax</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">delaxes</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
        <span class="n">last_ax</span> <span class="o">=</span> <span class="n">_break_share_link</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">ax</span><span class="o">.</span><span class="n">_shared_y_axes</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">last_ax</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">_reset_loc_form</span><span class="p">(</span><span class="n">last_ax</span><span class="o">.</span><span class="n">yaxis</span><span class="p">)</span>

        <span class="n">last_ax</span> <span class="o">=</span> <span class="n">_break_share_link</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">ax</span><span class="o">.</span><span class="n">_shared_x_axes</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">last_ax</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">_reset_loc_form</span><span class="p">(</span><span class="n">last_ax</span><span class="o">.</span><span class="n">xaxis</span><span class="p">)</span>

<div class="viewcode-block" id="Figure.clf"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.clf">[docs]</a>    <span class="k">def</span> <span class="nf">clf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keep_observers</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clear the figure.</span>

<span class="sd">        Set *keep_observers* to True if, for example,</span>
<span class="sd">        a gui widget is tracking the axes in the figure.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">suppressComposite</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">callbacks</span> <span class="o">=</span> <span class="n">cbook</span><span class="o">.</span><span class="n">CallbackRegistry</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">):</span>  <span class="c1"># Iterate over the copy.</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">cla</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">delaxes</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>         <span class="c1"># removes ax from self._axstack</span>

        <span class="n">toolbar</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="s1">&#39;toolbar&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">toolbar</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">toolbar</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_axstack</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">artists</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">patches</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">texts</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">images</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">legends</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">keep_observers</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_axobservers</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_suptitle</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_constrained_layout</span><span class="p">():</span>
            <span class="n">layoutbox</span><span class="o">.</span><span class="n">nonetree</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_layoutbox</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stale</span> <span class="o">=</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Figure.clear"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.clear">[docs]</a>    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keep_observers</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clear the figure -- synonym for :meth:`clf`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clf</span><span class="p">(</span><span class="n">keep_observers</span><span class="o">=</span><span class="n">keep_observers</span><span class="p">)</span></div>

<div class="viewcode-block" id="Figure.draw"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.draw">[docs]</a>    <span class="nd">@allow_rasterization</span>
    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">renderer</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Render the figure using :class:`matplotlib.backend_bases.RendererBase`</span>
<span class="sd">        instance *renderer*.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># draw the figure bounding box, perhaps none for white figure</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_visible</span><span class="p">():</span>
            <span class="k">return</span>

        <span class="n">artists</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span>
            <span class="p">(</span><span class="n">artist</span> <span class="k">for</span> <span class="n">artist</span> <span class="ow">in</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">patches</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">artists</span>
                                   <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">images</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">texts</span>
                                   <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">legends</span><span class="p">)</span>
             <span class="k">if</span> <span class="ow">not</span> <span class="n">artist</span><span class="o">.</span><span class="n">get_animated</span><span class="p">()),</span>
            <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">artist</span><span class="p">:</span> <span class="n">artist</span><span class="o">.</span><span class="n">get_zorder</span><span class="p">())</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">renderer</span><span class="o">.</span><span class="n">open_group</span><span class="p">(</span><span class="s1">&#39;figure&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_constrained_layout</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">:</span>
                <span class="k">if</span> <span class="kc">True</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">execute_constrained_layout</span><span class="p">(</span><span class="n">renderer</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">pass</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_tight_layout</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">renderer</span><span class="p">,</span>
                                      <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_tight_parameters</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                    <span class="k">pass</span>
                    <span class="c1"># ValueError can occur when resizing a window.</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">frameon</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">renderer</span><span class="p">)</span>

            <span class="n">mimage</span><span class="o">.</span><span class="n">_draw_list_compositing_images</span><span class="p">(</span>
                <span class="n">renderer</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">artists</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">suppressComposite</span><span class="p">)</span>

            <span class="n">renderer</span><span class="o">.</span><span class="n">close_group</span><span class="p">(</span><span class="s1">&#39;figure&#39;</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stale</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_cachedRenderer</span> <span class="o">=</span> <span class="n">renderer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_event</span><span class="p">(</span><span class="n">renderer</span><span class="p">)</span></div>

<div class="viewcode-block" id="Figure.draw_artist"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.draw_artist">[docs]</a>    <span class="k">def</span> <span class="nf">draw_artist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Draw :class:`matplotlib.artist.Artist` instance *a* only.</span>
<span class="sd">        This is available only after the figure is drawn.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cachedRenderer</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;draw_artist can only be used after an &quot;</span>
                                 <span class="s2">&quot;initial draw which caches the renderer&quot;</span><span class="p">)</span>
        <span class="n">a</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_cachedRenderer</span><span class="p">)</span></div>

<div class="viewcode-block" id="Figure.get_axes"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.get_axes">[docs]</a>    <span class="k">def</span> <span class="nf">get_axes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span></div>

<div class="viewcode-block" id="Figure.legend"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.legend">[docs]</a>    <span class="nd">@docstring</span><span class="o">.</span><span class="n">dedent_interpd</span>
    <span class="k">def</span> <span class="nf">legend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Place a legend on the figure.</span>

<span class="sd">        To make a legend from existing artists on every axes::</span>

<span class="sd">          legend()</span>

<span class="sd">        To make a legend for a list of lines and labels::</span>

<span class="sd">          legend( (line1, line2, line3),</span>
<span class="sd">                  (&#39;label1&#39;, &#39;label2&#39;, &#39;label3&#39;),</span>
<span class="sd">                  loc=&#39;upper right&#39;)</span>

<span class="sd">        These can also be specified by keyword::</span>

<span class="sd">          legend(handles=(line1, line2, line3),</span>
<span class="sd">                labels=(&#39;label1&#39;, &#39;label2&#39;, &#39;label3&#39;),</span>
<span class="sd">                loc=&#39;upper right&#39;)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        handles : sequence of `.Artist`, optional</span>
<span class="sd">            A list of Artists (lines, patches) to be added to the legend.</span>
<span class="sd">            Use this together with *labels*, if you need full control on what</span>
<span class="sd">            is shown in the legend and the automatic mechanism described above</span>
<span class="sd">            is not sufficient.</span>

<span class="sd">            The length of handles and labels should be the same in this</span>
<span class="sd">            case. If they are not, they are truncated to the smaller length.</span>

<span class="sd">        labels : sequence of strings, optional</span>
<span class="sd">            A list of labels to show next to the artists.</span>
<span class="sd">            Use this together with *handles*, if you need full control on what</span>
<span class="sd">            is shown in the legend and the automatic mechanism described above</span>
<span class="sd">            is not sufficient.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>

<span class="sd">        loc : int or string or pair of floats, default: &#39;upper right&#39;</span>
<span class="sd">            The location of the legend. Possible codes are:</span>

<span class="sd">                ===============   =============</span>
<span class="sd">                Location String   Location Code</span>
<span class="sd">                ===============   =============</span>
<span class="sd">                &#39;best&#39;            0</span>
<span class="sd">                &#39;upper right&#39;     1</span>
<span class="sd">                &#39;upper left&#39;      2</span>
<span class="sd">                &#39;lower left&#39;      3</span>
<span class="sd">                &#39;lower right&#39;     4</span>
<span class="sd">                &#39;right&#39;           5</span>
<span class="sd">                &#39;center left&#39;     6</span>
<span class="sd">                &#39;center right&#39;    7</span>
<span class="sd">                &#39;lower center&#39;    8</span>
<span class="sd">                &#39;upper center&#39;    9</span>
<span class="sd">                &#39;center&#39;          10</span>
<span class="sd">                ===============   =============</span>


<span class="sd">            Alternatively can be a 2-tuple giving ``x, y`` of the lower-left</span>
<span class="sd">            corner of the legend in axes coordinates (in which case</span>
<span class="sd">            ``bbox_to_anchor`` will be ignored).</span>

<span class="sd">        bbox_to_anchor : `.BboxBase` or pair of floats</span>
<span class="sd">            Specify any arbitrary location for the legend in `bbox_transform`</span>
<span class="sd">            coordinates (default Axes coordinates).</span>

<span class="sd">            For example, to put the legend&#39;s upper right hand corner in the</span>
<span class="sd">            center of the axes the following keywords can be used::</span>

<span class="sd">               loc=&#39;upper right&#39;, bbox_to_anchor=(0.5, 0.5)</span>

<span class="sd">        ncol : integer</span>
<span class="sd">            The number of columns that the legend has. Default is 1.</span>

<span class="sd">        prop : None or :class:`matplotlib.font_manager.FontProperties` or dict</span>
<span class="sd">            The font properties of the legend. If None (default), the current</span>
<span class="sd">            :data:`matplotlib.rcParams` will be used.</span>

<span class="sd">        fontsize : int or float or {&#39;xx-small&#39;, &#39;x-small&#39;, &#39;small&#39;, &#39;medium&#39;, \</span>
<span class="sd">&#39;large&#39;, &#39;x-large&#39;, &#39;xx-large&#39;}</span>
<span class="sd">            Controls the font size of the legend. If the value is numeric the</span>
<span class="sd">            size will be the absolute font size in points. String values are</span>
<span class="sd">            relative to the current default font size. This argument is only</span>
<span class="sd">            used if `prop` is not specified.</span>

<span class="sd">        numpoints : None or int</span>
<span class="sd">            The number of marker points in the legend when creating a legend</span>
<span class="sd">            entry for a `.Line2D` (line).</span>
<span class="sd">            Default is ``None``, which will take the value from</span>
<span class="sd">            :rc:`legend.numpoints`.</span>

<span class="sd">        scatterpoints : None or int</span>
<span class="sd">            The number of marker points in the legend when creating</span>
<span class="sd">            a legend entry for a `.PathCollection` (scatter plot).</span>
<span class="sd">            Default is ``None``, which will take the value from</span>
<span class="sd">            :rc:`legend.scatterpoints`.</span>

<span class="sd">        scatteryoffsets : iterable of floats</span>
<span class="sd">            The vertical offset (relative to the font size) for the markers</span>
<span class="sd">            created for a scatter plot legend entry. 0.0 is at the base the</span>
<span class="sd">            legend text, and 1.0 is at the top. To draw all markers at the</span>
<span class="sd">            same height, set to ``[0.5]``. Default is ``[0.375, 0.5, 0.3125]``.</span>

<span class="sd">        markerscale : None or int or float</span>
<span class="sd">            The relative size of legend markers compared with the originally</span>
<span class="sd">            drawn ones.</span>
<span class="sd">            Default is ``None``, which will take the value from</span>
<span class="sd">            :rc:`legend.markerscale`.</span>

<span class="sd">        markerfirst : bool</span>
<span class="sd">            If *True*, legend marker is placed to the left of the legend label.</span>
<span class="sd">            If *False*, legend marker is placed to the right of the legend</span>
<span class="sd">            label.</span>
<span class="sd">            Default is *True*.</span>

<span class="sd">        frameon : None or bool</span>
<span class="sd">            Control whether the legend should be drawn on a patch</span>
<span class="sd">            (frame).</span>
<span class="sd">            Default is ``None``, which will take the value from</span>
<span class="sd">            :rc:`legend.frameon`.</span>

<span class="sd">        fancybox : None or bool</span>
<span class="sd">            Control whether round edges should be enabled around the</span>
<span class="sd">            :class:`~matplotlib.patches.FancyBboxPatch` which makes up the</span>
<span class="sd">            legend&#39;s background.</span>
<span class="sd">            Default is ``None``, which will take the value from</span>
<span class="sd">            :rc:`legend.fancybox`.</span>

<span class="sd">        shadow : None or bool</span>
<span class="sd">            Control whether to draw a shadow behind the legend.</span>
<span class="sd">            Default is ``None``, which will take the value from</span>
<span class="sd">            :rc:`legend.shadow`.</span>

<span class="sd">        framealpha : None or float</span>
<span class="sd">            Control the alpha transparency of the legend&#39;s background.</span>
<span class="sd">            Default is ``None``, which will take the value from</span>
<span class="sd">            :rc:`legend.framealpha`.  If shadow is activated and</span>
<span class="sd">            *framealpha* is ``None``, the default value is ignored.</span>

<span class="sd">        facecolor : None or &quot;inherit&quot; or a color spec</span>
<span class="sd">            Control the legend&#39;s background color.</span>
<span class="sd">            Default is ``None``, which will take the value from</span>
<span class="sd">            :rc:`legend.facecolor`.  If ``&quot;inherit&quot;``, it will take</span>
<span class="sd">            :rc:`axes.facecolor`.</span>

<span class="sd">        edgecolor : None or &quot;inherit&quot; or a color spec</span>
<span class="sd">            Control the legend&#39;s background patch edge color.</span>
<span class="sd">            Default is ``None``, which will take the value from</span>
<span class="sd">            :rc:`legend.edgecolor` If ``&quot;inherit&quot;``, it will take</span>
<span class="sd">            :rc:`axes.edgecolor`.</span>

<span class="sd">        mode : {&quot;expand&quot;, None}</span>
<span class="sd">            If `mode` is set to ``&quot;expand&quot;`` the legend will be horizontally</span>
<span class="sd">            expanded to fill the axes area (or `bbox_to_anchor` if defines</span>
<span class="sd">            the legend&#39;s size).</span>

<span class="sd">        bbox_transform : None or :class:`matplotlib.transforms.Transform`</span>
<span class="sd">            The transform for the bounding box (`bbox_to_anchor`). For a value</span>
<span class="sd">            of ``None`` (default) the Axes&#39;</span>
<span class="sd">            :data:`~matplotlib.axes.Axes.transAxes` transform will be used.</span>

<span class="sd">        title : str or None</span>
<span class="sd">            The legend&#39;s title. Default is no title (``None``).</span>

<span class="sd">        borderpad : float or None</span>
<span class="sd">            The fractional whitespace inside the legend border.</span>
<span class="sd">            Measured in font-size units.</span>
<span class="sd">            Default is ``None``, which will take the value from</span>
<span class="sd">            :rc:`legend.borderpad`.</span>

<span class="sd">        labelspacing : float or None</span>
<span class="sd">            The vertical space between the legend entries.</span>
<span class="sd">            Measured in font-size units.</span>
<span class="sd">            Default is ``None``, which will take the value from</span>
<span class="sd">            :rc:`legend.labelspacing`.</span>

<span class="sd">        handlelength : float or None</span>
<span class="sd">            The length of the legend handles.</span>
<span class="sd">            Measured in font-size units.</span>
<span class="sd">            Default is ``None``, which will take the value from</span>
<span class="sd">            :rc:`legend.handlelength`.</span>

<span class="sd">        handletextpad : float or None</span>
<span class="sd">            The pad between the legend handle and text.</span>
<span class="sd">            Measured in font-size units.</span>
<span class="sd">            Default is ``None``, which will take the value from</span>
<span class="sd">            :rc:`legend.handletextpad`.</span>

<span class="sd">        borderaxespad : float or None</span>
<span class="sd">            The pad between the axes and legend border.</span>
<span class="sd">            Measured in font-size units.</span>
<span class="sd">            Default is ``None``, which will take the value from</span>
<span class="sd">            :rc:`legend.borderaxespad`.</span>

<span class="sd">        columnspacing : float or None</span>
<span class="sd">            The spacing between columns.</span>
<span class="sd">            Measured in font-size units.</span>
<span class="sd">            Default is ``None``, which will take the value from</span>
<span class="sd">            :rc:`legend.columnspacing`.</span>

<span class="sd">        handler_map : dict or None</span>
<span class="sd">            The custom dictionary mapping instances or types to a legend</span>
<span class="sd">            handler. This `handler_map` updates the default handler map</span>
<span class="sd">            found at :func:`matplotlib.legend.Legend.get_legend_handler_map`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        :class:`matplotlib.legend.Legend` instance</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Not all kinds of artist are supported by the legend command. See</span>
<span class="sd">        :ref:`sphx_glr_tutorials_intermediate_legend_guide.py` for details.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">handles</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">extra_args</span><span class="p">,</span> <span class="n">kwargs</span> <span class="o">=</span> <span class="n">mlegend</span><span class="o">.</span><span class="n">_parse_legend_args</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">,</span>
                <span class="o">*</span><span class="n">args</span><span class="p">,</span>
                <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="c1"># check for third arg</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">extra_args</span><span class="p">):</span>
            <span class="c1"># cbook.warn_deprecated(</span>
            <span class="c1">#     &quot;2.1&quot;,</span>
            <span class="c1">#     &quot;Figure.legend will accept no more than two &quot;</span>
            <span class="c1">#     &quot;positional arguments in the future.  Use &quot;</span>
            <span class="c1">#     &quot;&#39;fig.legend(handles, labels, loc=location)&#39; &quot;</span>
            <span class="c1">#     &quot;instead.&quot;)</span>
            <span class="c1"># kwargs[&#39;loc&#39;] = extra_args[0]</span>
            <span class="c1"># extra_args = extra_args[1:]</span>
            <span class="k">pass</span>
        <span class="n">l</span> <span class="o">=</span> <span class="n">mlegend</span><span class="o">.</span><span class="n">Legend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">handles</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="o">*</span><span class="n">extra_args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">legends</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
        <span class="n">l</span><span class="o">.</span><span class="n">_remove_method</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">h</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">legends</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stale</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="n">l</span></div>

<div class="viewcode-block" id="Figure.text"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.text">[docs]</a>    <span class="nd">@docstring</span><span class="o">.</span><span class="n">dedent_interpd</span>
    <span class="k">def</span> <span class="nf">text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add text to figure.</span>

<span class="sd">        Call signature::</span>

<span class="sd">          text(x, y, s, fontdict=None, **kwargs)</span>

<span class="sd">        Add text to figure at location *x*, *y* (relative 0-1</span>
<span class="sd">        coords). See :func:`~matplotlib.pyplot.text` for the meaning</span>
<span class="sd">        of the other arguments.</span>

<span class="sd">        kwargs control the :class:`~matplotlib.text.Text` properties:</span>

<span class="sd">        %(Text)s</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">override</span> <span class="o">=</span> <span class="n">_process_text_args</span><span class="p">({},</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">Text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">s</span><span class="p">)</span>

        <span class="n">t</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">override</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_artist_props</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
        <span class="n">t</span><span class="o">.</span><span class="n">_remove_method</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">h</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">texts</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stale</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="n">t</span></div>

    <span class="k">def</span> <span class="nf">_set_artist_props</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">a</span> <span class="o">!=</span> <span class="bp">self</span><span class="p">:</span>
            <span class="n">a</span><span class="o">.</span><span class="n">set_figure</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">a</span><span class="o">.</span><span class="n">stale_callback</span> <span class="o">=</span> <span class="n">_stale_figure_callback</span>
        <span class="n">a</span><span class="o">.</span><span class="n">set_transform</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">transFigure</span><span class="p">)</span>

<div class="viewcode-block" id="Figure.gca"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.gca">[docs]</a>    <span class="nd">@docstring</span><span class="o">.</span><span class="n">dedent_interpd</span>
    <span class="k">def</span> <span class="nf">gca</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the current axes, creating one if necessary</span>

<span class="sd">        The following kwargs are supported for ensuring the returned axes</span>
<span class="sd">        adheres to the given projection etc., and for axes creation if</span>
<span class="sd">        the active axes does not exist:</span>

<span class="sd">        %(Axes)s</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ckey</span><span class="p">,</span> <span class="n">cax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_axstack</span><span class="o">.</span><span class="n">current_key_axes</span><span class="p">()</span>
        <span class="c1"># if there exists an axes on the stack see if it maches</span>
        <span class="c1"># the desired axes configuration</span>
        <span class="k">if</span> <span class="n">cax</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>

            <span class="c1"># if no kwargs are given just return the current axes</span>
            <span class="c1"># this is a convenience for gca() on axes such as polar etc.</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">kwargs</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">cax</span>

            <span class="c1"># if the user has specified particular projection detail</span>
            <span class="c1"># then build up a key which can represent this</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># we don&#39;t want to modify the original kwargs</span>
                <span class="c1"># so take a copy so that we can do what we like to it</span>
                <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
                <span class="n">projection_class</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">key</span> <span class="o">=</span> <span class="n">process_projection_requirements</span><span class="p">(</span>
                    <span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>

                <span class="c1"># let the returned axes have any gridspec by removing it from</span>
                <span class="c1"># the key</span>
                <span class="n">ckey</span> <span class="o">=</span> <span class="n">ckey</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
                <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>

                <span class="c1"># if the cax matches this key then return the axes, otherwise</span>
                <span class="c1"># continue and a new axes will be created</span>
                <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">ckey</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cax</span><span class="p">,</span> <span class="n">projection_class</span><span class="p">):</span>
                    <span class="k">return</span> <span class="n">cax</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Requested projection is different from &#39;</span>
                                  <span class="s1">&#39;current axis projection, creating new axis &#39;</span>
                                  <span class="s1">&#39;with requested projection.&#39;</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="c1"># no axes found, so create one which spans the figure</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="Figure.sca"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.sca">[docs]</a>    <span class="k">def</span> <span class="nf">sca</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the current axes to be a and return a.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_axstack</span><span class="o">.</span><span class="n">bubble</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">func</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_axobservers</span><span class="p">:</span>
            <span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">a</span></div>

    <span class="k">def</span> <span class="nf">_gci</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Helper for :func:`~matplotlib.pyplot.gci`. Do not use elsewhere.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Look first for an image in the current Axes:</span>
        <span class="n">cax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_axstack</span><span class="o">.</span><span class="n">current_key_axes</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">cax</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">im</span> <span class="o">=</span> <span class="n">cax</span><span class="o">.</span><span class="n">_gci</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">im</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">im</span>

        <span class="c1"># If there is no image in the current Axes, search for</span>
        <span class="c1"># one in a previously created Axes.  Whether this makes</span>
        <span class="c1"># sense is debatable, but it is the documented behavior.</span>
        <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">):</span>
            <span class="n">im</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">_gci</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">im</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">im</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__getstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">state</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">Figure</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__getstate__</span><span class="p">()</span>

        <span class="c1"># print(&#39;\n\n\nStarting pickle&#39;)</span>
        <span class="c1"># the axobservers cannot currently be pickled.</span>
        <span class="c1"># Additionally, the canvas cannot currently be pickled, but this has</span>
        <span class="c1"># the benefit of meaning that a figure can be detached from one canvas,</span>
        <span class="c1"># and re-attached to another.</span>
        <span class="k">for</span> <span class="n">attr_to_pop</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;_axobservers&#39;</span><span class="p">,</span> <span class="s1">&#39;show&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;canvas&#39;</span><span class="p">,</span> <span class="s1">&#39;_cachedRenderer&#39;</span><span class="p">):</span>
            <span class="n">state</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">attr_to_pop</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="c1"># add version information to the state</span>
        <span class="n">state</span><span class="p">[</span><span class="s1">&#39;__mpl_version__&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_mpl_version</span>

        <span class="c1"># check to see if the figure has a manager and whether it is registered</span>
        <span class="c1"># with pyplot</span>
        <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="s1">&#39;manager&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">manager</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">manager</span>
            <span class="kn">import</span> <span class="nn">matplotlib._pylab_helpers</span>
            <span class="k">if</span> <span class="n">manager</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">six</span><span class="o">.</span><span class="n">itervalues</span><span class="p">(</span>
                    <span class="n">matplotlib</span><span class="o">.</span><span class="n">_pylab_helpers</span><span class="o">.</span><span class="n">Gcf</span><span class="o">.</span><span class="n">figs</span><span class="p">)):</span>
                <span class="n">state</span><span class="p">[</span><span class="s1">&#39;_restore_to_pylab&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="c1"># set all the layoutbox information to None.  kiwisolver</span>
        <span class="c1"># objects can&#39;t be pickeled, so we lose the layout options</span>
        <span class="c1"># at this point.</span>
        <span class="n">state</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;_layoutbox&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="c1"># suptitle:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_suptitle</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_suptitle</span><span class="o">.</span><span class="n">_layoutbox</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="n">state</span>

    <span class="k">def</span> <span class="nf">__setstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="n">version</span> <span class="o">=</span> <span class="n">state</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;__mpl_version__&#39;</span><span class="p">)</span>
        <span class="n">restore_to_pylab</span> <span class="o">=</span> <span class="n">state</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;_restore_to_pylab&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">version</span> <span class="o">!=</span> <span class="n">_mpl_version</span><span class="p">:</span>
            <span class="kn">import</span> <span class="nn">warnings</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;This figure was saved with matplotlib version </span><span class="si">%s</span><span class="s2"> &quot;</span>
                          <span class="s2">&quot;and is unlikely to function correctly.&quot;</span> <span class="o">%</span>
                          <span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span> <span class="o">=</span> <span class="n">state</span>

        <span class="c1"># re-initialise some of the unstored state information</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_axobservers</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_layoutbox</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">restore_to_pylab</span><span class="p">:</span>
            <span class="c1"># lazy import to avoid circularity</span>
            <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
            <span class="kn">import</span> <span class="nn">matplotlib._pylab_helpers</span> <span class="k">as</span> <span class="nn">pylab_helpers</span>
            <span class="n">allnums</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">get_fignums</span><span class="p">()</span>
            <span class="n">num</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">allnums</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">allnums</span> <span class="k">else</span> <span class="mi">1</span>
            <span class="n">mgr</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">_backend_mod</span><span class="o">.</span><span class="n">new_figure_manager_given_figure</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

            <span class="c1"># XXX The following is a copy and paste from pyplot. Consider</span>
            <span class="c1"># factoring to pylab_helpers</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_label</span><span class="p">():</span>
                <span class="n">mgr</span><span class="o">.</span><span class="n">set_window_title</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_label</span><span class="p">())</span>

            <span class="c1"># make this figure current on button press event</span>
            <span class="k">def</span> <span class="nf">make_active</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
                <span class="n">pylab_helpers</span><span class="o">.</span><span class="n">Gcf</span><span class="o">.</span><span class="n">set_active</span><span class="p">(</span><span class="n">mgr</span><span class="p">)</span>

            <span class="n">mgr</span><span class="o">.</span><span class="n">_cidgcf</span> <span class="o">=</span> <span class="n">mgr</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s1">&#39;button_press_event&#39;</span><span class="p">,</span>
                                                 <span class="n">make_active</span><span class="p">)</span>

            <span class="n">pylab_helpers</span><span class="o">.</span><span class="n">Gcf</span><span class="o">.</span><span class="n">set_active</span><span class="p">(</span><span class="n">mgr</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="n">num</span>

            <span class="n">plt</span><span class="o">.</span><span class="n">draw_if_interactive</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stale</span> <span class="o">=</span> <span class="kc">True</span>

<div class="viewcode-block" id="Figure.add_axobserver"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.add_axobserver">[docs]</a>    <span class="k">def</span> <span class="nf">add_axobserver</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Whenever the axes state change, ``func(self)`` will be called.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_axobservers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">func</span><span class="p">)</span></div>

<div class="viewcode-block" id="Figure.savefig"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.savefig">[docs]</a>    <span class="k">def</span> <span class="nf">savefig</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fname</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Save the current figure.</span>

<span class="sd">        Call signature::</span>

<span class="sd">          savefig(fname, dpi=None, facecolor=&#39;w&#39;, edgecolor=&#39;w&#39;,</span>
<span class="sd">                  orientation=&#39;portrait&#39;, papertype=None, format=None,</span>
<span class="sd">                  transparent=False, bbox_inches=None, pad_inches=0.1,</span>
<span class="sd">                  frameon=None)</span>

<span class="sd">        The output formats available depend on the backend being used.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        fname : str or file-like object</span>
<span class="sd">            A string containing a path to a filename, or a Python</span>
<span class="sd">            file-like object, or possibly some backend-dependent object</span>
<span class="sd">            such as :class:`~matplotlib.backends.backend_pdf.PdfPages`.</span>

<span class="sd">            If *format* is *None* and *fname* is a string, the output</span>
<span class="sd">            format is deduced from the extension of the filename. If</span>
<span class="sd">            the filename has no extension, the value of the rc parameter</span>
<span class="sd">            ``savefig.format`` is used.</span>

<span class="sd">            If *fname* is not a string, remember to specify *format* to</span>
<span class="sd">            ensure that the correct backend is used.</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>

<span class="sd">        dpi : [ *None* | scalar &gt; 0 | &#39;figure&#39;]</span>
<span class="sd">            The resolution in dots per inch.  If *None* it will default to</span>
<span class="sd">            the value ``savefig.dpi`` in the matplotlibrc file. If &#39;figure&#39;</span>
<span class="sd">            it will set the dpi to be the value of the figure.</span>

<span class="sd">        facecolor : color spec or None, optional</span>
<span class="sd">            the facecolor of the figure; if None, defaults to savefig.facecolor</span>

<span class="sd">        edgecolor : color spec or None, optional</span>
<span class="sd">            the edgecolor of the figure; if None, defaults to savefig.edgecolor</span>

<span class="sd">        orientation : {&#39;landscape&#39;, &#39;portrait&#39;}</span>
<span class="sd">            not supported on all backends; currently only on postscript output</span>

<span class="sd">        papertype : str</span>
<span class="sd">            One of &#39;letter&#39;, &#39;legal&#39;, &#39;executive&#39;, &#39;ledger&#39;, &#39;a0&#39; through</span>
<span class="sd">            &#39;a10&#39;, &#39;b0&#39; through &#39;b10&#39;. Only supported for postscript</span>
<span class="sd">            output.</span>

<span class="sd">        format : str</span>
<span class="sd">            One of the file extensions supported by the active</span>
<span class="sd">            backend.  Most backends support png, pdf, ps, eps and svg.</span>

<span class="sd">        transparent : bool</span>
<span class="sd">            If *True*, the axes patches will all be transparent; the</span>
<span class="sd">            figure patch will also be transparent unless facecolor</span>
<span class="sd">            and/or edgecolor are specified via kwargs.</span>
<span class="sd">            This is useful, for example, for displaying</span>
<span class="sd">            a plot on top of a colored background on a web page.  The</span>
<span class="sd">            transparency of these patches will be restored to their</span>
<span class="sd">            original values upon exit of this function.</span>

<span class="sd">        frameon : bool</span>
<span class="sd">            If *True*, the figure patch will be colored, if *False*, the</span>
<span class="sd">            figure background will be transparent.  If not provided, the</span>
<span class="sd">            rcParam &#39;savefig.frameon&#39; will be used.</span>

<span class="sd">        bbox_inches : str or `~matplotlib.transforms.Bbox`, optional</span>
<span class="sd">            Bbox in inches. Only the given portion of the figure is</span>
<span class="sd">            saved. If &#39;tight&#39;, try to figure out the tight bbox of</span>
<span class="sd">            the figure. If None, use savefig.bbox</span>

<span class="sd">        pad_inches : scalar, optional</span>
<span class="sd">            Amount of padding around the figure when bbox_inches is</span>
<span class="sd">            &#39;tight&#39;. If None, use savefig.pad_inches</span>

<span class="sd">        bbox_extra_artists : list of `~matplotlib.artist.Artist`, optional</span>
<span class="sd">            A list of extra artists that will be considered when the</span>
<span class="sd">            tight bbox is calculated.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;dpi&#39;</span><span class="p">,</span> <span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;savefig.dpi&#39;</span><span class="p">])</span>
        <span class="n">frameon</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;frameon&#39;</span><span class="p">,</span> <span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;savefig.frameon&#39;</span><span class="p">])</span>
        <span class="n">transparent</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;transparent&#39;</span><span class="p">,</span>
                                 <span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;savefig.transparent&#39;</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">transparent</span><span class="p">:</span>
            <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;facecolor&#39;</span><span class="p">,</span> <span class="s1">&#39;none&#39;</span><span class="p">)</span>
            <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;edgecolor&#39;</span><span class="p">,</span> <span class="s1">&#39;none&#39;</span><span class="p">)</span>
            <span class="n">original_axes_colors</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">:</span>
                <span class="n">patch</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">patch</span>
                <span class="n">original_axes_colors</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">patch</span><span class="o">.</span><span class="n">get_facecolor</span><span class="p">(),</span>
                                             <span class="n">patch</span><span class="o">.</span><span class="n">get_edgecolor</span><span class="p">()))</span>
                <span class="n">patch</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
                <span class="n">patch</span><span class="o">.</span><span class="n">set_edgecolor</span><span class="p">(</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;facecolor&#39;</span><span class="p">,</span> <span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;savefig.facecolor&#39;</span><span class="p">])</span>
            <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;edgecolor&#39;</span><span class="p">,</span> <span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;savefig.edgecolor&#39;</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">frameon</span><span class="p">:</span>
            <span class="n">original_frameon</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_frameon</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_frameon</span><span class="p">(</span><span class="n">frameon</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">print_figure</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">frameon</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_frameon</span><span class="p">(</span><span class="n">original_frameon</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">transparent</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">ax</span><span class="p">,</span> <span class="n">cc</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">,</span> <span class="n">original_axes_colors</span><span class="p">):</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="n">cc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_edgecolor</span><span class="p">(</span><span class="n">cc</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span></div>

<div class="viewcode-block" id="Figure.colorbar"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.colorbar">[docs]</a>    <span class="nd">@docstring</span><span class="o">.</span><span class="n">dedent_interpd</span>
    <span class="k">def</span> <span class="nf">colorbar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mappable</span><span class="p">,</span> <span class="n">cax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">use_gridspec</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a colorbar for a ScalarMappable instance, *mappable*.</span>

<span class="sd">        Documentation for the pylab thin wrapper:</span>
<span class="sd">        %(colorbar_doc)s</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">ax</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>

        <span class="c1"># Store the value of gca so that we can set it back later on.</span>
        <span class="n">current_ax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">cax</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">use_gridspec</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">SubplotBase</span><span class="p">)</span>  \
                     <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_constrained_layout</span><span class="p">()):</span>
                <span class="n">cax</span><span class="p">,</span> <span class="n">kw</span> <span class="o">=</span> <span class="n">cbar</span><span class="o">.</span><span class="n">make_axes_gridspec</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">cax</span><span class="p">,</span> <span class="n">kw</span> <span class="o">=</span> <span class="n">cbar</span><span class="o">.</span><span class="n">make_axes</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
        <span class="n">cax</span><span class="o">.</span><span class="n">_hold</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="c1"># need to remove kws that cannot be passed to Colorbar</span>
        <span class="n">NON_COLORBAR_KEYS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;fraction&#39;</span><span class="p">,</span> <span class="s1">&#39;pad&#39;</span><span class="p">,</span> <span class="s1">&#39;shrink&#39;</span><span class="p">,</span> <span class="s1">&#39;aspect&#39;</span><span class="p">,</span> <span class="s1">&#39;anchor&#39;</span><span class="p">,</span>
                             <span class="s1">&#39;panchor&#39;</span><span class="p">]</span>
        <span class="n">cb_kw</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">kw</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">NON_COLORBAR_KEYS</span><span class="p">}</span>
        <span class="n">cb</span> <span class="o">=</span> <span class="n">cbar</span><span class="o">.</span><span class="n">colorbar_factory</span><span class="p">(</span><span class="n">cax</span><span class="p">,</span> <span class="n">mappable</span><span class="p">,</span> <span class="o">**</span><span class="n">cb_kw</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sca</span><span class="p">(</span><span class="n">current_ax</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stale</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="n">cb</span></div>

<div class="viewcode-block" id="Figure.subplots_adjust"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.subplots_adjust">[docs]</a>    <span class="k">def</span> <span class="nf">subplots_adjust</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Call signature::</span>

<span class="sd">          subplots_adjust(left=None, bottom=None, right=None, top=None,</span>
<span class="sd">                              wspace=None, hspace=None)</span>

<span class="sd">        Update the :class:`SubplotParams` with *kwargs* (defaulting to rc when</span>
<span class="sd">        *None*) and update the subplot locations.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subplotpars</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">SubplotBase</span><span class="p">):</span>
                <span class="c1"># Check if sharing a subplots axis</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">_sharex</span><span class="p">,</span> <span class="n">SubplotBase</span><span class="p">):</span>
                    <span class="n">ax</span><span class="o">.</span><span class="n">_sharex</span><span class="o">.</span><span class="n">update_params</span><span class="p">()</span>
                    <span class="n">ax</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">_sharex</span><span class="o">.</span><span class="n">figbox</span><span class="p">)</span>
                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">_sharey</span><span class="p">,</span> <span class="n">SubplotBase</span><span class="p">):</span>
                    <span class="n">ax</span><span class="o">.</span><span class="n">_sharey</span><span class="o">.</span><span class="n">update_params</span><span class="p">()</span>
                    <span class="n">ax</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">_sharey</span><span class="o">.</span><span class="n">figbox</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">update_params</span><span class="p">()</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">figbox</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stale</span> <span class="o">=</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Figure.ginput"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.ginput">[docs]</a>    <span class="k">def</span> <span class="nf">ginput</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">show_clicks</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">mouse_add</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
               <span class="n">mouse_pop</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">mouse_stop</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Blocking call to interact with a figure.</span>

<span class="sd">        Wait until the user clicks *n* times on the figure, and return the</span>
<span class="sd">        coordinates of each click in a list.</span>

<span class="sd">        The buttons used for the various actions (adding points, removing</span>
<span class="sd">        points, terminating the inputs) can be overridden via the</span>
<span class="sd">        arguments *mouse_add*, *mouse_pop* and *mouse_stop*, that give</span>
<span class="sd">        the associated mouse button: 1 for left, 2 for middle, 3 for</span>
<span class="sd">        right.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        n : int, optional, default: 1</span>
<span class="sd">            Number of mouse clicks to accumulate. If negative, accumulate</span>
<span class="sd">            clicks until the input is terminated manually.</span>
<span class="sd">        timeout : scalar, optional, default: 30</span>
<span class="sd">            Number of seconds to wait before timing out. If zero or negative</span>
<span class="sd">            will never timeout.</span>
<span class="sd">        show_clicks : bool, optional, default: False</span>
<span class="sd">            If True, show a red cross at the location of each click.</span>
<span class="sd">        mouse_add : int, one of (1, 2, 3), optional, default: 1 (left click)</span>
<span class="sd">            Mouse button used to add points.</span>
<span class="sd">        mouse_pop : int, one of (1, 2, 3), optional, default: 3 (right click)</span>
<span class="sd">            Mouse button used to remove the most recently added point.</span>
<span class="sd">        mouse_stop : int, one of (1, 2, 3), optional, default: 2 (middle click)</span>
<span class="sd">            Mouse button used to stop input.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        points : list of tuples</span>
<span class="sd">            A list of the clicked (x, y) coordinates.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        The keyboard can also be used to select points in case your mouse</span>
<span class="sd">        does not have one or more of the buttons.  The delete and backspace</span>
<span class="sd">        keys act like right clicking (i.e., remove last point), the enter key</span>
<span class="sd">        terminates input and any other key (not already used by the window</span>
<span class="sd">        manager) selects a point.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">blocking_mouse_input</span> <span class="o">=</span> <span class="n">BlockingMouseInput</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                                  <span class="n">mouse_add</span><span class="o">=</span><span class="n">mouse_add</span><span class="p">,</span>
                                                  <span class="n">mouse_pop</span><span class="o">=</span><span class="n">mouse_pop</span><span class="p">,</span>
                                                  <span class="n">mouse_stop</span><span class="o">=</span><span class="n">mouse_stop</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">blocking_mouse_input</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
                                    <span class="n">show_clicks</span><span class="o">=</span><span class="n">show_clicks</span><span class="p">)</span></div>

<div class="viewcode-block" id="Figure.waitforbuttonpress"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.waitforbuttonpress">[docs]</a>    <span class="k">def</span> <span class="nf">waitforbuttonpress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=-</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Blocking call to interact with the figure.</span>

<span class="sd">        This will return True is a key was pressed, False if a mouse</span>
<span class="sd">        button was pressed and None if *timeout* was reached without</span>
<span class="sd">        either being pressed.</span>

<span class="sd">        If *timeout* is negative, does not timeout.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">blocking_input</span> <span class="o">=</span> <span class="n">BlockingKeyMouseInput</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">blocking_input</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span></div>

<div class="viewcode-block" id="Figure.get_default_bbox_extra_artists"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.get_default_bbox_extra_artists">[docs]</a>    <span class="k">def</span> <span class="nf">get_default_bbox_extra_artists</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">bbox_artists</span> <span class="o">=</span> <span class="p">[</span><span class="n">artist</span> <span class="k">for</span> <span class="n">artist</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_children</span><span class="p">()</span>
                        <span class="k">if</span> <span class="n">artist</span><span class="o">.</span><span class="n">get_visible</span><span class="p">()]</span>
        <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_visible</span><span class="p">():</span>
                <span class="n">bbox_artists</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">get_default_bbox_extra_artists</span><span class="p">())</span>
        <span class="c1"># we don&#39;t want the figure&#39;s patch to influence the bbox calculation</span>
        <span class="n">bbox_artists</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">patch</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">bbox_artists</span></div>

<div class="viewcode-block" id="Figure.get_tightbbox"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.get_tightbbox">[docs]</a>    <span class="k">def</span> <span class="nf">get_tightbbox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">renderer</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a (tight) bounding box of the figure in inches.</span>

<span class="sd">        It only accounts axes title, axis labels, and axis</span>
<span class="sd">        ticklabels. Needs improvement.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">bb</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_visible</span><span class="p">():</span>
                <span class="n">bb</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">get_tightbbox</span><span class="p">(</span><span class="n">renderer</span><span class="p">))</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">bb</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">bbox_inches</span>

        <span class="n">_bbox</span> <span class="o">=</span> <span class="n">Bbox</span><span class="o">.</span><span class="n">union</span><span class="p">([</span><span class="n">b</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">bb</span> <span class="k">if</span> <span class="n">b</span><span class="o">.</span><span class="n">width</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">b</span><span class="o">.</span><span class="n">height</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">])</span>

        <span class="n">bbox_inches</span> <span class="o">=</span> <span class="n">TransformedBbox</span><span class="p">(</span><span class="n">_bbox</span><span class="p">,</span>
                                      <span class="n">Affine2D</span><span class="p">()</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="mf">1.</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">dpi</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">bbox_inches</span></div>

<div class="viewcode-block" id="Figure.init_layoutbox"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.init_layoutbox">[docs]</a>    <span class="k">def</span> <span class="nf">init_layoutbox</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        initilaize the layoutbox for use in constrained_layout.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_layoutbox</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_layoutbox</span> <span class="o">=</span> <span class="n">layoutbox</span><span class="o">.</span><span class="n">LayoutBox</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                     <span class="n">name</span><span class="o">=</span><span class="s1">&#39;figlb&#39;</span><span class="p">,</span>
                                     <span class="n">artist</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_layoutbox</span><span class="o">.</span><span class="n">constrain_geometry</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">)</span></div>

<div class="viewcode-block" id="Figure.execute_constrained_layout"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.execute_constrained_layout">[docs]</a>    <span class="k">def</span> <span class="nf">execute_constrained_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">renderer</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Use ``layoutbox`` to determine pos positions within axes.</span>

<span class="sd">        See also set_constrained_layout_pads</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="kn">from</span> <span class="nn">matplotlib._constrained_layout</span> <span class="k">import</span> <span class="p">(</span><span class="n">do_constrained_layout</span><span class="p">)</span>

        <span class="n">_log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Executing constrainedlayout&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_layoutbox</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Calling figure.constrained_layout, but figure &quot;</span>
                          <span class="s2">&quot;not setup to do constrained layout.  &quot;</span>
                          <span class="s2">&quot;   You either called GridSpec without the &quot;</span>
                          <span class="s2">&quot;fig keyword, you are using plt.subplot, &quot;</span>
                          <span class="s2">&quot;or you need to call figure or subplots&quot;</span>
                          <span class="s2">&quot;with the constrained_layout=True kwarg.&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">w_pad</span><span class="p">,</span> <span class="n">h_pad</span><span class="p">,</span> <span class="n">wspace</span><span class="p">,</span> <span class="n">hspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_constrained_layout_pads</span><span class="p">()</span>
        <span class="c1"># convert to unit-relative lengths</span>

        <span class="n">fig</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">get_size_inches</span><span class="p">()</span>
        <span class="n">w_pad</span> <span class="o">=</span> <span class="n">w_pad</span> <span class="o">/</span> <span class="n">width</span>
        <span class="n">h_pad</span> <span class="o">=</span> <span class="n">h_pad</span> <span class="o">/</span> <span class="n">height</span>
        <span class="k">if</span> <span class="n">renderer</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">renderer</span> <span class="o">=</span> <span class="n">layoutbox</span><span class="o">.</span><span class="n">get_renderer</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>
        <span class="n">do_constrained_layout</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">renderer</span><span class="p">,</span> <span class="n">h_pad</span><span class="p">,</span> <span class="n">w_pad</span><span class="p">,</span> <span class="n">hspace</span><span class="p">,</span> <span class="n">wspace</span><span class="p">)</span></div>

<div class="viewcode-block" id="Figure.tight_layout"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.tight_layout">[docs]</a>    <span class="k">def</span> <span class="nf">tight_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">renderer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mf">1.08</span><span class="p">,</span> <span class="n">h_pad</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">w_pad</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                     <span class="n">rect</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adjust subplot parameters to give specified padding.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        pad : float</span>
<span class="sd">            padding between the figure edge and the edges of subplots,</span>
<span class="sd">            as a fraction of the font-size.</span>

<span class="sd">        h_pad, w_pad : float, optional</span>
<span class="sd">            padding (height/width) between edges of adjacent subplots.</span>
<span class="sd">            Defaults to `pad_inches`.</span>

<span class="sd">        rect : tuple (left, bottom, right, top), optional</span>
<span class="sd">            a rectangle (left, bottom, right, top) in the normalized</span>
<span class="sd">            figure coordinate that the whole subplots area (including</span>
<span class="sd">            labels) will fit into. Default is (0, 0, 1, 1).</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="kn">from</span> <span class="nn">.tight_layout</span> <span class="k">import</span> <span class="p">(</span>
            <span class="n">get_renderer</span><span class="p">,</span> <span class="n">get_subplotspec_list</span><span class="p">,</span> <span class="n">get_tight_layout_figure</span><span class="p">)</span>

        <span class="n">subplotspec_list</span> <span class="o">=</span> <span class="n">get_subplotspec_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">)</span>
        <span class="k">if</span> <span class="kc">None</span> <span class="ow">in</span> <span class="n">subplotspec_list</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;This figure includes Axes that are not compatible &quot;</span>
                          <span class="s2">&quot;with tight_layout, so results might be incorrect.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">renderer</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">renderer</span> <span class="o">=</span> <span class="n">get_renderer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="n">get_tight_layout_figure</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">,</span> <span class="n">subplotspec_list</span><span class="p">,</span> <span class="n">renderer</span><span class="p">,</span>
            <span class="n">pad</span><span class="o">=</span><span class="n">pad</span><span class="p">,</span> <span class="n">h_pad</span><span class="o">=</span><span class="n">h_pad</span><span class="p">,</span> <span class="n">w_pad</span><span class="o">=</span><span class="n">w_pad</span><span class="p">,</span> <span class="n">rect</span><span class="o">=</span><span class="n">rect</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="Figure.align_xlabels"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.align_xlabels">[docs]</a>    <span class="k">def</span> <span class="nf">align_xlabels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Align the ylabels of subplots in the same subplot column if label</span>
<span class="sd">        alignment is being done automatically (i.e. the label position is</span>
<span class="sd">        not manually set).</span>

<span class="sd">        Alignment persists for draw events after this is called.</span>

<span class="sd">        If a label is on the bottom, it is aligned with labels on axes that</span>
<span class="sd">        also have their label on the bottom and that have the same</span>
<span class="sd">        bottom-most subplot row.  If the label is on the top,</span>
<span class="sd">        it is aligned with labels on axes with the same top-most row.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        axs : list of `~matplotlib.axes.Axes` (None)</span>
<span class="sd">            Optional list of (or ndarray) `~matplotlib.axes.Axes` to align</span>
<span class="sd">            the xlabels.  Default is to align all axes on the figure.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        matplotlib.figure.Figure.align_ylabels</span>

<span class="sd">        matplotlib.figure.Figure.align_labels</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        This assumes that ``axs`` are from the same `.GridSpec`, so that</span>
<span class="sd">        their `.SubplotSpec` positions correspond to figure positions.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Example with rotated xtick labels::</span>

<span class="sd">            fig, axs = plt.subplots(1, 2)</span>
<span class="sd">            for tick in axs[0].get_xticklabels():</span>
<span class="sd">                tick.set_rotation(55)</span>
<span class="sd">            axs[0].set_xlabel(&#39;XLabel 0&#39;)</span>
<span class="sd">            axs[1].set_xlabel(&#39;XLabel 1&#39;)</span>
<span class="sd">            fig.align_xlabels()</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">axs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">axs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span>
        <span class="n">axs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">axs</span><span class="p">)</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">axs</span><span class="p">:</span>
            <span class="n">_log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39; Working on: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_xlabel</span><span class="p">())</span>
            <span class="n">ss</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_subplotspec</span><span class="p">()</span>
            <span class="n">nrows</span><span class="p">,</span> <span class="n">ncols</span><span class="p">,</span> <span class="n">row0</span><span class="p">,</span> <span class="n">row1</span><span class="p">,</span> <span class="n">col0</span><span class="p">,</span> <span class="n">col1</span> <span class="o">=</span> <span class="n">ss</span><span class="o">.</span><span class="n">get_rows_columns</span><span class="p">()</span>
            <span class="n">labpo</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">get_label_position</span><span class="p">()</span>  <span class="c1"># top or bottom</span>

            <span class="c1"># loop through other axes, and search for label positions</span>
            <span class="c1"># that are same as this one, and that share the appropriate</span>
            <span class="c1"># row number.</span>
            <span class="c1">#  Add to a grouper associated with each axes of sibblings.</span>
            <span class="c1"># This list is inspected in `axis.draw` by</span>
            <span class="c1"># `axis._update_label_position`.</span>
            <span class="k">for</span> <span class="n">axc</span> <span class="ow">in</span> <span class="n">axs</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">axc</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">get_label_position</span><span class="p">()</span> <span class="o">==</span> <span class="n">labpo</span><span class="p">:</span>
                    <span class="n">ss</span> <span class="o">=</span> <span class="n">axc</span><span class="o">.</span><span class="n">get_subplotspec</span><span class="p">()</span>
                    <span class="n">nrows</span><span class="p">,</span> <span class="n">ncols</span><span class="p">,</span> <span class="n">rowc0</span><span class="p">,</span> <span class="n">rowc1</span><span class="p">,</span> <span class="n">colc</span><span class="p">,</span> <span class="n">col1</span> <span class="o">=</span> \
                            <span class="n">ss</span><span class="o">.</span><span class="n">get_rows_columns</span><span class="p">()</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">labpo</span> <span class="o">==</span> <span class="s1">&#39;bottom&#39;</span> <span class="ow">and</span> <span class="n">rowc1</span> <span class="o">==</span> <span class="n">row1</span> <span class="ow">or</span>
                        <span class="n">labpo</span> <span class="o">==</span> <span class="s1">&#39;top&#39;</span> <span class="ow">and</span> <span class="n">rowc0</span> <span class="o">==</span> <span class="n">row0</span><span class="p">):</span>
                        <span class="c1"># grouper for groups of xlabels to align</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_align_xlabel_grp</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">axc</span><span class="p">)</span></div>

<div class="viewcode-block" id="Figure.align_ylabels"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.align_ylabels">[docs]</a>    <span class="k">def</span> <span class="nf">align_ylabels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Align the ylabels of subplots in the same subplot column if label</span>
<span class="sd">        alignment is being done automatically (i.e. the label position is</span>
<span class="sd">        not manually set).</span>

<span class="sd">        Alignment persists for draw events after this is called.</span>

<span class="sd">        If a label is on the left, it is aligned with labels on axes that</span>
<span class="sd">        also have their label on the left and that have the same</span>
<span class="sd">        left-most subplot column.  If the label is on the right,</span>
<span class="sd">        it is aligned with labels on axes with the same right-most column.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        axs : list of `~matplotlib.axes.Axes` (None)</span>
<span class="sd">            Optional list (or ndarray) of `~matplotlib.axes.Axes` to align</span>
<span class="sd">            the ylabels. Default is to align all axes on the figure.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        matplotlib.figure.Figure.align_xlabels</span>

<span class="sd">        matplotlib.figure.Figure.align_labels</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        This assumes that ``axs`` are from the same `.GridSpec`, so that</span>
<span class="sd">        their `.SubplotSpec` positions correspond to figure positions.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Example with large yticks labels::</span>

<span class="sd">            fig, axs = plt.subplots(2, 1)</span>
<span class="sd">            axs[0].plot(np.arange(0, 1000, 50))</span>
<span class="sd">            axs[0].set_ylabel(&#39;YLabel 0&#39;)</span>
<span class="sd">            axs[1].set_ylabel(&#39;YLabel 1&#39;)</span>
<span class="sd">            fig.align_ylabels()</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">axs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">axs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes</span>
        <span class="n">axs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">axs</span><span class="p">)</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">axs</span><span class="p">:</span>
            <span class="n">_log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39; Working on: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_ylabel</span><span class="p">())</span>
            <span class="n">ss</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_subplotspec</span><span class="p">()</span>
            <span class="n">nrows</span><span class="p">,</span> <span class="n">ncols</span><span class="p">,</span> <span class="n">row0</span><span class="p">,</span> <span class="n">row1</span><span class="p">,</span> <span class="n">col0</span><span class="p">,</span> <span class="n">col1</span> <span class="o">=</span> <span class="n">ss</span><span class="o">.</span><span class="n">get_rows_columns</span><span class="p">()</span>
            <span class="n">same</span> <span class="o">=</span> <span class="p">[</span><span class="n">ax</span><span class="p">]</span>
            <span class="n">labpo</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">get_label_position</span><span class="p">()</span>  <span class="c1"># left or right</span>
            <span class="c1"># loop through other axes, and search for label positions</span>
            <span class="c1"># that are same as this one, and that share the appropriate</span>
            <span class="c1"># column number.</span>
            <span class="c1"># Add to a list associated with each axes of sibblings.</span>
            <span class="c1"># This list is inspected in `axis.draw` by</span>
            <span class="c1"># `axis._update_label_position`.</span>
            <span class="k">for</span> <span class="n">axc</span> <span class="ow">in</span> <span class="n">axs</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">axc</span> <span class="o">!=</span> <span class="n">ax</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">axc</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">get_label_position</span><span class="p">()</span> <span class="o">==</span> <span class="n">labpo</span><span class="p">:</span>
                        <span class="n">ss</span> <span class="o">=</span> <span class="n">axc</span><span class="o">.</span><span class="n">get_subplotspec</span><span class="p">()</span>
                        <span class="n">nrows</span><span class="p">,</span> <span class="n">ncols</span><span class="p">,</span> <span class="n">row0</span><span class="p">,</span> <span class="n">row1</span><span class="p">,</span> <span class="n">colc0</span><span class="p">,</span> <span class="n">colc1</span> <span class="o">=</span> \
                                <span class="n">ss</span><span class="o">.</span><span class="n">get_rows_columns</span><span class="p">()</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">labpo</span> <span class="o">==</span> <span class="s1">&#39;left&#39;</span> <span class="ow">and</span> <span class="n">colc0</span> <span class="o">==</span> <span class="n">col0</span> <span class="ow">or</span>
                            <span class="n">labpo</span> <span class="o">==</span> <span class="s1">&#39;right&#39;</span> <span class="ow">and</span> <span class="n">colc1</span> <span class="o">==</span> <span class="n">col1</span><span class="p">):</span>
                            <span class="c1"># grouper for groups of ylabels to align</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">_align_ylabel_grp</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">axc</span><span class="p">)</span></div>

<div class="viewcode-block" id="Figure.align_labels"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.align_labels">[docs]</a>    <span class="k">def</span> <span class="nf">align_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Align the xlabels and ylabels of subplots with the same subplots</span>
<span class="sd">        row or column (respectively) if label alignment is being</span>
<span class="sd">        done automatically (i.e. the label position is not manually set).</span>

<span class="sd">        Alignment persists for draw events after this is called.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        axs : list of `~matplotlib.axes.Axes` (None)</span>
<span class="sd">            Optional list (or ndarray) of `~matplotlib.axes.Axes` to</span>
<span class="sd">            align the labels.  Default is to align all axes on the figure.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        matplotlib.figure.Figure.align_xlabels</span>

<span class="sd">        matplotlib.figure.Figure.align_ylabels</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">align_xlabels</span><span class="p">(</span><span class="n">axs</span><span class="o">=</span><span class="n">axs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">align_ylabels</span><span class="p">(</span><span class="n">axs</span><span class="o">=</span><span class="n">axs</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="figaspect"><a class="viewcode-back" href="../../api/_as_gen/matplotlib.figure.figaspect.html#matplotlib.figure.figaspect">[docs]</a><span class="k">def</span> <span class="nf">figaspect</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a figure with specified aspect ratio.  If *arg* is a number,</span>
<span class="sd">    use that aspect ratio.  If *arg* is an array, figaspect will</span>
<span class="sd">    determine the width and height for a figure that would fit array</span>
<span class="sd">    preserving aspect ratio.  The figure width, height in inches are</span>
<span class="sd">    returned.  Be sure to create an axes with equal with and height,</span>
<span class="sd">    e.g.,</span>

<span class="sd">    Example usage::</span>

<span class="sd">      # make a figure twice as tall as it is wide</span>
<span class="sd">      w, h = figaspect(2.)</span>
<span class="sd">      fig = Figure(figsize=(w,h))</span>
<span class="sd">      ax = fig.add_axes([0.1, 0.1, 0.8, 0.8])</span>
<span class="sd">      ax.imshow(A, **kwargs)</span>


<span class="sd">      # make a figure with the proper aspect for an array</span>
<span class="sd">      A = rand(5,3)</span>
<span class="sd">      w, h = figaspect(A)</span>
<span class="sd">      fig = Figure(figsize=(w,h))</span>
<span class="sd">      ax = fig.add_axes([0.1, 0.1, 0.8, 0.8])</span>
<span class="sd">      ax.imshow(A, **kwargs)</span>

<span class="sd">    Thanks to Fernando Perez for this function</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">isarray</span> <span class="o">=</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="s1">&#39;shape&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">isscalar</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>

    <span class="c1"># min/max sizes to respect when autoscaling.  If John likes the idea, they</span>
    <span class="c1"># could become rc parameters, for now they&#39;re hardwired.</span>
    <span class="n">figsize_min</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">((</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">))</span>  <span class="c1"># min length for width/height</span>
    <span class="n">figsize_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">((</span><span class="mf">16.0</span><span class="p">,</span> <span class="mf">16.0</span><span class="p">))</span>  <span class="c1"># max length for width/height</span>

    <span class="c1"># Extract the aspect ratio of the array</span>
    <span class="k">if</span> <span class="n">isarray</span><span class="p">:</span>
        <span class="n">nr</span><span class="p">,</span> <span class="n">nc</span> <span class="o">=</span> <span class="n">arg</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">arr_ratio</span> <span class="o">=</span> <span class="n">nr</span> <span class="o">/</span> <span class="n">nc</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">arr_ratio</span> <span class="o">=</span> <span class="n">arg</span>

    <span class="c1"># Height of user figure defaults</span>
    <span class="n">fig_height</span> <span class="o">=</span> <span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># New size for the figure, keeping the aspect ratio of the caller</span>
    <span class="n">newsize</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">((</span><span class="n">fig_height</span> <span class="o">/</span> <span class="n">arr_ratio</span><span class="p">,</span> <span class="n">fig_height</span><span class="p">))</span>

    <span class="c1"># Sanity checks, don&#39;t drop either dimension below figsize_min</span>
    <span class="n">newsize</span> <span class="o">/=</span> <span class="nb">min</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="n">newsize</span> <span class="o">/</span> <span class="n">figsize_min</span><span class="p">))</span>

    <span class="c1"># Avoid humongous windows as well</span>
    <span class="n">newsize</span> <span class="o">/=</span> <span class="nb">max</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="n">newsize</span> <span class="o">/</span> <span class="n">figsize_max</span><span class="p">))</span>

    <span class="c1"># Finally, if we have a really funky aspect ratio, break it but respect</span>
    <span class="c1"># the min/max dimensions (we don&#39;t want figures 10 feet tall!)</span>
    <span class="n">newsize</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">newsize</span><span class="p">,</span> <span class="n">figsize_min</span><span class="p">,</span> <span class="n">figsize_max</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">newsize</span></div>

<span class="n">docstring</span><span class="o">.</span><span class="n">interpd</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Figure</span><span class="o">=</span><span class="n">martist</span><span class="o">.</span><span class="n">kwdoc</span><span class="p">(</span><span class="n">Figure</span><span class="p">))</span>
</pre></div>

          </div>
        </div>
      </div>

      <div class="clearer"></div>
    </div>
    <div class="footer">
        &copy; Copyright 2002 - 2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the Matplotlib development team; 2012 - 2018 The Matplotlib development team.
        <br />
      Last updated on Jun 28, 2018.
	Created using
	<ahref="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
	Doc version v2.2.2-101-g15e1eadd0.
    </div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55954603-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
<footer>
  <!--Flipcause Integration v3.0// Flipcause Integration Instructions:
Install the following code block once in the website Header (after <head> tag) -->

<style>

.fc-black_overlay{
display:none; position: fixed; z-index:1000001; top: 0%;left: 0%;width: 100%;height: 100%;
background-color: black; filter: alpha(opacity=50); cursor:pointer; opacity:0.5;
}

.fc-white_content {
opacity:1; display:none; margin-top: -320px; margin-left: -485px; width:970px; height:640px;
position:fixed; top:50%; left:50%; border: none;z-index:1000002;overflow: auto;
}

.fc-main-box{
opacity:1; display:none; margin:15px auto 0 auto; width:930px; position:relative; z-index:1000003;
}

.fc-widget_close{
opacity:1; content:url(http://i1338.photobucket.com/albums/o691/WeCause/X_zpse4a7e538.png);
position:absolute; z-index=1000004; right:-16px; top:-16px; display:block; cursor:pointer;
}

.floating_button{
display: block; margin-top: 0px; margin-left: 0px; width:auto ; height: auto;
position:fixed; z-index:999999; overflow: auto;
}

@keyframes backfadesin {
   from { opacity:0; }
   to {opacity:.5;}
}

@-moz-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}

@-webkit-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}

@-o-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}


@-ms-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}

@keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; transform: translateY(20px);}
   100% {opacity: 1; transform: translateY(0);}
}

@-moz-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -moz-transform: translateY(20px);}
   100% {opacity: 1; -moz-transform: translateY(0);}
}

@-webkit-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -webkit-transform: translateY(20px);}
   100% {opacity: 1; -webkit-transform: translateY(0);}
}

@-o-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -o-transform: translateY(20px);}
   100% {opacity: 1; -o-transform: translateY(0);}
}

@-ms-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -ms-transform: translateY(20px);}
   100% {opacity: 1; -ms-transform: translateY(0);}
}

</style>

<div id="fc-fade" class="fc-black_overlay" onclick="close_window()"></div>
<div id="fc-light" class="fc-white_content">
<div id="fc-main" class="fc-main-box">
<div id="fc-close" class="fc-widget_close" onclick="close_window()">
</div><iframe id="fc-myFrame" iframe height="580" width="925" style="border: 0;
border-radius:5px 5px 5px 5px; box-shadow:0 0 8px rgba(0, 0, 0, 0.5);" scrolling="no" src=""></iframe></div>
</div>

<!--END Flipcause Main Integration Code-->
</footer>
</html>