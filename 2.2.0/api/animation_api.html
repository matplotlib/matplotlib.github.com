<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>animation &mdash; Matplotlib 2.2.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/mpl.css"
type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css"
type="text/css" />
    <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 2.2.0 documentation"
          href="../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html"
/>
    <link rel="search" title="Search" href="../search.html"
/>
    <link rel="top" title="Matplotlib 2.2.0 documentation" href="../index.html" />
    <link rel="up" title="The Matplotlib API" href="index.html" />
    <link rel="next" title="matplotlib.animation.FuncAnimation" href="_as_gen/matplotlib.animation.FuncAnimation.html" />
    <link rel="prev" title="afm (Adobe Font Metrics interface)" href="afm_api.html" />
  <link rel="canonical" href="https://matplotlib.org/stable/api/animation_api.html" />



  </head>
  <body>
<div id="unreleased-message"> You are reading an old version of the documentation (v2.2.0).  For the latest version see <a href="https://matplotlib.org/stable/api/animation_api.html">https://matplotlib.org/stable/api/animation_api.html</a></div>


<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px; position: relative;">
<a href="../index.html">
    <div style="float: left; position: absolute; width: 496px; bottom: 0; padding-bottom: 24px"><span style="float: right; color: #789; background: white">Version 2.2.0</span></div>
    <img src="../_static/logo2.png" height="125px" border="0" alt="matplotlib"/></a>

<!-- The "Fork me on github" ribbon -->
<div id="forkongithub"><a href="https://github.com/matplotlib/matplotlib">Fork me on GitHub</a></div>
</div>




    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="_as_gen/matplotlib.animation.FuncAnimation.html" title="matplotlib.animation.FuncAnimation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="afm_api.html" title="afm (Adobe Font Metrics interface)"
             accesskey="P">previous</a> |</li>

        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../gallery/index.html">examples</a>|&nbsp;</li>
        <li><a href="../tutorials/index.html">tutorials</a>|&nbsp;</li>
        <li><a href="pyplot_summary.html">pyplot</a>|&nbsp;</li>
        <li><a href="../contents.html">docs</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">The Matplotlib API</a> &raquo;</li> 
      </ul>
    </div>

  
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">animation</a><ul>
<li><a class="reference internal" href="#id1">Animation</a><ul>
<li><a class="reference internal" href="#funcanimation"><code class="docutils literal notranslate"><span class="pre">FuncAnimation</span></code></a><ul>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#artistanimation"><code class="docutils literal notranslate"><span class="pre">ArtistAnimation</span></code></a><ul>
<li><a class="reference internal" href="#id2">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#writer-classes">Writer Classes</a><ul>
<li><a class="reference internal" href="#id3">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#helper-classes">Helper Classes</a><ul>
<li><a class="reference internal" href="#animation-base-classes">Animation Base Classes</a></li>
<li><a class="reference internal" href="#writer-registry">Writer Registry</a></li>
<li><a class="reference internal" href="#writer-base-classes">Writer Base Classes</a><ul>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#inheritance-diagrams">Inheritance Diagrams</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../contents.html">Documentation overview</a><ul>
  <li><a href="index.html">The Matplotlib API</a><ul>
      <li>Previous: <a href="afm_api.html" title="previous chapter">afm (Adobe Font Metrics interface)</a></li>
      <li>Next: <a href="_as_gen/matplotlib.animation.FuncAnimation.html" title="next chapter">matplotlib.animation.FuncAnimation</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api/animation_api.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-matplotlib.animation">
<span id="animation"></span><h1>animation<a class="headerlink" href="#module-matplotlib.animation" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#id1" id="id4">Animation</a></li>
<li><a class="reference internal" href="#writer-classes" id="id5">Writer Classes</a></li>
<li><a class="reference internal" href="#helper-classes" id="id6">Helper Classes</a></li>
<li><a class="reference internal" href="#inheritance-diagrams" id="id7">Inheritance Diagrams</a></li>
</ul>
</div>
<div class="section" id="id1">
<h2><a class="toc-backref" href="#id4">Animation</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>The easiest way to make a live animation in matplotlib is to use one of the
<a class="reference internal" href="_as_gen/matplotlib.animation.Animation.html#matplotlib.animation.Animation" title="matplotlib.animation.Animation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Animation</span></code></a> classes.</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="_as_gen/matplotlib.animation.FuncAnimation.html#matplotlib.animation.FuncAnimation" title="matplotlib.animation.FuncAnimation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FuncAnimation</span></code></a></td>
<td>Makes an animation by repeatedly calling a function <code class="docutils literal notranslate"><span class="pre">func</span></code>.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="_as_gen/matplotlib.animation.ArtistAnimation.html#matplotlib.animation.ArtistAnimation" title="matplotlib.animation.ArtistAnimation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ArtistAnimation</span></code></a></td>
<td>Animation using a fixed set of <code class="xref py py-obj docutils literal notranslate"><span class="pre">Artist</span></code> objects.</td>
</tr>
</tbody>
</table>
<p>In both cases it is critical to keep a reference to the instance
object.  The animation is advanced by a timer (typically from the host
GUI framework) which the <a class="reference internal" href="_as_gen/matplotlib.animation.Animation.html#matplotlib.animation.Animation" title="matplotlib.animation.Animation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Animation</span></code></a> object holds the only reference
to.  If you do not hold a reference to the <a class="reference internal" href="_as_gen/matplotlib.animation.Animation.html#matplotlib.animation.Animation" title="matplotlib.animation.Animation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Animation</span></code></a> object, it (and
hence the timers), will be garbage collected which will stop the
animation.</p>
<p>To save an animation to disk use <a class="reference internal" href="_as_gen/matplotlib.animation.Animation.html#matplotlib.animation.Animation.save" title="matplotlib.animation.Animation.save"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Animation.save</span></code></a> or <a class="reference internal" href="_as_gen/matplotlib.animation.Animation.html#matplotlib.animation.Animation.to_html5_video" title="matplotlib.animation.Animation.to_html5_video"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Animation.to_html5_video</span></code></a></p>
<p>See <a class="reference internal" href="#ani-writer-classes"><span class="std std-ref">Helper Classes</span></a> below for details about what movie formats are
supported.</p>
<div class="section" id="funcanimation">
<h3><code class="docutils literal notranslate"><span class="pre">FuncAnimation</span></code><a class="headerlink" href="#funcanimation" title="Permalink to this headline">¶</a></h3>
<p>The inner workings of <a class="reference internal" href="_as_gen/matplotlib.animation.FuncAnimation.html#matplotlib.animation.FuncAnimation" title="matplotlib.animation.FuncAnimation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FuncAnimation</span></code></a> is more-or-less:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">frames</span><span class="p">:</span>
   <span class="n">artists</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="o">*</span><span class="n">fargs</span><span class="p">)</span>
   <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span>
   <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">start_event_loop</span><span class="p">(</span><span class="n">interval</span><span class="p">)</span>
</pre></div>
</div>
<p>with details to handle ‘blitting’ (to dramatically improve the live
performance), to be non-blocking, not repeatedly start/stop the GUI
event loop, handle repeats, multiple animated axes, and easily save
the animation to a movie file.</p>
<p>‘Blitting’ is a <a class="reference external" href="https://en.wikipedia.org/wiki/Bit_blit">old technique</a> in computer graphics.  The
general gist is to take an existing bit map (in our case a mostly
rasterized figure) and then ‘blit’ one more artist on top.  Thus, by
managing a saved ‘clean’ bitmap, we can only re-draw the few artists
that are changing at each frame and possibly save significant amounts of
time.  When using blitting (by passing <code class="docutils literal notranslate"><span class="pre">blit=True</span></code>) the core loop of
<a class="reference internal" href="_as_gen/matplotlib.animation.FuncAnimation.html#matplotlib.animation.FuncAnimation" title="matplotlib.animation.FuncAnimation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FuncAnimation</span></code></a> gets a bit more complicated</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">update_blit</span><span class="p">(</span><span class="n">artists</span><span class="p">):</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">restore_region</span><span class="p">(</span><span class="n">bg_cache</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">artists</span><span class="p">:</span>
        <span class="n">a</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">draw_artist</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">bbox</span><span class="p">)</span>

<span class="n">artists</span> <span class="o">=</span> <span class="n">init_func</span><span class="p">()</span>

<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">artists</span><span class="p">:</span>
   <span class="n">a</span><span class="o">.</span><span class="n">set_animated</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="n">bg_cache</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">copy_from_bbox</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">bbox</span><span class="p">)</span>

<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">frames</span><span class="p">:</span>
    <span class="n">artists</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="o">*</span><span class="n">fargs</span><span class="p">)</span>
    <span class="n">update_blit</span><span class="p">(</span><span class="n">artists</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">start_event_loop</span><span class="p">(</span><span class="n">interval</span><span class="p">)</span>
</pre></div>
</div>
<p>This is of course leaving out many details (such as updating the
background when the figure is resized or fully re-drawn).  However,
this hopefully minimalist example gives a sense of how <code class="docutils literal notranslate"><span class="pre">init_func</span></code>
and <code class="docutils literal notranslate"><span class="pre">func</span></code> are used inside of <a class="reference internal" href="_as_gen/matplotlib.animation.FuncAnimation.html#matplotlib.animation.FuncAnimation" title="matplotlib.animation.FuncAnimation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FuncAnimation</span></code></a> and the theory of how
‘blitting’ works.</p>
<p>The expected signature on <code class="docutils literal notranslate"><span class="pre">func</span></code> and <code class="docutils literal notranslate"><span class="pre">init_func</span></code> is very simple to
keep <a class="reference internal" href="_as_gen/matplotlib.animation.FuncAnimation.html#matplotlib.animation.FuncAnimation" title="matplotlib.animation.FuncAnimation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FuncAnimation</span></code></a> out of your book keeping and plotting logic, but
this means that the callable objects you pass in must know what
artists they should be working on.  There are several approaches to
handling this, of varying complexity and encapsulation.  The simplest
approach, which works quite well in the case of a script, is to define the
artist at a global scope and let Python sort things out.  For example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib.animation</span> <span class="k">import</span> <span class="n">FuncAnimation</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">xdata</span><span class="p">,</span> <span class="n">ydata</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
<span class="n">ln</span><span class="p">,</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([],</span> <span class="p">[],</span> <span class="s1">&#39;ro&#39;</span><span class="p">,</span> <span class="n">animated</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">init</span><span class="p">():</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ln</span><span class="p">,</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="n">frame</span><span class="p">):</span>
    <span class="n">xdata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
    <span class="n">ydata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">frame</span><span class="p">))</span>
    <span class="n">ln</span><span class="o">.</span><span class="n">set_data</span><span class="p">(</span><span class="n">xdata</span><span class="p">,</span> <span class="n">ydata</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ln</span><span class="p">,</span>

<span class="n">ani</span> <span class="o">=</span> <span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">update</span><span class="p">,</span> <span class="n">frames</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">128</span><span class="p">),</span>
                    <span class="n">init_func</span><span class="o">=</span><span class="n">init</span><span class="p">,</span> <span class="n">blit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>The second method is to us <a class="reference external" href="https://docs.python.org/3/library/functools.html#functools.partial" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">functools.partial</span></code></a> to ‘bind’ artists to
function.  A third method is to use closures to build up the required
artists and functions.  A fourth method is to create a class.</p>
<div class="section" id="examples">
<h4>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h4>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gallery/animation/animate_decay.html">Decay</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/animation/bayes_update.html">The Bayes update</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/animation/double_pendulum_sgskip.html">The double pendulum problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/animation/animated_histogram.html">Animated histogram</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/animation/rain.html">Rain simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/animation/random_walk.html">Animated 3D random walk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/animation/simple_anim.html">Animated line plot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/animation/strip_chart.html">Oscilloscope</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/animation/unchained.html">MATPLOTLIB <strong>UNCHAINED</strong></a></li>
</ul>
</div>
</div>
</div>
<div class="section" id="artistanimation">
<h3><code class="docutils literal notranslate"><span class="pre">ArtistAnimation</span></code><a class="headerlink" href="#artistanimation" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id2">
<h4>Examples<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gallery/animation/dynamic_image.html">Animated image using a precomputed list of images</a></li>
</ul>
</div>
</div>
</div>
</div>
<div class="section" id="writer-classes">
<h2><a class="toc-backref" href="#id5">Writer Classes</a><a class="headerlink" href="#writer-classes" title="Permalink to this headline">¶</a></h2>
<p>The provided writers fall into a few broad categories.</p>
<p>The Pillow writer relies on the Pillow library to write the animation, keeping
all data in memory.</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="_as_gen/matplotlib.animation.PillowWriter.html#matplotlib.animation.PillowWriter" title="matplotlib.animation.PillowWriter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PillowWriter</span></code></a></td>
<td></td>
</tr>
</tbody>
</table>
<p>The pipe-based writers stream the captured frames over a pipe to an external
process.  The pipe-based variants tend to be more performant, but may not work
on all systems.</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="_as_gen/matplotlib.animation.FFMpegWriter.html#matplotlib.animation.FFMpegWriter" title="matplotlib.animation.FFMpegWriter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FFMpegWriter</span></code></a></td>
<td>Pipe-based ffmpeg writer.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="_as_gen/matplotlib.animation.ImageMagickFileWriter.html#matplotlib.animation.ImageMagickFileWriter" title="matplotlib.animation.ImageMagickFileWriter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageMagickFileWriter</span></code></a></td>
<td>File-based animated gif writer.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="_as_gen/matplotlib.animation.AVConvWriter.html#matplotlib.animation.AVConvWriter" title="matplotlib.animation.AVConvWriter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AVConvWriter</span></code></a></td>
<td>Pipe-based avconv writer.</td>
</tr>
</tbody>
</table>
<p>The file-based writers save temporary files for each frame which are stitched
into a single file at the end.  Although slower, these writers can be easier to
debug.</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="_as_gen/matplotlib.animation.FFMpegFileWriter.html#matplotlib.animation.FFMpegFileWriter" title="matplotlib.animation.FFMpegFileWriter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FFMpegFileWriter</span></code></a></td>
<td>File-based ffmpeg writer.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="_as_gen/matplotlib.animation.ImageMagickWriter.html#matplotlib.animation.ImageMagickWriter" title="matplotlib.animation.ImageMagickWriter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageMagickWriter</span></code></a></td>
<td>Pipe-based animated gif.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="_as_gen/matplotlib.animation.AVConvFileWriter.html#matplotlib.animation.AVConvFileWriter" title="matplotlib.animation.AVConvFileWriter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AVConvFileWriter</span></code></a></td>
<td>File-based avconv writer.</td>
</tr>
</tbody>
</table>
<p>Fundamentally, a <a class="reference internal" href="_as_gen/matplotlib.animation.MovieWriter.html#matplotlib.animation.MovieWriter" title="matplotlib.animation.MovieWriter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MovieWriter</span></code></a> provides a way to grab sequential frames
from the same underlying <a class="reference internal" href="_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" title="matplotlib.figure.Figure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Figure</span></code></a> object.  The base
class <a class="reference internal" href="_as_gen/matplotlib.animation.MovieWriter.html#matplotlib.animation.MovieWriter" title="matplotlib.animation.MovieWriter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MovieWriter</span></code></a> implements 3 methods and a context manager.  The
only difference between the pipe-based and file-based writers is in the
arguments to their respective <code class="docutils literal notranslate"><span class="pre">setup</span></code> methods.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">setup()</span></code> method is used to prepare the writer (possibly opening
a pipe), successive calls to <code class="docutils literal notranslate"><span class="pre">grab_frame()</span></code> capture a single frame
at a time and <code class="docutils literal notranslate"><span class="pre">finish()</span></code> finalizes the movie and writes the output
file to disk.  For example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">moviewriter</span> <span class="o">=</span> <span class="n">MovieWriter</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">moviewriter</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="s1">&#39;my_movie.ext&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">update_figure</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">moviewriter</span><span class="o">.</span><span class="n">grab_frame</span><span class="p">()</span>
<span class="n">moviewriter</span><span class="o">.</span><span class="n">finish</span><span class="p">()</span>
</pre></div>
</div>
<p>If using the writer classes directly (not through <a class="reference internal" href="_as_gen/matplotlib.animation.Animation.html#matplotlib.animation.Animation.save" title="matplotlib.animation.Animation.save"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Animation.save</span></code></a>), it is
strongly encouraged to use the <code class="xref py py-obj docutils literal notranslate"><span class="pre">saving</span></code> context manager</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">moviewriter</span><span class="o">.</span><span class="n">saving</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="s1">&#39;myfile.mp4&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="n">update_figure</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
        <span class="n">moviewriter</span><span class="o">.</span><span class="n">grab_frame</span><span class="p">()</span>
</pre></div>
</div>
<p>to ensures that setup and cleanup are performed as necessary.</p>
<div class="section" id="id3">
<h3>Examples<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gallery/animation/frame_grabbing_sgskip.html">Frame grabbing</a></li>
</ul>
</div>
</div>
</div>
<div class="section" id="helper-classes">
<span id="ani-writer-classes"></span><h2><a class="toc-backref" href="#id6">Helper Classes</a><a class="headerlink" href="#helper-classes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="animation-base-classes">
<h3>Animation Base Classes<a class="headerlink" href="#animation-base-classes" title="Permalink to this headline">¶</a></h3>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="_as_gen/matplotlib.animation.Animation.html#matplotlib.animation.Animation" title="matplotlib.animation.Animation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Animation</span></code></a></td>
<td>This class wraps the creation of an animation using matplotlib.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="_as_gen/matplotlib.animation.TimedAnimation.html#matplotlib.animation.TimedAnimation" title="matplotlib.animation.TimedAnimation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TimedAnimation</span></code></a></td>
<td><a class="reference internal" href="_as_gen/matplotlib.animation.Animation.html#matplotlib.animation.Animation" title="matplotlib.animation.Animation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Animation</span></code></a> subclass for time-based animation.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="writer-registry">
<h3>Writer Registry<a class="headerlink" href="#writer-registry" title="Permalink to this headline">¶</a></h3>
<p>A module-level registry is provided to map between the name of the
writer and the class to allow a string to be passed to
<a class="reference internal" href="_as_gen/matplotlib.animation.Animation.html#matplotlib.animation.Animation.save" title="matplotlib.animation.Animation.save"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Animation.save</span></code></a> instead of a writer instance.</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="_as_gen/matplotlib.animation.MovieWriterRegistry.html#matplotlib.animation.MovieWriterRegistry" title="matplotlib.animation.MovieWriterRegistry"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MovieWriterRegistry</span></code></a></td>
<td>Registry of available writer classes by human readable name.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="writer-base-classes">
<h3>Writer Base Classes<a class="headerlink" href="#writer-base-classes" title="Permalink to this headline">¶</a></h3>
<p>To reduce code duplication base classes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="_as_gen/matplotlib.animation.AbstractMovieWriter.html#matplotlib.animation.AbstractMovieWriter" title="matplotlib.animation.AbstractMovieWriter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AbstractMovieWriter</span></code></a></td>
<td>Abstract base class for writing movies.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="_as_gen/matplotlib.animation.MovieWriter.html#matplotlib.animation.MovieWriter" title="matplotlib.animation.MovieWriter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MovieWriter</span></code></a></td>
<td>Base class for writing movies.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="_as_gen/matplotlib.animation.FileMovieWriter.html#matplotlib.animation.FileMovieWriter" title="matplotlib.animation.FileMovieWriter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FileMovieWriter</span></code></a></td>
<td><a class="reference internal" href="_as_gen/matplotlib.animation.MovieWriter.html#matplotlib.animation.MovieWriter" title="matplotlib.animation.MovieWriter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MovieWriter</span></code></a> for writing to individual files and stitching at the end.</td>
</tr>
</tbody>
</table>
<p>and mixins</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="_as_gen/matplotlib.animation.AVConvBase.html#matplotlib.animation.AVConvBase" title="matplotlib.animation.AVConvBase"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AVConvBase</span></code></a></td>
<td>Mixin class for avconv output.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="_as_gen/matplotlib.animation.FFMpegBase.html#matplotlib.animation.FFMpegBase" title="matplotlib.animation.FFMpegBase"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FFMpegBase</span></code></a></td>
<td>Mixin class for FFMpeg output.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="_as_gen/matplotlib.animation.ImageMagickBase.html#matplotlib.animation.ImageMagickBase" title="matplotlib.animation.ImageMagickBase"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageMagickBase</span></code></a></td>
<td>Mixin class for ImageMagick output.</td>
</tr>
</tbody>
</table>
<p>are provided.</p>
<p>See the source code for how to easily implement new <a class="reference internal" href="_as_gen/matplotlib.animation.MovieWriter.html#matplotlib.animation.MovieWriter" title="matplotlib.animation.MovieWriter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MovieWriter</span></code></a> classes.</p>
</div>
</div>
<div class="section" id="inheritance-diagrams">
<h2><a class="toc-backref" href="#id7">Inheritance Diagrams</a><a class="headerlink" href="#inheritance-diagrams" title="Permalink to this headline">¶</a></h2>
<img src="../_images/inheritance-3d770d91db12b7ba71313f03e0382aa6506036be.png" alt="Inheritance diagram of matplotlib.animation.FuncAnimation, matplotlib.animation.ArtistAnimation" usemap="#inheritance95f52c58c5" class="inheritance"/>
<map id="inheritance95f52c58c5" name="inheritance95f52c58c5">
<area shape="rect" id="node1" href="_as_gen/matplotlib.animation.Animation.html#matplotlib.animation.Animation" target="_top" title="This class wraps the creation of an animation using matplotlib." alt="" coords="5,27,208,49"/>
<area shape="rect" id="node3" href="_as_gen/matplotlib.animation.TimedAnimation.html#matplotlib.animation.TimedAnimation" target="_top" title=":class:`Animation` subclass for time&#45;based animation." alt="" coords="250,27,488,49"/>
<area shape="rect" id="node2" href="_as_gen/matplotlib.animation.ArtistAnimation.html#matplotlib.animation.ArtistAnimation" target="_top" title="Animation using a fixed set of `Artist` objects." alt="" coords="530,5,763,27"/>
<area shape="rect" id="node4" href="_as_gen/matplotlib.animation.FuncAnimation.html#matplotlib.animation.FuncAnimation" target="_top" title="Makes an animation by repeatedly calling a function ``func``." alt="" coords="533,48,760,70"/>
</map><img src="../_images/inheritance-dd8c4371a56b81aafe10a263eb5d9fe2261ef76c.png" alt="Inheritance diagram of matplotlib.animation.AVConvFileWriter, matplotlib.animation.AVConvWriter, matplotlib.animation.FFMpegFileWriter, matplotlib.animation.FFMpegWriter, matplotlib.animation.ImageMagickFileWriter, matplotlib.animation.ImageMagickWriter" usemap="#inheritance7d9f599b8e" class="inheritance"/>
<map id="inheritance7d9f599b8e" name="inheritance7d9f599b8e">
<area shape="rect" id="node1" href="_as_gen/matplotlib.animation.AVConvBase.html#matplotlib.animation.AVConvBase" target="_top" title="Mixin class for avconv output." alt="" coords="487,25,601,37"/>
<area shape="rect" id="node3" href="_as_gen/matplotlib.animation.AVConvFileWriter.html#matplotlib.animation.AVConvFileWriter" target="_top" title="File&#45;based avconv writer." alt="" coords="638,37,766,49"/>
<area shape="rect" id="node5" href="_as_gen/matplotlib.animation.AVConvWriter.html#matplotlib.animation.AVConvWriter" target="_top" title="Pipe&#45;based avconv writer." alt="" coords="643,14,760,26"/>
<area shape="rect" id="node2" href="_as_gen/matplotlib.animation.FFMpegBase.html#matplotlib.animation.FFMpegBase" target="_top" title="Mixin class for FFMpeg output." alt="" coords="326,25,439,37"/>
<area shape="rect" id="node4" href="_as_gen/matplotlib.animation.FFMpegFileWriter.html#matplotlib.animation.FFMpegFileWriter" target="_top" title="File&#45;based ffmpeg writer." alt="" coords="480,48,607,60"/>
<area shape="rect" id="node6" href="_as_gen/matplotlib.animation.FFMpegWriter.html#matplotlib.animation.FFMpegWriter" target="_top" title="Pipe&#45;based ffmpeg writer." alt="" coords="485,2,602,14"/>
<area shape="rect" id="node7" href="_as_gen/matplotlib.animation.AbstractMovieWriter.html#matplotlib.animation.AbstractMovieWriter" target="_top" title="Abstract base class for writing movies. Fundamentally, what a MovieWriter" alt="" coords="2,48,139,60"/>
<area shape="rect" id="node9" href="_as_gen/matplotlib.animation.MovieWriter.html#matplotlib.animation.MovieWriter" target="_top" title="Base class for writing movies." alt="" coords="171,48,283,60"/>
<area shape="rect" id="node8" href="_as_gen/matplotlib.animation.FileMovieWriter.html#matplotlib.animation.FileMovieWriter" target="_top" title="`MovieWriter` for writing to individual files and stitching at the end." alt="" coords="321,48,443,60"/>
<area shape="rect" id="node11" href="_as_gen/matplotlib.animation.ImageMagickFileWriter.html#matplotlib.animation.ImageMagickFileWriter" target="_top" title="File&#45;based animated gif writer." alt="" coords="472,83,616,95"/>
<area shape="rect" id="node12" href="_as_gen/matplotlib.animation.ImageMagickWriter.html#matplotlib.animation.ImageMagickWriter" target="_top" title="Pipe&#45;based animated gif." alt="" coords="315,71,449,83"/>
<area shape="rect" id="node10" href="_as_gen/matplotlib.animation.ImageMagickBase.html#matplotlib.animation.ImageMagickBase" target="_top" title="Mixin class for ImageMagick output." alt="" coords="162,83,293,95"/>
</map></div>
</div>


          </div>
        </div>
      </div>

      <div class="clearer"></div>
    </div>
    <div class="footer">
        &copy; Copyright 2002 - 2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the Matplotlib development team; 2012 - 2017 The Matplotlib development team.
      Last updated on Mar 06, 2018.
      Created using <a
href="http://sphinx-doc.org/">Sphinx</a> 1.7.1.
    </div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55954603-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
<footer>
</footer>
</html>