<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Using matplotlib in a python shell &mdash; Matplotlib 3.1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/mpl.css"
type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css"
type="text/css" />
    <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
        <script type="text/javascript" src="../_static/copybutton.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 3.1.0 documentation"
          href="../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html"
/>
    <link rel="search" title="Search" href="../search.html"
/>
    <link rel="top" title="Matplotlib 3.1.0 documentation" href="../index.html" />
    <link rel="up" title="Interactive plots" href="interactive.html" />
    <link rel="next" title="Event handling and picking" href="event_handling.html" />
    <link rel="prev" title="Interactive navigation" href="navigation_toolbar.html" />
    <link rel="canonical" href="https://matplotlib.org/3.2.2/users/shell.html" />



    <script data-domain="matplotlib.org" defer="defer" src="https://views.scientific-python.org/js/script.js"></script>
  </head>
  <body>
<div id="unreleased-message"> You are reading an old version of the documentation (v3.1.0).  For the latest version see <a href="/stable/">https://matplotlib.org/stable/</a> </div>



<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px; position: relative;">
<a href="../index.html">
    <div style="float: left; position: absolute; width: 496px; bottom: 0; padding-bottom: 24px"><span style="float: right; color: #789; background: white">Version 3.1.0</span></div>
    <img src="../_static/logo2.png" height="125px" border="0" alt="matplotlib"/></a>

<!-- The "Fork me on github" ribbon -->
<div id="forkongithub"><a href="https://github.com/matplotlib/matplotlib">Fork me on GitHub</a></div>
</div>




    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="event_handling.html" title="Event handling and picking"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="navigation_toolbar.html" title="Interactive navigation"
             accesskey="P">previous</a> |</li>

        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../gallery/index.html">examples</a>|&nbsp;</li>
        <li><a href="../tutorials/index.html">tutorials</a>|&nbsp;</li>
        <li><a href="../api/index.html">API</a>|&nbsp;</li>
        <li><a href="../contents.html">contents</a> &raquo;</li>
          <li><a href="index.html" >User's Guide</a> &raquo;</li>
          <li><a href="interactive.html" accesskey="U">Interactive plots</a> &raquo;</li> 
      </ul>
    </div>

  
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../contents.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Using matplotlib in a python shell</a><ul>
<li><a class="reference internal" href="#ipython-to-the-rescue">IPython to the rescue</a></li>
<li><a class="reference internal" href="#other-python-interpreters">Other python interpreters</a></li>
<li><a class="reference internal" href="#controlling-interactive-updating">Controlling interactive updating</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../contents.html">Documentation overview</a><ul>
  <li><a href="index.html">User's Guide</a><ul>
  <li><a href="interactive.html">Interactive plots</a><ul>
      <li>Previous: <a href="navigation_toolbar.html" title="previous chapter">Interactive navigation</a></li>
      <li>Next: <a href="event_handling.html" title="next chapter">Event handling and picking</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div id="sidebar-pagesource" role="note" aria-label="source link"
    style="margin-top: 1.5em; padding-top: 0.1em; border-top: 1px solid #86989b">
  <a href="../_sources/users/shell.rst.txt"
     style="color: #c0c0c0" rel="nofollow">Show Page Source</a>
  </div>
        </div>
      </div>
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="using-matplotlib-in-a-python-shell">
<span id="mpl-shell"></span><h1>Using matplotlib in a python shell<a class="headerlink" href="#using-matplotlib-in-a-python-shell" title="Permalink to this headline">¶</a></h1>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This page is significantly out of date</p>
</div>
<p>By default, matplotlib defers drawing until the end of the script
because drawing can be an expensive operation, and you may not want
to update the plot every time a single property is changed, only once
after all the properties have changed.</p>
<p>But when working from the python shell, you usually do want to update
the plot with every command, e.g., after changing the
<a class="reference internal" href="../api/_as_gen/matplotlib.pyplot.xlabel.html#matplotlib.pyplot.xlabel" title="matplotlib.pyplot.xlabel"><code class="xref py py-func docutils literal notranslate"><span class="pre">xlabel()</span></code></a>, or the marker style of a line.
While this is simple in concept, in practice it can be tricky, because
matplotlib is a graphical user interface application under the hood,
and there are some tricks to make the applications work right in a
python shell.</p>
<div class="section" id="ipython-to-the-rescue">
<span id="ipython-pylab"></span><h2>IPython to the rescue<a class="headerlink" href="#ipython-to-the-rescue" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The mode described here still exists for historical reasons, but it is
highly advised not to use. It pollutes namespaces with functions that will
shadow python built-in and can lead to hard to track bugs. To get IPython
integration without imports the use of the  <code class="xref py py-obj docutils literal notranslate"><span class="pre">%matplotlib</span></code> magic is
preferred. See
<a class="reference external" href="https://ipython.readthedocs.io/en/stable/interactive/reference.html#plotting-with-matplotlib">ipython documentation</a>
.</p>
</div>
<p>Fortunately, <a class="reference external" href="http://ipython.org/">ipython</a>, an enhanced
interactive python shell, has figured out all of these tricks, and is
matplotlib aware, so when you start ipython in the <em>pylab</em> mode.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="go">johnh@flag:~&gt; ipython</span>
<span class="go">Python 2.4.5 (#4, Apr 12 2008, 09:09:16)</span>
<span class="go">IPython 0.9.0 -- An enhanced Interactive Python.</span>

<span class="gp">In [1]: </span><span class="o">%</span><span class="k">pylab</span>

<span class="go">  Welcome to pylab, a matplotlib-based Python environment.</span>
<span class="go">  For more information, type &#39;help(pylab)&#39;.</span>

<span class="gp">In [2]: </span><span class="n">x</span> <span class="o">=</span> <span class="n">randn</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">hist</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p>it sets everything up for you so interactive plotting works as you
would expect it to.  Call <a class="reference internal" href="../api/_as_gen/matplotlib.pyplot.figure.html#matplotlib.pyplot.figure" title="matplotlib.pyplot.figure"><code class="xref py py-func docutils literal notranslate"><span class="pre">figure()</span></code></a> and a
figure window pops up, call <a class="reference internal" href="../api/_as_gen/matplotlib.pyplot.plot.html#matplotlib.pyplot.plot" title="matplotlib.pyplot.plot"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot()</span></code></a> and your
data appears in the figure window.</p>
<p>Note in the example above that we did not import any matplotlib names
because in pylab mode, ipython will import them automatically.
ipython also turns on <em>interactive</em> mode for you, which causes every
pyplot command to trigger a figure update, and also provides a
matplotlib aware <code class="docutils literal notranslate"><span class="pre">run</span></code> command to run matplotlib scripts
efficiently.  ipython will turn off interactive mode during a <code class="docutils literal notranslate"><span class="pre">run</span></code>
command, and then restore the interactive state at the end of the
run so you can continue tweaking the figure manually.</p>
<p>There has been a lot of recent work to embed ipython, with pylab
support, into various GUI applications, so check on the ipython
mailing <a class="reference external" href="https://mail.scipy.org/mailman/listinfo/ipython-user">list</a> for the
latest status.</p>
</div>
<div class="section" id="other-python-interpreters">
<span id="other-shells"></span><h2>Other python interpreters<a class="headerlink" href="#other-python-interpreters" title="Permalink to this headline">¶</a></h2>
<p>If you can't use ipython, and still want to use matplotlib/pylab from
an interactive python shell, e.g., the plain-ole standard python
interactive interpreter, you
are going to need to understand what a matplotlib backend is
<a class="reference internal" href="../tutorials/introductory/usage.html#what-is-a-backend"><span class="std std-ref">What is a backend?</span></a>.</p>
<p>With the TkAgg backend, which uses the Tkinter user interface toolkit,
you can use matplotlib from an arbitrary non-gui python shell.  Just set your
<code class="docutils literal notranslate"><span class="pre">backend</span> <span class="pre">:</span> <span class="pre">TkAgg</span></code> and <code class="docutils literal notranslate"><span class="pre">interactive</span> <span class="pre">:</span> <span class="pre">True</span></code> in your
<code class="file docutils literal notranslate"><span class="pre">matplotlibrc</span></code> file (see <a class="reference internal" href="../tutorials/introductory/customizing.html"><span class="doc">Customizing Matplotlib with style sheets and rcParams</span></a>) and fire
up python.  Then:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylab</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;hi mom&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>should work out of the box.  This is also likely to work with recent
versions of the qt4agg and gtk3agg backends, and with the macosx backend
on the Macintosh. Note, in batch mode,
i.e. when making
figures from scripts, interactive mode can be slow since it redraws
the figure with each command.  So you may want to think carefully
before making this the default behavior via the <code class="file docutils literal notranslate"><span class="pre">matplotlibrc</span></code>
file instead of using the functions listed in the next section.</p>
<p>Gui shells are at best problematic, because they have to run a
mainloop, but interactive plotting also involves a mainloop.  Ipython
has sorted all this out for the primary matplotlib backends. There
may be other shells and IDEs that also work with matplotlib in interactive
mode, but one obvious candidate does not:
the python IDLE IDE is a Tkinter gui app that does
not support pylab interactive mode, regardless of backend.</p>
</div>
<div class="section" id="controlling-interactive-updating">
<span id="controlling-interactive"></span><h2>Controlling interactive updating<a class="headerlink" href="#controlling-interactive-updating" title="Permalink to this headline">¶</a></h2>
<p>The <em>interactive</em> property of the pyplot interface controls whether a
figure canvas is drawn on every pyplot command.  If <em>interactive</em> is
<em>False</em>, then the figure state is updated on every plot command, but
will only be drawn on explicit calls to
<a class="reference internal" href="../api/_as_gen/matplotlib.pyplot.draw.html#matplotlib.pyplot.draw" title="matplotlib.pyplot.draw"><code class="xref py py-func docutils literal notranslate"><span class="pre">draw()</span></code></a>.  When  <em>interactive</em> is
<em>True</em>, then every pyplot command triggers a draw.</p>
<p>The pyplot interface provides 4 commands that are useful for
interactive control.</p>
<dl class="docutils">
<dt><a class="reference internal" href="../api/_as_gen/matplotlib.pyplot.isinteractive.html#matplotlib.pyplot.isinteractive" title="matplotlib.pyplot.isinteractive"><code class="xref py py-func docutils literal notranslate"><span class="pre">isinteractive()</span></code></a></dt>
<dd>returns the interactive setting <em>True|False</em></dd>
<dt><a class="reference internal" href="../api/_as_gen/matplotlib.pyplot.ion.html#matplotlib.pyplot.ion" title="matplotlib.pyplot.ion"><code class="xref py py-func docutils literal notranslate"><span class="pre">ion()</span></code></a></dt>
<dd>turns interactive mode on</dd>
<dt><a class="reference internal" href="../api/_as_gen/matplotlib.pyplot.ioff.html#matplotlib.pyplot.ioff" title="matplotlib.pyplot.ioff"><code class="xref py py-func docutils literal notranslate"><span class="pre">ioff()</span></code></a></dt>
<dd>turns interactive mode off</dd>
<dt><a class="reference internal" href="../api/_as_gen/matplotlib.pyplot.draw.html#matplotlib.pyplot.draw" title="matplotlib.pyplot.draw"><code class="xref py py-func docutils literal notranslate"><span class="pre">draw()</span></code></a></dt>
<dd>forces a figure redraw</dd>
</dl>
<p>When working with a big figure in which drawing is expensive, you may
want to turn matplotlib's interactive setting off temporarily to avoid
the performance hit:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1">#create big-expensive-figure</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ioff</span><span class="p">()</span>      <span class="c1"># turn updates off</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;now how much would you pay?&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xticklabels</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">draw</span><span class="p">()</span>      <span class="c1"># force a draw</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;alldone&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">close</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ion</span><span class="p">()</span>      <span class="c1"># turn updating back on</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">rand</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span> <span class="n">mfc</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="n">mec</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">ms</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">mew</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>

      <div class="clearer"></div>
    </div>
    <div class="footer">
        &copy; Copyright 2002 - 2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the Matplotlib development team; 2012 - 2018 The Matplotlib development team.
        <br />
      Last updated on May 18, 2019.
	Created using
	<a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
	Doc version v3.1.0-4-g0078324e4.
    </div>

</body>
<footer>
</footer>
</html>