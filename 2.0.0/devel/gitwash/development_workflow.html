<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Git Development workflow &mdash; Matplotlib 2.0.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/mpl.css"
type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css"
type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 2.0.0 documentation"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html"
/>
    <link rel="search" title="Search" href="../../search.html"
/>
    <link rel="top" title="Matplotlib 2.0.0 documentation" href="../../index.html" />
    <link rel="up" title="Setting up for development" href="setting_up_for_development.html" />
    <link rel="next" title="Two and three dots in difference specs" href="dot2_dot3.html" />
    <link rel="prev" title="Configure git" href="configure_git.html" /> 


    <link rel="canonical" href="https://matplotlib.org/stable/devel/gitwash/development_workflow.html" />
    <script data-domain="matplotlib.org" defer="defer" src="https://views.scientific-python.org/js/script.js"></script>
  </head>
  <body>
<div id="unreleased-message"> You are reading an old version of the documentation (v2.0.0).  For the latest version see <a href="https://matplotlib.org/stable/devel/gitwash/development_workflow.html">https://matplotlib.org/stable/devel/gitwash/development_workflow.html</a></div>



<!-- The "Fork me on github" ribbon -->
<img style="float: right; margin-bottom: -40px; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" usemap="#ribbonmap"/>
<map name="ribbonmap">
    <area shape="poly" coords="15,0,148,-1,148,135" href="https://github.com/matplotlib/matplotlib" title="Fork me on GitHub" />
</map>

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="../../index.html"><img src="../../_static/logo2.svg" width="540px" border="0" alt="matplotlib"/></a>
</div>




    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="dot2_dot3.html" title="Two and three dots in difference specs"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="configure_git.html" title="Configure git"
             accesskey="P">previous</a> |</li>

        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../examples/index.html">examples</a>|&nbsp;</li>
        <li><a href="../../gallery.html">gallery</a>|&nbsp;</li>
        <li><a href="../../api/pyplot_summary.html">pyplot</a>|&nbsp;</li>
        <li><a href="../../contents.html">docs</a> &raquo;</li>
          <li><a href="../index.html" >The Matplotlib Developers&#8217; Guide</a> &raquo;</li>
          <li><a href="index.html" >Working with <em>matplotlib</em> source code</a> &raquo;</li>
          <li><a href="setting_up_for_development.html" accesskey="U">Setting up for development</a> &raquo;</li> 
      </ul>
    </div>

  
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<a href="http://depsy.org/package/python/matplotlib">
  <img src="http://depsy.org/api/package/pypi/matplotlib/badge.svg">
</a>

<br/>

Travis-CI: <a href="https://travis-ci.org/matplotlib/matplotlib">
  <img src="https://travis-ci.org/matplotlib/matplotlib.svg?branch=master"/>
</a>
<br/>
  <h3><a href="../../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Git Development workflow</a><ul>
<li><a class="reference internal" href="#workflow-summary">Workflow summary</a></li>
<li><a class="reference internal" href="#making-a-new-feature-branch">Making a new feature branch</a></li>
<li><a class="reference internal" href="#the-editing-workflow">The editing workflow</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#in-more-detail">In more detail</a></li>
</ul>
</li>
<li><a class="reference internal" href="#asking-for-code-review-emdash-open-a-pull-request-pr">Asking for code review — open a Pull Request (PR)</a></li>
<li><a class="reference internal" href="#rebasing-a-pull-request-pr">Rebasing a Pull Request (PR)</a></li>
<li><a class="reference internal" href="#staying-up-to-date-with-changes-in-the-central-repository">Staying up to date with changes in the central repository</a><ul>
<li><a class="reference internal" href="#id1">Overview</a></li>
<li><a class="reference internal" href="#in-detail">In detail</a></li>
<li><a class="reference internal" href="#other-integration-branches">Other integration branches</a></li>
<li><a class="reference internal" href="#recovering-from-accidental-commits-on-master">Recovering from accidental commits on master</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deleting-a-branch-on-github">Deleting a branch on GitHub</a></li>
<li><a class="reference internal" href="#exploring-your-repository">Exploring your repository</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../contents.html">Documentation overview</a><ul>
  <li><a href="../index.html">The Matplotlib Developers&#8217; Guide</a><ul>
  <li><a href="index.html">Working with <em>matplotlib</em> source code</a><ul>
  <li><a href="setting_up_for_development.html">Setting up for development</a><ul>
      <li>Previous: <a href="configure_git.html" title="previous chapter">Configure git</a></li>
      <li>Next: <a href="dot2_dot3.html" title="next chapter">Two and three dots in difference specs</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/devel/gitwash/development_workflow.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="git-development-workflow">
<span id="development-workflow"></span><h1>Git Development workflow<a class="headerlink" href="#git-development-workflow" title="Permalink to this headline">¶</a></h1>
<p>You&#8217;ve discovered a bug or something else you want to change
in <a class="reference external" href="http://matplotlib.org">matplotlib</a> .. — excellent!</p>
<p>You&#8217;ve worked out a way to fix it — even better!</p>
<p>You want to tell us about it — best of all!</p>
<p>The easiest way to contribute to <a class="reference external" href="http://matplotlib.org">matplotlib</a> is through <a class="reference external" href="https://github.com">github</a>.  If
for some reason you don&#8217;t want to use github, see
<a class="reference internal" href="patching.html#making-patches"><span class="std std-ref">Making patches</span></a> for instructions on how to email patches to the
mailing list.</p>
<p>You already have your own forked copy of the <a class="reference external" href="http://matplotlib.org">matplotlib</a> repository, by
following <a class="reference internal" href="forking_hell.html#forking"><span class="std std-ref">Making your own copy (fork) of matplotlib</span></a>, <a class="reference internal" href="set_up_fork.html#set-up-fork"><span class="std std-ref">Set up your fork</span></a>, and you have configured
<a class="reference external" href="https://git-scm.com/">git</a> by following <a class="reference internal" href="configure_git.html#configure-git"><span class="std std-ref">Configure git</span></a>.</p>
<div class="section" id="workflow-summary">
<h2>Workflow summary<a class="headerlink" href="#workflow-summary" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Keep your <code class="docutils literal"><span class="pre">master</span></code> branch clean of edits that have not been merged
to the main <a class="reference external" href="http://matplotlib.org">matplotlib</a> development repo.  Your <code class="docutils literal"><span class="pre">master</span></code> then will follow
the main <a class="reference external" href="http://matplotlib.org">matplotlib</a> repository.</li>
<li>Start a new <em>feature branch</em> for each set of edits that you do.</li>
<li>Do not merge the <code class="docutils literal"><span class="pre">master</span></code> branch or maintenance tracking branches
into your feature branch.  If you need to include commits from upstream
branches (either to pick up a bug fix or to resolve a conflict) please
<em>rebase</em> your branch on the upstream branch.</li>
<li>Ask for review!</li>
</ul>
<p>This way of working really helps to keep work well organized, and in
keeping history as clear as possible.</p>
<p>See — for example — <a class="reference external" href="http://www.mail-archive.com/dri-devel&#64;lists.sourceforge.net/msg39091.html">linux git workflow</a>.</p>
</div>
<div class="section" id="making-a-new-feature-branch">
<h2>Making a new feature branch<a class="headerlink" href="#making-a-new-feature-branch" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="o">-</span><span class="n">b</span> <span class="n">my</span><span class="o">-</span><span class="n">new</span><span class="o">-</span><span class="n">feature</span> <span class="n">master</span>
</pre></div>
</div>
<p>This will create and immediately check out a feature branch based on
<code class="docutils literal"><span class="pre">master</span></code>.  To create a feature branch based on a maintenance branch,
use:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">fetch</span> <span class="n">origin</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="o">-</span><span class="n">b</span> <span class="n">my</span><span class="o">-</span><span class="n">new</span><span class="o">-</span><span class="n">feature</span> <span class="n">origin</span><span class="o">/</span><span class="n">v1</span><span class="o">.</span><span class="mf">0.</span><span class="n">x</span>
</pre></div>
</div>
<p>Generally, you will want to keep this also on your public <a class="reference external" href="https://github.com">GitHub</a> fork
of <a class="reference external" href="http://matplotlib.org">matplotlib</a>.  To do this, you <a class="reference external" href="http://schacon.github.io/git/git-push.html">git push</a> this new branch up to your <a class="reference external" href="https://github.com">GitHub</a>
repo.  Generally (if you followed the instructions in these pages, and
by default), git will have a link to your <a class="reference external" href="https://github.com">GitHub</a> repo, called
<code class="docutils literal"><span class="pre">origin</span></code>.  You push up to your own repo on <a class="reference external" href="https://github.com">GitHub</a> with:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">my</span><span class="o">-</span><span class="n">new</span><span class="o">-</span><span class="n">feature</span>
</pre></div>
</div>
<p>You will need to use this exact command, rather than simply <code class="docutils literal"><span class="pre">git</span>
<span class="pre">push</span></code> every time you want to push changes on your feature branch to
your <a class="reference external" href="https://github.com">GitHub</a> repo.  However, in git &gt;1.7 you can set up a link by
using the <code class="docutils literal"><span class="pre">--set-upstream</span></code> option:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">push</span> <span class="o">--</span><span class="nb">set</span><span class="o">-</span><span class="n">upstream</span> <span class="n">origin</span> <span class="n">my</span><span class="o">-</span><span class="n">new</span><span class="o">-</span><span class="n">feature</span>
</pre></div>
</div>
<p>and then next time you need to push changes to your branch a simple
<code class="docutils literal"><span class="pre">git</span> <span class="pre">push</span></code> will suffice. Note that <code class="docutils literal"><span class="pre">git</span> <span class="pre">push</span></code> pushes out all
branches that are linked to a remote branch.</p>
</div>
<div class="section" id="the-editing-workflow">
<h2>The editing workflow<a class="headerlink" href="#the-editing-workflow" title="Permalink to this headline">¶</a></h2>
<div class="section" id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># hack hack</span>
<span class="n">git</span> <span class="n">add</span> <span class="n">my_new_file</span>
<span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="s1">&#39;NF - some message&#39;</span>
<span class="n">git</span> <span class="n">push</span>
</pre></div>
</div>
</div>
<div class="section" id="in-more-detail">
<h3>In more detail<a class="headerlink" href="#in-more-detail" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Make some changes</p>
</li>
<li><p class="first">See which files have changed with <code class="docutils literal"><span class="pre">git</span> <span class="pre">status</span></code> (see <a class="reference external" href="http://schacon.github.io/git/git-status.html">git status</a>).
You&#8217;ll see a listing like this one:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># On branch ny-new-feature</span>
<span class="c1"># Changed but not updated:</span>
<span class="c1">#   (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span>
<span class="c1">#   (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span>
<span class="c1">#</span>
<span class="c1">#  modified:   README</span>
<span class="c1">#</span>
<span class="c1"># Untracked files:</span>
<span class="c1">#   (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span>
<span class="c1">#</span>
<span class="c1">#  INSTALL</span>
<span class="n">no</span> <span class="n">changes</span> <span class="n">added</span> <span class="n">to</span> <span class="n">commit</span> <span class="p">(</span><span class="n">use</span> <span class="s2">&quot;git add&quot;</span> <span class="ow">and</span><span class="o">/</span><span class="ow">or</span> <span class="s2">&quot;git commit -a&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Check what the actual changes are with <code class="docutils literal"><span class="pre">git</span> <span class="pre">diff</span></code> (<a class="reference external" href="http://schacon.github.io/git/git-diff.html">git diff</a>).</p>
</li>
<li><p class="first">Add any new files to version control <code class="docutils literal"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">new_file_name</span></code> (see
<a class="reference external" href="http://schacon.github.io/git/git-add.html">git add</a>).</p>
</li>
<li><p class="first">To commit all modified files into the local copy of your repo,, do
<code class="docutils literal"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-am</span> <span class="pre">'A</span> <span class="pre">commit</span> <span class="pre">message'</span></code>.  Note the <code class="docutils literal"><span class="pre">-am</span></code> options to
<code class="docutils literal"><span class="pre">commit</span></code>. The <code class="docutils literal"><span class="pre">m</span></code> flag just signals that you&#8217;re going to type a
message on the command line.  The <code class="docutils literal"><span class="pre">a</span></code> flag — you can just take on
faith — or see <a class="reference external" href="http://gitready.com/beginner/2009/01/18/the-staging-area.html">why the -a flag?</a> — and the helpful use-case
description in the <a class="reference external" href="http://2ndscale.com/rtomayko/2008/the-thing-about-git">tangled working copy problem</a>. The <a class="reference external" href="http://schacon.github.io/git/git-commit.html">git commit</a> manual
page might also be useful.</p>
</li>
<li><p class="first">To push the changes up to your forked repo on <a class="reference external" href="https://github.com">GitHub</a>, do a <code class="docutils literal"><span class="pre">git</span>
<span class="pre">push</span></code> (see <code class="xref py py-obj docutils literal"><span class="pre">git</span> <span class="pre">push</span></code>).</p>
</li>
</ol>
</div>
</div>
<div class="section" id="asking-for-code-review-emdash-open-a-pull-request-pr">
<h2>Asking for code review — open a Pull Request (PR)<a class="headerlink" href="#asking-for-code-review-emdash-open-a-pull-request-pr" title="Permalink to this headline">¶</a></h2>
<p>It&#8217;s a good idea to consult the <a class="reference internal" href="../coding_guide.html#pull-request-checklist"><span class="std std-ref">Pull request checklist</span></a> to make
sure your pull request is ready for merging.</p>
<ol class="arabic simple">
<li>Go to your repo URL — e.g.,
<code class="docutils literal"><span class="pre">https://github.com/your-user-name/matplotlib</span></code>.</li>
<li>Select your feature branch from the drop down menu:</li>
<li>Click on the green button:</li>
<li>Make sure that you are requesting a pull against the correct branch</li>
<li>Enter a PR heading and description (if there is only one commit in
the PR github will automatically fill these fields for you).  If
this PR is addressing a specific issue, please reference it by number
(ex #1325) which github will automatically make into links.</li>
<li>Click &#8216;Create Pull Request&#8217; button!</li>
<li>Discussion of the change will take place in the pull request
thread.</li>
</ol>
</div>
<div class="section" id="rebasing-a-pull-request-pr">
<h2>Rebasing a Pull Request (PR)<a class="headerlink" href="#rebasing-a-pull-request-pr" title="Permalink to this headline">¶</a></h2>
<p>When working on a PR, changes may occur in the parent branch (usually master).
This can lead to conflict with changes in your branch. The conflicts can be
trivial: for example both the parent branch and your branch add an entry to
the top of <code class="xref py py-obj docutils literal"><span class="pre">CHANGELOG</span></code>.  Git can not unambiguously tell what to do with both
changes (should one go above the other? if so, which order? should it try to
merge them?) so it declares the branches can not be merged
cleanly. GitHub can only automatically merge PR without conflicts, so you will
need to manually &#8216;rebase&#8217;. This is the process of updating your branch with
upstream changes, and resolving conflicts.</p>
<p>In git, rebasing is a mild form of re-writing history: it effectively forwards
all your commits to the updated upstream commit. For a much more detailed
explanation (with pictures!) see <a class="reference external" href="https://git-scm.com/book/en/Git-Branching-Rebasing">this nice write up</a>.  The NumPy team has also
<a class="reference external" href="https://docs.scipy.org/doc/numpy/dev/gitwash/development_workflow.html#rebasing-on-master">documented how to do this</a>.
In general, re-writing history, particularly published history, is considered
bad practice, but in this case it is very useful.</p>
<p>The following example assumes that the remote of _your_ GitHub
repository is called <code class="xref py py-obj docutils literal"><span class="pre">origin</span></code> and the remote of the official
repository is called <code class="xref py py-obj docutils literal"><span class="pre">matplotlib</span></code>.</p>
<p>The first step is to make sure that your local copy of the upstream repository is
up-to-date:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ git fetch matplotlib
</pre></div>
</div>
<p>This updates your local copy of the repository, but does not change any files
in your working copy.  Next, switch to the branch that you want to update:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ git checkout backend_plt_refactor
</pre></div>
</div>
<p>You are now ready to start the rebase of your branch onto the target
parent branch, in this case <code class="xref py py-obj docutils literal"><span class="pre">matplotlib/master</span></code></p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ git rebase matplotlib/master
</pre></div>
</div>
<p>and git will then give a bunch of feed back:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">First</span><span class="p">,</span> <span class="n">rewinding</span> <span class="n">head</span> <span class="n">to</span> <span class="n">replay</span> <span class="n">your</span> <span class="n">work</span> <span class="n">on</span> <span class="n">top</span> <span class="n">of</span> <span class="n">it</span><span class="o">...</span>
<span class="n">Applying</span><span class="p">:</span> <span class="n">first</span> <span class="n">steps</span> <span class="n">to</span> <span class="n">extract</span> <span class="n">FigureManager</span><span class="o">*</span> <span class="ow">and</span> <span class="n">friends</span> <span class="kn">from</span> <span class="nn">pyplot</span>
<span class="n">Applying</span><span class="p">:</span> <span class="n">split</span> <span class="n">backend_qt4</span> <span class="n">into</span> <span class="n">two</span> <span class="n">parts</span><span class="p">,</span> <span class="k">with</span> <span class="ow">and</span> <span class="n">without</span> <span class="n">Gcf</span>
<span class="o">...</span>
<span class="n">Applying</span><span class="p">:</span> <span class="n">pep8</span> <span class="n">clean</span> <span class="n">up</span> <span class="n">on</span> <span class="n">backend_gtk3</span><span class="o">.</span><span class="n">py</span>
<span class="n">Using</span> <span class="n">index</span> <span class="n">info</span> <span class="n">to</span> <span class="n">reconstruct</span> <span class="n">a</span> <span class="n">base</span> <span class="n">tree</span><span class="o">...</span>
<span class="n">M</span>       <span class="n">lib</span><span class="o">/</span><span class="n">matplotlib</span><span class="o">/</span><span class="n">backends</span><span class="o">/</span><span class="n">backend_gtk3</span><span class="o">.</span><span class="n">py</span>
<span class="n">Falling</span> <span class="n">back</span> <span class="n">to</span> <span class="n">patching</span> <span class="n">base</span> <span class="ow">and</span> <span class="mi">3</span><span class="o">-</span><span class="n">way</span> <span class="n">merge</span><span class="o">...</span>
<span class="n">Auto</span><span class="o">-</span><span class="n">merging</span> <span class="n">lib</span><span class="o">/</span><span class="n">matplotlib</span><span class="o">/</span><span class="n">backends</span><span class="o">/</span><span class="n">backend_gtk3</span><span class="o">.</span><span class="n">py</span>
<span class="n">CONFLICT</span> <span class="p">(</span><span class="n">content</span><span class="p">):</span> <span class="n">Merge</span> <span class="n">conflict</span> <span class="ow">in</span> <span class="n">lib</span><span class="o">/</span><span class="n">matplotlib</span><span class="o">/</span><span class="n">backends</span><span class="o">/</span><span class="n">backend_gtk3</span><span class="o">.</span><span class="n">py</span>
<span class="n">Failed</span> <span class="n">to</span> <span class="n">merge</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">changes</span><span class="o">.</span>
<span class="n">Patch</span> <span class="n">failed</span> <span class="n">at</span> <span class="mi">0013</span> <span class="n">pep8</span> <span class="n">clean</span> <span class="n">up</span> <span class="n">on</span> <span class="n">backend_gtk3</span><span class="o">.</span><span class="n">py</span>
<span class="n">The</span> <span class="n">copy</span> <span class="n">of</span> <span class="n">the</span> <span class="n">patch</span> <span class="n">that</span> <span class="n">failed</span> <span class="ow">is</span> <span class="n">found</span> <span class="ow">in</span><span class="p">:</span>
   <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">tcaswell</span><span class="o">/</span><span class="n">other_source</span><span class="o">/</span><span class="n">matplotlib</span><span class="o">/.</span><span class="n">git</span><span class="o">/</span><span class="n">rebase</span><span class="o">-</span><span class="n">apply</span><span class="o">/</span><span class="n">patch</span>

<span class="n">When</span> <span class="n">you</span> <span class="n">have</span> <span class="n">resolved</span> <span class="n">this</span> <span class="n">problem</span><span class="p">,</span> <span class="n">run</span> <span class="s2">&quot;git rebase --continue&quot;</span><span class="o">.</span>
<span class="n">If</span> <span class="n">you</span> <span class="n">prefer</span> <span class="n">to</span> <span class="n">skip</span> <span class="n">this</span> <span class="n">patch</span><span class="p">,</span> <span class="n">run</span> <span class="s2">&quot;git rebase --skip&quot;</span> <span class="n">instead</span><span class="o">.</span>
<span class="n">To</span> <span class="n">check</span> <span class="n">out</span> <span class="n">the</span> <span class="n">original</span> <span class="n">branch</span> <span class="ow">and</span> <span class="n">stop</span> <span class="n">rebasing</span><span class="p">,</span> <span class="n">run</span> <span class="s2">&quot;git rebase --abort&quot;</span><span class="o">.</span>
</pre></div>
</div>
<p>We see that a number of commits could be cleanly applied to the tip of
<code class="xref py py-obj docutils literal"><span class="pre">matplotlib/master</span></code>.  However, git may eventually hit a commit that
had conflicts: in the example above, this happens in the file
<code class="xref py py-obj docutils literal"><span class="pre">lib/matplotlib/backends/backend_gtk3.py</span></code>).  For more verbose
information run</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ git status

You are currently rebasing branch &#39;backend_plt_refactor&#39; on &#39;e6f8993&#39;.
  (fix conflicts and then run &quot;git rebase --continue&quot;)
  (use &quot;git rebase --skip&quot; to skip this patch)
  (use &quot;git rebase --abort&quot; to check out the original branch)

Unmerged paths:
  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)
  (use &quot;git add &lt;file&gt;...&quot; to mark resolution)

        both modified:      lib/matplotlib/backends/backend_gtk3.py

no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
</pre></div>
</div>
<p>This tells you exactly where the conflict (caused by the target branch
and your commits modifying the same lines of code) is and provides
some advice on how to proceed.  Opening up the file in question, you
will see blocks that look something like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span> <span class="n">HEAD</span>
<span class="o">=======</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>   <span class="c1"># Is this needed? Other backends don&#39;t have it.</span>
<span class="o">&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span> <span class="n">pep8</span> <span class="n">clean</span> <span class="n">up</span> <span class="n">on</span> <span class="n">backend_gtk3</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>The block of code between <code class="xref py py-obj docutils literal"><span class="pre">&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">=======</span></code> is the code on the
target branch (in this case nothing) and the code between <code class="xref py py-obj docutils literal"><span class="pre">=======</span></code>
and <code class="xref py py-obj docutils literal"><span class="pre">&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span></code> is the code in the commit you are trying to rebase.  The
rest of the code is either the same or the diff can be unambiguously
applied.  You need to determine how to resolve the conflict (in this
case, the code on HEAD is correct).  Once you have resolved all the
conflicts, <code class="xref py py-obj docutils literal"><span class="pre">add</span></code> the file to the index:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ git add lib/matplotlib/backends/backend_gtk3.py
</pre></div>
</div>
<p>Repeat this for all of the files that have conflicts.  When you are done with
that you can check the status:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ git status
rebase in progress; onto e6f8993
You are currently rebasing branch &#39;backend_plt_refactor&#39; on &#39;e6f8993&#39;.
  (all conflicts fixed: run &quot;git rebase --continue&quot;)

Changes to be committed:
  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)

        modified:   lib/matplotlib/backends/backend_gtk3.py
</pre></div>
</div>
<p>which shows us that we have resolved all of the conflicts with this
commit and can continue:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ git rebase --continue
</pre></div>
</div>
<p>You now iterate the until you have made it through all of the commits
which have conflicts.  Once you have successfully rebased your branch,
be sure to re-run the tests to make sure everything is still working
properly.</p>
<p>Your branch is now rebased, however, because of the way git
determines the hash of each commit, it now shares no commits with your
old branch published on GitHub so you can not push to that branch as
you would when simply adding commits.  In order to publish your newly
rebased (and tested!) branch you need to use the <code class="xref py py-obj docutils literal"><span class="pre">--force</span></code> flag:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ git push --force origin
</pre></div>
</div>
<p>which will _replace_ all of the commits under your branch on GitHub
with the new versions of the commit.</p>
<p>Congratulations, you have rebased your branch!</p>
</div>
<div class="section" id="staying-up-to-date-with-changes-in-the-central-repository">
<h2>Staying up to date with changes in the central repository<a class="headerlink" href="#staying-up-to-date-with-changes-in-the-central-repository" title="Permalink to this headline">¶</a></h2>
<p>This updates your working copy from the upstream <a class="reference external" href="https://github.com/matplotlib/matplotlib">matplotlib GitHub</a>
repo.</p>
<div class="section" id="id1">
<h3>Overview<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># go to your master branch</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="n">master</span>
<span class="c1"># pull changes from github</span>
<span class="n">git</span> <span class="n">fetch</span> <span class="n">matplotlib</span>
<span class="c1"># merge from matplotlib</span>
<span class="n">git</span> <span class="n">merge</span> <span class="o">--</span><span class="n">ff</span><span class="o">-</span><span class="n">only</span> <span class="n">matplotlib</span><span class="o">/</span><span class="n">master</span>
</pre></div>
</div>
</div>
<div class="section" id="in-detail">
<h3>In detail<a class="headerlink" href="#in-detail" title="Permalink to this headline">¶</a></h3>
<p>We suggest that you do this only for your <code class="docutils literal"><span class="pre">master</span></code> branch, and leave
your &#8216;feature&#8217; branches unmerged, to keep their history as clean as
possible.  This makes code review easier:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">master</span>
</pre></div>
</div>
<p>Make sure you have done <a class="reference internal" href="set_up_fork.html#linking-to-upstream"><span class="std std-ref">Linking your repository to the upstream repo</span></a>.</p>
<p>Merge the upstream code into your current development by first pulling
the upstream repo to a copy on your local machine:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">fetch</span> <span class="n">upstream</span>
</pre></div>
</div>
<p>then merging into your current branch:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">merge</span> <span class="o">--</span><span class="n">ff</span><span class="o">-</span><span class="n">only</span> <span class="n">upstream</span><span class="o">/</span><span class="n">master</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">--ff-only</span></code> option guarantees that if you have mistakenly
committed code on your <code class="docutils literal"><span class="pre">master</span></code> branch, the merge fails at this point.
If you were to merge <code class="docutils literal"><span class="pre">upstream/master</span></code> to your <code class="docutils literal"><span class="pre">master</span></code>, you
would start to diverge from the upstream. If this command fails, see
the section on <a class="reference internal" href="#accidents">accidents</a>.</p>
<p>The letters &#8216;ff&#8217; in <code class="docutils literal"><span class="pre">--ff-only</span></code> mean &#8216;fast forward&#8217;, which is a
special case of merge where git can simply update your branch to point
to the other branch and not do any actual merging of files. For
<code class="docutils literal"><span class="pre">master</span></code> and other integration branches this is exactly what you
want.</p>
</div>
<div class="section" id="other-integration-branches">
<h3>Other integration branches<a class="headerlink" href="#other-integration-branches" title="Permalink to this headline">¶</a></h3>
<p>Some people like to keep separate local branches corresponding to the
maintenance branches on GitHub. At the time of this writing, <code class="docutils literal"><span class="pre">v1.0.x</span></code>
is the active maintenance branch. If you have such a local branch,
treat is just as <code class="docutils literal"><span class="pre">master</span></code>: don&#8217;t commit on it, and before starting
new branches off of it, update it from upstream:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">v1</span><span class="o">.</span><span class="mf">0.</span><span class="n">x</span>
<span class="n">git</span> <span class="n">fetch</span> <span class="n">upstream</span>
<span class="n">git</span> <span class="n">merge</span> <span class="o">--</span><span class="n">ff</span><span class="o">-</span><span class="n">only</span> <span class="n">upstream</span><span class="o">/</span><span class="n">v1</span><span class="o">.</span><span class="mf">0.</span><span class="n">x</span>
</pre></div>
</div>
<p>But you don&#8217;t necessarily have to have such a branch. Instead, if you
are preparing a bugfix that applies to the maintenance branch, fetch
from upstream and base your bugfix on the remote branch:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">fetch</span> <span class="n">upstream</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="o">-</span><span class="n">b</span> <span class="n">my</span><span class="o">-</span><span class="n">bug</span><span class="o">-</span><span class="n">fix</span> <span class="n">upstream</span><span class="o">/</span><span class="n">v1</span><span class="o">.</span><span class="mf">0.</span><span class="n">x</span>
</pre></div>
</div>
</div>
<div class="section" id="recovering-from-accidental-commits-on-master">
<span id="accidents"></span><h3>Recovering from accidental commits on master<a class="headerlink" href="#recovering-from-accidental-commits-on-master" title="Permalink to this headline">¶</a></h3>
<p>If you have accidentally committed changes on <code class="docutils literal"><span class="pre">master</span></code> and
<code class="docutils literal"><span class="pre">git</span> <span class="pre">merge</span> <span class="pre">--ff-only</span></code> fails, don&#8217;t panic! First find out how much
you have diverged:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">diff</span> <span class="n">upstream</span><span class="o">/</span><span class="n">master</span><span class="o">...</span><span class="n">master</span>
</pre></div>
</div>
<p>If you find that you want simply to get rid of the changes, reset
your <code class="docutils literal"><span class="pre">master</span></code> branch to the upstream version:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">hard</span> <span class="n">upstream</span><span class="o">/</span><span class="n">master</span>
</pre></div>
</div>
<p>As you might surmise from the words &#8216;reset&#8217; and &#8216;hard&#8217;, this command
actually causes your changes to the current branch to be lost, so
think twice.</p>
<p>If, on the other hand, you find that you want to preserve the changes,
create a feature branch for them:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="o">-</span><span class="n">b</span> <span class="n">my</span><span class="o">-</span><span class="n">important</span><span class="o">-</span><span class="n">changes</span>
</pre></div>
</div>
<p>Now <code class="docutils literal"><span class="pre">my-important-changes</span></code> points to the branch that has your
changes, and you can safely reset <code class="docutils literal"><span class="pre">master</span></code> as above — but
make sure to reset the correct branch:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">master</span>
<span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">hard</span> <span class="n">upstream</span><span class="o">/</span><span class="n">master</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="deleting-a-branch-on-github">
<h2>Deleting a branch on <a class="reference external" href="https://github.com">GitHub</a><a class="headerlink" href="#deleting-a-branch-on-github" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">master</span>
<span class="c1"># delete branch locally</span>
<span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">D</span> <span class="n">my</span><span class="o">-</span><span class="n">unwanted</span><span class="o">-</span><span class="n">branch</span>
<span class="c1"># delete branch on GitHub</span>
<span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="p">:</span><span class="n">my</span><span class="o">-</span><span class="n">unwanted</span><span class="o">-</span><span class="n">branch</span>
</pre></div>
</div>
<p>Note the colon <code class="docutils literal"><span class="pre">:</span></code> before <code class="docutils literal"><span class="pre">my-unwanted-branch</span></code>.  See also:
<a class="reference external" href="https://help.github.com/articles/pushing-to-a-remote/#deleting-a-remote-branch-or-tag">https://help.github.com/articles/pushing-to-a-remote/#deleting-a-remote-branch-or-tag</a></p>
</div>
<div class="section" id="exploring-your-repository">
<h2>Exploring your repository<a class="headerlink" href="#exploring-your-repository" title="Permalink to this headline">¶</a></h2>
<p>To see a graphical representation of the repository branches and
commits:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">gitk</span> <span class="o">--</span><span class="nb">all</span>
</pre></div>
</div>
<p>To see a linear list of commits for this branch:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">log</span>
</pre></div>
</div>
<p>You can also look at the <a class="reference external" href="https://github.com/blog/39-say-hello-to-the-network-graph-visualizer">network graph visualizer</a> for your <a class="reference external" href="https://github.com">GitHub</a>
repo.</p>
</div>
</div>


          </div>
        </div>
      </div>

      <div class="clearer"></div>
    </div>
    <div class="footer">
        &copy; Copyright 2002 - 2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the Matplotlib development team; 2012 - 2016 The Matplotlib development team.
      Last updated on Feb 20, 2017.
      Created using <a
href="http://sphinx-doc.org/">Sphinx</a> 1.5.2.
    </div>

</body>
<footer>
</footer>
</html>