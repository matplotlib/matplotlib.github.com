

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Howto &mdash; Matplotlib v1.1.0 documentation</title>
    <link rel="stylesheet" href="../_static/mpl.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib v1.1.0 documentation"
          href="../_static/opensearch.xml"/>
    <link rel="top" title="Matplotlib v1.1.0 documentation" href="../index.html" />
    <link rel="up" title="The Matplotlib FAQ" href="index.html" />
    <link rel="next" title="Troubleshooting" href="troubleshooting_faq.html" />
    <link rel="prev" title="Usage" href="usage_faq.html" /> 
  </head>
  <body>
<!-- Piwik -->
<script type="text/javascript">
if ("matplotlib.sourceforge.net" == document.location.hostname ||
    "matplotlib.sf.net" == document.location.hostname) {
  var pkBaseURL = (("https:" == document.location.protocol) ? "https://apps.sourceforge.net/piwik/matplotlib/" : "http://apps.sourceforge.net/piwik/matplotlib/");
  document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
}
</script>
<script type="text/javascript">
if ("matplotlib.sourceforge.net" == document.location.hostname ||
    "matplotlib.sf.net" == document.location.hostname) {
  piwik_action_name = '';
  piwik_idsite = 1;
  piwik_url = pkBaseURL + "piwik.php";
  piwik_log(piwik_action_name, piwik_idsite, piwik_url);
  document.write(unescape('%3Cobject%3E%3Cnoscript%3E%3Cp%3E%3Cimg src="http://apps.sourceforge.net/piwik/matplotlib/piwik.php?idsite=1" alt="piwik"/%3E%3C/p%3E%3C/noscript%3E%3C/object%3E'));
}
</script>
<!-- End Piwik Tag -->
<link rel="shortcut icon" href="_static/favicon.ico">

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="../index.html"><img src="../_static/logo2.png" border="0" alt="matplotlib"/></a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="troubleshooting_faq.html" title="Troubleshooting"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="usage_faq.html" title="Usage"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../search.html">search</a>|&nbsp;</li>
        <li><a href="../examples/index.html">examples</a>|&nbsp;</li>
        <li><a href="../gallery.html">gallery</a>|&nbsp;</li>
        <li><a href="../contents.html">docs</a> &raquo;</li>

          <li><a href="index.html" accesskey="U">The Matplotlib FAQ</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Howto</a><ul>
<li><a class="reference internal" href="#plotting-howto">Plotting: howto</a><ul>
<li><a class="reference internal" href="#find-all-objects-in-figure-of-a-certain-type">Find all objects in figure of a certain type</a></li>
<li><a class="reference internal" href="#save-transparent-figures">Save transparent figures</a></li>
<li><a class="reference internal" href="#save-multiple-plots-in-one-pdf-file">Save multiple plots in one pdf file</a></li>
<li><a class="reference internal" href="#move-the-edge-of-an-axes-to-make-room-for-tick-labels">Move the edge of an axes to make room for tick labels</a></li>
<li><a class="reference internal" href="#automatically-make-room-for-tick-labels">Automatically make room for tick labels</a></li>
<li><a class="reference internal" href="#configure-the-tick-linewidths">Configure the tick linewidths</a></li>
<li><a class="reference internal" href="#align-my-ylabels-across-multiple-subplots">Align my ylabels across multiple subplots</a></li>
<li><a class="reference internal" href="#skip-dates-where-there-is-no-data">Skip dates where there is no data</a></li>
<li><a class="reference internal" href="#test-whether-a-point-is-inside-a-polygon">Test whether a point is inside a polygon</a></li>
<li><a class="reference internal" href="#control-the-depth-of-plot-elements">Control the depth of plot elements</a></li>
<li><a class="reference internal" href="#make-the-aspect-ratio-for-plots-equal">Make the aspect ratio for plots equal</a></li>
<li><a class="reference internal" href="#make-a-movie">Make a movie</a></li>
<li><a class="reference internal" href="#multiple-y-axis-scales">Multiple y-axis scales</a></li>
<li><a class="reference internal" href="#generate-images-without-having-a-window-popup">Generate images without having a window popup</a></li>
<li><a class="reference internal" href="#use-show">Use <tt class="docutils literal"><span class="pre">show()</span></tt></a></li>
</ul>
</li>
<li><a class="reference internal" href="#contributing-howto">Contributing: howto</a><ul>
<li><a class="reference internal" href="#submit-a-patch">Submit a patch</a></li>
<li><a class="reference internal" href="#contribute-to-matplotlib-documentation">Contribute to matplotlib documentation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#matplotlib-in-a-web-application-server">Matplotlib in a web application server</a><ul>
<li><a class="reference internal" href="#matplotlib-with-apache">matplotlib with apache</a></li>
<li><a class="reference internal" href="#matplotlib-with-django">matplotlib with django</a></li>
<li><a class="reference internal" href="#matplotlib-with-zope">matplotlib with zope</a></li>
<li><a class="reference internal" href="#clickable-images-for-html">Clickable images for HTML</a></li>
</ul>
</li>
<li><a class="reference internal" href="#search-examples">Search examples</a></li>
<li><a class="reference internal" href="#cite-matplotlib">Cite Matplotlib</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="usage_faq.html"
                        title="previous chapter">Usage</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="troubleshooting_faq.html"
                        title="next chapter">Troubleshooting</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/faq/howto_faq.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="howto">
<span id="howto-faq"></span><h1>Howto<a class="headerlink" href="#howto" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#howto" id="id1">Howto</a><ul>
<li><a class="reference internal" href="#plotting-howto" id="id2">Plotting: howto</a><ul>
<li><a class="reference internal" href="#find-all-objects-in-figure-of-a-certain-type" id="id3">Find all objects in figure of a certain type</a></li>
<li><a class="reference internal" href="#save-transparent-figures" id="id4">Save transparent figures</a></li>
<li><a class="reference internal" href="#save-multiple-plots-in-one-pdf-file" id="id5">Save multiple plots in one pdf file</a></li>
<li><a class="reference internal" href="#move-the-edge-of-an-axes-to-make-room-for-tick-labels" id="id6">Move the edge of an axes to make room for tick labels</a></li>
<li><a class="reference internal" href="#automatically-make-room-for-tick-labels" id="id7">Automatically make room for tick labels</a></li>
<li><a class="reference internal" href="#configure-the-tick-linewidths" id="id8">Configure the tick linewidths</a></li>
<li><a class="reference internal" href="#align-my-ylabels-across-multiple-subplots" id="id9">Align my ylabels across multiple subplots</a></li>
<li><a class="reference internal" href="#skip-dates-where-there-is-no-data" id="id10">Skip dates where there is no data</a></li>
<li><a class="reference internal" href="#test-whether-a-point-is-inside-a-polygon" id="id11">Test whether a point is inside a polygon</a></li>
<li><a class="reference internal" href="#control-the-depth-of-plot-elements" id="id12">Control the depth of plot elements</a></li>
<li><a class="reference internal" href="#make-the-aspect-ratio-for-plots-equal" id="id13">Make the aspect ratio for plots equal</a></li>
<li><a class="reference internal" href="#make-a-movie" id="id14">Make a movie</a></li>
<li><a class="reference internal" href="#multiple-y-axis-scales" id="id15">Multiple y-axis scales</a></li>
<li><a class="reference internal" href="#generate-images-without-having-a-window-popup" id="id16">Generate images without having a window popup</a></li>
<li><a class="reference internal" href="#use-show" id="id17">Use <tt class="xref py py-func docutils literal"><span class="pre">show()</span></tt></a></li>
</ul>
</li>
<li><a class="reference internal" href="#contributing-howto" id="id18">Contributing: howto</a><ul>
<li><a class="reference internal" href="#submit-a-patch" id="id19">Submit a patch</a></li>
<li><a class="reference internal" href="#contribute-to-matplotlib-documentation" id="id20">Contribute to matplotlib documentation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#matplotlib-in-a-web-application-server" id="id21">Matplotlib in a web application server</a><ul>
<li><a class="reference internal" href="#matplotlib-with-apache" id="id22">matplotlib with apache</a></li>
<li><a class="reference internal" href="#matplotlib-with-django" id="id23">matplotlib with django</a></li>
<li><a class="reference internal" href="#matplotlib-with-zope" id="id24">matplotlib with zope</a></li>
<li><a class="reference internal" href="#clickable-images-for-html" id="id25">Clickable images for HTML</a></li>
</ul>
</li>
<li><a class="reference internal" href="#search-examples" id="id26">Search examples</a></li>
<li><a class="reference internal" href="#cite-matplotlib" id="id27">Cite Matplotlib</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="plotting-howto">
<span id="howto-plotting"></span><h2>Plotting: howto<a class="headerlink" href="#plotting-howto" title="Permalink to this headline">¶</a></h2>
<div class="section" id="find-all-objects-in-figure-of-a-certain-type">
<span id="howto-findobj"></span><h3>Find all objects in figure of a certain type<a class="headerlink" href="#find-all-objects-in-figure-of-a-certain-type" title="Permalink to this headline">¶</a></h3>
<p>Every matplotlib artist (see <a class="reference internal" href="../users/artists.html#artist-tutorial"><em>Artist tutorial</em></a>) has a method
called <a class="reference internal" href="../api/artist_api.html#matplotlib.artist.Artist.findobj" title="matplotlib.artist.Artist.findobj"><tt class="xref py py-meth docutils literal"><span class="pre">findobj()</span></tt></a> that can be used to
recursively search the artist for any artists it may contain that meet
some criteria (eg match all <a class="reference internal" href="../api/artist_api.html#matplotlib.lines.Line2D" title="matplotlib.lines.Line2D"><tt class="xref py py-class docutils literal"><span class="pre">Line2D</span></tt></a>
instances or match some arbitrary filter function).  For example, the
following snippet finds every object in the figure which has a
<cite>set_color</cite> property and makes the object blue:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">myfunc</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s">&#39;set_color&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">fig</span><span class="o">.</span><span class="n">findobj</span><span class="p">(</span><span class="n">myfunc</span><span class="p">):</span>
    <span class="n">o</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="s">&#39;blue&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also filter on class instances:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">matplotlib.text</span> <span class="kn">as</span> <span class="nn">text</span>
<span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">fig</span><span class="o">.</span><span class="n">findobj</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">Text</span><span class="p">):</span>
    <span class="n">o</span><span class="o">.</span><span class="n">set_fontstyle</span><span class="p">(</span><span class="s">&#39;italic&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="save-transparent-figures">
<span id="howto-transparent"></span><h3>Save transparent figures<a class="headerlink" href="#save-transparent-figures" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="../api/pyplot_api.html#matplotlib.pyplot.savefig" title="matplotlib.pyplot.savefig"><tt class="xref py py-meth docutils literal"><span class="pre">savefig()</span></tt></a> command has a keyword argument
<em>transparent</em> which, if True, will make the figure and axes
backgrounds transparent when saving, but will not affect the displayed
image on the screen.  If you need finer grained control, eg you do not
want full transparency or you to affect the screen displayed version
as well, you can set the alpha properties directly.  The figure has a
<a class="reference internal" href="../api/artist_api.html#matplotlib.patches.Rectangle" title="matplotlib.patches.Rectangle"><tt class="xref py py-class docutils literal"><span class="pre">matplotlib.patches.Rectangle</span></tt></a> instance called <em>patch</em>
and the axes has a Rectangle instance called <em>patch</em>.  You can set
any property on them directly (<em>facecolor</em>, <em>edgecolor</em>, <em>linewidth</em>,
<em>linestyle</em>, <em>alpha</em>).  Eg:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
<p>If you need <em>all</em> the figure elements to be transparent, there is
currently no global alpha setting, but you can set the alpha channel
on individual elements, eg:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">&#39;volts&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="save-multiple-plots-in-one-pdf-file">
<span id="howto-multipage"></span><h3>Save multiple plots in one pdf file<a class="headerlink" href="#save-multiple-plots-in-one-pdf-file" title="Permalink to this headline">¶</a></h3>
<p>Many image file formats can only have one image per file, but some
formats support multi-page files. Currently only the pdf backend has
support for this. To make a multi-page pdf file, first initialize the
file:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">matplotlib.backends.backend_pdf</span> <span class="kn">import</span> <span class="n">PdfPages</span>
<span class="n">pp</span> <span class="o">=</span> <span class="n">PdfPages</span><span class="p">(</span><span class="s">&#39;multipage.pdf&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can give the <a class="reference internal" href="../api/backend_pdf_api.html#matplotlib.backends.backend_pdf.PdfPages" title="matplotlib.backends.backend_pdf.PdfPages"><tt class="xref py py-class docutils literal"><span class="pre">PdfPages</span></tt></a>
object to <a class="reference internal" href="../api/pyplot_api.html#matplotlib.pyplot.savefig" title="matplotlib.pyplot.savefig"><tt class="xref py py-func docutils literal"><span class="pre">savefig()</span></tt></a>, but you have to specify
the format:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">savefig</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s">&#39;pdf&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>A simpler way is to call
<a class="reference internal" href="../api/backend_pdf_api.html#matplotlib.backends.backend_pdf.PdfPages.savefig" title="matplotlib.backends.backend_pdf.PdfPages.savefig"><tt class="xref py py-meth docutils literal"><span class="pre">PdfPages.savefig</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pp</span><span class="o">.</span><span class="n">savefig</span><span class="p">()</span>
</pre></div>
</div>
<p>Finally, the multipage pdf object has to be closed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="move-the-edge-of-an-axes-to-make-room-for-tick-labels">
<span id="howto-subplots-adjust"></span><h3>Move the edge of an axes to make room for tick labels<a class="headerlink" href="#move-the-edge-of-an-axes-to-make-room-for-tick-labels" title="Permalink to this headline">¶</a></h3>
<p>For subplots, you can control the default spacing on the left, right,
bottom, and top as well as the horizontal and vertical spacing between
multiple rows and columns using the
<a class="reference internal" href="../api/figure_api.html#matplotlib.figure.Figure.subplots_adjust" title="matplotlib.figure.Figure.subplots_adjust"><tt class="xref py py-meth docutils literal"><span class="pre">matplotlib.figure.Figure.subplots_adjust()</span></tt></a> method (in pyplot it
is <a class="reference internal" href="../api/pyplot_api.html#matplotlib.pyplot.subplots_adjust" title="matplotlib.pyplot.subplots_adjust"><tt class="xref py py-func docutils literal"><span class="pre">subplots_adjust()</span></tt></a>).  For example, to move
the bottom of the subplots up to make room for some rotated x tick
labels:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">bottom</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
</pre></div>
</div>
<p>You can control the defaults for these parameters in your
<tt class="file docutils literal"><span class="pre">matplotlibrc</span></tt> file; see <a class="reference internal" href="../users/customizing.html#customizing-matplotlib"><em>Customizing matplotlib</em></a>.  For
example, to make the above setting permanent, you would set:</p>
<div class="highlight-python"><pre>figure.subplot.bottom : 0.2   # the bottom of the subplots of the figure</pre>
</div>
<p>The other parameters you can configure are, with their defaults</p>
<dl class="docutils">
<dt><em>left</em>  = 0.125</dt>
<dd>the left side of the subplots of the figure</dd>
<dt><em>right</em> = 0.9</dt>
<dd>the right side of the subplots of the figure</dd>
<dt><em>bottom</em> = 0.1</dt>
<dd>the bottom of the subplots of the figure</dd>
<dt><em>top</em> = 0.9</dt>
<dd>the top of the subplots of the figure</dd>
<dt><em>wspace</em> = 0.2</dt>
<dd>the amount of width reserved for blank space between subplots</dd>
<dt><em>hspace</em> = 0.2</dt>
<dd>the amount of height reserved for white space between subplots</dd>
</dl>
<p>If you want additional control, you can create an
<a class="reference internal" href="../api/axes_api.html#matplotlib.axes.Axes" title="matplotlib.axes.Axes"><tt class="xref py py-class docutils literal"><span class="pre">Axes</span></tt></a> using the
<a class="reference internal" href="../api/pyplot_api.html#matplotlib.pyplot.axes" title="matplotlib.pyplot.axes"><tt class="xref py py-func docutils literal"><span class="pre">axes()</span></tt></a> command (or equivalently the figure
<a class="reference internal" href="../api/figure_api.html#matplotlib.figure.Figure.add_axes" title="matplotlib.figure.Figure.add_axes"><tt class="xref py py-meth docutils literal"><span class="pre">matplotlib.figure.Figure.add_axes()</span></tt></a> method), which allows you to
specify the location explicitly:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">([</span><span class="n">left</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">])</span>
</pre></div>
</div>
<p>where all values are in fractional (0 to 1) coordinates.  See
<a class="reference external" href="http://matplotlib.sf.net/examples/axes_demo.py">axes_demo.py</a> for
an example of placing axes manually.</p>
</div>
<div class="section" id="automatically-make-room-for-tick-labels">
<span id="howto-auto-adjust"></span><h3>Automatically make room for tick labels<a class="headerlink" href="#automatically-make-room-for-tick-labels" title="Permalink to this headline">¶</a></h3>
<p>In most use cases, it is enough to simpy change the subplots adjust
parameters as described in <a class="reference internal" href="#howto-subplots-adjust"><em>Move the edge of an axes to make room for tick labels</em></a>.  But in some
cases, you don&#8217;t know ahead of time what your tick labels will be, or
how large they will be (data and labels outside your control may be
being fed into your graphing application), and you may need to
automatically adjust your subplot parameters based on the size of the
tick labels.  Any <a class="reference internal" href="../api/artist_api.html#matplotlib.text.Text" title="matplotlib.text.Text"><tt class="xref py py-class docutils literal"><span class="pre">matplotlib.text.Text</span></tt></a> instance can report
its extent in window coordinates (a negative x coordinate is outside
the window), but there is a rub.</p>
<p>The <a class="reference internal" href="../api/backend_bases_api.html#matplotlib.backend_bases.RendererBase" title="matplotlib.backend_bases.RendererBase"><tt class="xref py py-class docutils literal"><span class="pre">matplotlib.backend_bases.RendererBase</span></tt></a> instance, which is
used to calculate the text size, is not known until the figure is
drawn (<a class="reference internal" href="../api/figure_api.html#matplotlib.figure.Figure.draw" title="matplotlib.figure.Figure.draw"><tt class="xref py py-meth docutils literal"><span class="pre">matplotlib.figure.Figure.draw()</span></tt></a>).  After the window is
drawn and the text instance knows its renderer, you can call
<a class="reference internal" href="../api/artist_api.html#matplotlib.text.Text.get_window_extent" title="matplotlib.text.Text.get_window_extent"><tt class="xref py py-meth docutils literal"><span class="pre">matplotlib.text.Text.get_window_extent()</span></tt></a>.  One way to solve
this chicken and egg problem is to wait until the figure is draw by
connecting
(<a class="reference internal" href="../api/backend_bases_api.html#matplotlib.backend_bases.FigureCanvasBase.mpl_connect" title="matplotlib.backend_bases.FigureCanvasBase.mpl_connect"><tt class="xref py py-meth docutils literal"><span class="pre">matplotlib.backend_bases.FigureCanvasBase.mpl_connect()</span></tt></a>) to the
&#8220;on_draw&#8221; signal (<a class="reference internal" href="../api/backend_bases_api.html#matplotlib.backend_bases.DrawEvent" title="matplotlib.backend_bases.DrawEvent"><tt class="xref py py-class docutils literal"><span class="pre">DrawEvent</span></tt></a>) and
get the window extent there, and then do something with it, eg move
the left of the canvas over; see <a class="reference internal" href="../users/event_handling.html#event-handling-tutorial"><em>Event handling and picking</em></a>.</p>
<p>Here is that gets a bounding box in relative figure coordinates (0..1)
of each of the labels and uses it to move the left of the subplots
over so that the tick labels fit in the figure</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.transforms</span> <span class="kn">as</span> <span class="nn">mtransforms</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">))</span>
<span class="n">labels</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">((</span><span class="s">&#39;really, really, really&#39;</span><span class="p">,</span> <span class="s">&#39;long&#39;</span><span class="p">,</span> <span class="s">&#39;labels&#39;</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">on_draw</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
   <span class="n">bboxes</span> <span class="o">=</span> <span class="p">[]</span>
   <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">labels</span><span class="p">:</span>
       <span class="n">bbox</span> <span class="o">=</span> <span class="n">label</span><span class="o">.</span><span class="n">get_window_extent</span><span class="p">()</span>
       <span class="c"># the figure transform goes from relative coords-&gt;pixels and we</span>
       <span class="c"># want the inverse of that</span>
       <span class="n">bboxi</span> <span class="o">=</span> <span class="n">bbox</span><span class="o">.</span><span class="n">inverse_transformed</span><span class="p">(</span><span class="n">fig</span><span class="o">.</span><span class="n">transFigure</span><span class="p">)</span>
       <span class="n">bboxes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bboxi</span><span class="p">)</span>

   <span class="c"># this is the bbox that bounds all the bboxes, again in relative</span>
   <span class="c"># figure coords</span>
   <span class="n">bbox</span> <span class="o">=</span> <span class="n">mtransforms</span><span class="o">.</span><span class="n">Bbox</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">bboxes</span><span class="p">)</span>
   <span class="k">if</span> <span class="n">fig</span><span class="o">.</span><span class="n">subplotpars</span><span class="o">.</span><span class="n">left</span> <span class="o">&lt;</span> <span class="n">bbox</span><span class="o">.</span><span class="n">width</span><span class="p">:</span>
       <span class="c"># we need to move it over</span>
       <span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mf">1.1</span><span class="o">*</span><span class="n">bbox</span><span class="o">.</span><span class="n">width</span><span class="p">)</span> <span class="c"># pad a little</span>
       <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
   <span class="k">return</span> <span class="bp">False</span>

<span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s">&#39;draw_event&#39;</span><span class="p">,</span> <span class="n">on_draw</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>[<a class="reference external" href="../plot_directive/pyplots/auto_subplots_adjust.py">source code</a>, <a class="reference external" href="../plot_directive/pyplots/auto_subplots_adjust.hires.png">hires.png</a>, <a class="reference external" href="../plot_directive/pyplots/auto_subplots_adjust.pdf">pdf</a>]</p>
<div class="figure">
<img alt="../_images/auto_subplots_adjust.png" src="../_images/auto_subplots_adjust.png" />
</div>
</div>
<div class="section" id="configure-the-tick-linewidths">
<span id="howto-ticks"></span><h3>Configure the tick linewidths<a class="headerlink" href="#configure-the-tick-linewidths" title="Permalink to this headline">¶</a></h3>
<p>In matplotlib, the ticks are <em>markers</em>.  All
<a class="reference internal" href="../api/artist_api.html#matplotlib.lines.Line2D" title="matplotlib.lines.Line2D"><tt class="xref py py-class docutils literal"><span class="pre">Line2D</span></tt></a> objects support a line (solid,
dashed, etc) and a marker (circle, square, tick).  The tick linewidth
is controlled by the &#8220;markeredgewidth&#8221; property:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>

<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_xticklines</span><span class="p">()</span> <span class="o">+</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_yticklines</span><span class="p">():</span>
    <span class="n">line</span><span class="o">.</span><span class="n">set_markersize</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>The other properties that control the tick marker, and all markers,
are <tt class="docutils literal"><span class="pre">markerfacecolor</span></tt>, <tt class="docutils literal"><span class="pre">markeredgecolor</span></tt>, <tt class="docutils literal"><span class="pre">markeredgewidth</span></tt>,
<tt class="docutils literal"><span class="pre">markersize</span></tt>.  For more information on configuring ticks, see
<a class="reference internal" href="../users/artists.html#axis-container"><em>Axis containers</em></a> and <a class="reference internal" href="../users/artists.html#tick-container"><em>Tick containers</em></a>.</p>
</div>
<div class="section" id="align-my-ylabels-across-multiple-subplots">
<span id="howto-align-label"></span><h3>Align my ylabels across multiple subplots<a class="headerlink" href="#align-my-ylabels-across-multiple-subplots" title="Permalink to this headline">¶</a></h3>
<p>If you have multiple subplots over one another, and the y data have
different scales, you can often get ylabels that do not align
vertically across the multiple subplots, which can be unattractive.
By default, matplotlib positions the x location of the ylabel so that
it does not overlap any of the y ticks.  You can override this default
behavior by specifying the coordinates of the label.  The example
below shows the default behavior in the left subplots, and the manual
setting in the right subplots.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">box</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">facecolor</span><span class="o">=</span><span class="s">&#39;yellow&#39;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">wspace</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>


<span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">221</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="mi">2000</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">&#39;ylabels not aligned&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">&#39;misaligned 1&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="n">box</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>
<span class="n">ax3</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">223</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">&#39;misaligned 2&#39;</span><span class="p">,</span><span class="n">bbox</span><span class="o">=</span><span class="n">box</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>


<span class="n">labelx</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.3</span>  <span class="c"># axes coords</span>

<span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">222</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">&#39;ylabels aligned&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="mi">2000</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">&#39;aligned 1&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="n">box</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_label_coords</span><span class="p">(</span><span class="n">labelx</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>

<span class="n">ax4</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">224</span><span class="p">)</span>
<span class="n">ax4</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="n">ax4</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">&#39;aligned 2&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="n">box</span><span class="p">)</span>
<span class="n">ax4</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_label_coords</span><span class="p">(</span><span class="n">labelx</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>


<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>[<a class="reference external" href="../plot_directive/pyplots/align_ylabels.py">source code</a>, <a class="reference external" href="../plot_directive/pyplots/align_ylabels.hires.png">hires.png</a>, <a class="reference external" href="../plot_directive/pyplots/align_ylabels.pdf">pdf</a>]</p>
<div class="figure">
<img alt="../_images/align_ylabels.png" src="../_images/align_ylabels.png" />
</div>
</div>
<div class="section" id="skip-dates-where-there-is-no-data">
<span id="date-index-plots"></span><h3>Skip dates where there is no data<a class="headerlink" href="#skip-dates-where-there-is-no-data" title="Permalink to this headline">¶</a></h3>
<p>When plotting time series, eg financial time series, one often wants
to leave out days on which there is no data, eg weekends.  By passing
in dates on the x-xaxis, you get large horizontal gaps on periods when
there is not data. The solution is to pass in some proxy x-data, eg
evenly sampled indicies, and then use a custom formatter to format
these as dates. The example below shows how to use an &#8216;index formatter&#8217;
to achieve the desired plot:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.mlab</span> <span class="kn">as</span> <span class="nn">mlab</span>
<span class="kn">import</span> <span class="nn">matplotlib.ticker</span> <span class="kn">as</span> <span class="nn">ticker</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">mlab</span><span class="o">.</span><span class="n">csv2rec</span><span class="p">(</span><span class="s">&#39;../data/aapl.csv&#39;</span><span class="p">)</span>
<span class="n">r</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="o">-</span><span class="mi">30</span><span class="p">:]</span>  <span class="c"># get the last 30 days</span>

<span class="n">N</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="n">ind</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>  <span class="c"># the evenly spaced plot indices</span>

<span class="k">def</span> <span class="nf">format_date</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="n">thisind</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mf">0.5</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">r</span><span class="o">.</span><span class="n">date</span><span class="p">[</span><span class="n">thisind</span><span class="p">]</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&#39;%Y-%m-</span><span class="si">%d</span><span class="s">&#39;</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">adj_close</span><span class="p">,</span> <span class="s">&#39;o-&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">ticker</span><span class="o">.</span><span class="n">FuncFormatter</span><span class="p">(</span><span class="n">format_date</span><span class="p">))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">autofmt_xdate</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="test-whether-a-point-is-inside-a-polygon">
<span id="point-in-poly"></span><h3>Test whether a point is inside a polygon<a class="headerlink" href="#test-whether-a-point-is-inside-a-polygon" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="../api/nxutils_api.html#module-matplotlib.nxutils" title="matplotlib.nxutils"><tt class="xref py py-mod docutils literal"><span class="pre">matplotlib.nxutils</span></tt></a> provides two high performance methods:
for a single point use <tt class="xref py py-func docutils literal"><span class="pre">pnpoly()</span></tt> and for an
array of points use <tt class="xref py py-func docutils literal"><span class="pre">points_inside_poly()</span></tt>.
For a discussion of the implementation see <a class="reference external" href="http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html">pnpoly</a>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [25]: </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="gp">In [26]: </span><span class="kn">import</span> <span class="nn">matplotlib.nxutils</span> <span class="kn">as</span> <span class="nn">nx</span>

<span class="gp">In [27]: </span><span class="n">verts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]],</span> <span class="nb">float</span><span class="p">)</span>

<span class="gp">In [28]: </span><span class="n">nx</span><span class="o">.</span><span class="n">pnpoly</span><span class="p">(</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">verts</span><span class="p">)</span>
<span class="gr">Out[28]: </span><span class="mi">1</span>

<span class="gp">In [29]: </span><span class="n">nx</span><span class="o">.</span><span class="n">pnpoly</span><span class="p">(</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="n">verts</span><span class="p">)</span>
<span class="gr">Out[29]: </span><span class="mi">0</span>

<span class="gp">In [30]: </span><span class="n">points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span>

<span class="gp">In [31]: </span><span class="n">points</span>
<span class="go">Out[31]:</span>
<span class="go">array([[ 1.03597426,  0.61029911],</span>
<span class="go">       [ 1.94061056,  0.65233947],</span>
<span class="go">       [ 1.08593748,  1.16010789],</span>
<span class="go">       [ 0.9255139 ,  1.79098751],</span>
<span class="go">       [ 1.54564936,  1.15604046],</span>
<span class="go">       [ 1.71514397,  1.26147554],</span>
<span class="go">       [ 1.19133536,  0.56787764],</span>
<span class="go">       [ 0.40939549,  0.35190339],</span>
<span class="go">       [ 1.8944715 ,  0.61785408],</span>
<span class="go">       [ 0.03128518,  0.48144145]])</span>

<span class="gp">In [32]: </span><span class="n">nx</span><span class="o">.</span><span class="n">points_inside_poly</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">verts</span><span class="p">)</span>
<span class="gr">Out[32]: </span><span class="n">array</span><span class="p">([</span><span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>
</pre></div>
</div>
For a complete example, see <a class="reference internal" href="../examples/event_handling/lasso_demo.html#event-handling-lasso-demo"><em>event_handling example code: lasso_demo.py</em></a>.</div>
<div class="section" id="control-the-depth-of-plot-elements">
<span id="howto-set-zorder"></span><h3>Control the depth of plot elements<a class="headerlink" href="#control-the-depth-of-plot-elements" title="Permalink to this headline">¶</a></h3>
<p>Within an axes, the order that the various lines, markers, text,
collections, etc appear is determined by the
<a class="reference internal" href="../api/artist_api.html#matplotlib.artist.Artist.set_zorder" title="matplotlib.artist.Artist.set_zorder"><tt class="xref py py-meth docutils literal"><span class="pre">matplotlib.artist.Artist.set_zorder()</span></tt></a> property.  The default
order is patches, lines, text, with collections of lines and
collections of patches appearing at the same level as regular lines
and patches, respectively:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">line</span><span class="p">,</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
See <a class="reference internal" href="../examples/pylab_examples/zorder_demo.html#pylab-examples-zorder-demo"><em>pylab_examples example code: zorder_demo.py</em></a> for a complete example.<p>You can also use the Axes property
<a class="reference internal" href="../api/axes_api.html#matplotlib.axes.Axes.set_axisbelow" title="matplotlib.axes.Axes.set_axisbelow"><tt class="xref py py-meth docutils literal"><span class="pre">matplotlib.axes.Axes.set_axisbelow()</span></tt></a> to control whether the grid
lines are placed above or below your other plot elements.</p>
</div>
<div class="section" id="make-the-aspect-ratio-for-plots-equal">
<span id="howto-axis-equal"></span><h3>Make the aspect ratio for plots equal<a class="headerlink" href="#make-the-aspect-ratio-for-plots-equal" title="Permalink to this headline">¶</a></h3>
<p>The Axes property <a class="reference internal" href="../api/axes_api.html#matplotlib.axes.Axes.set_aspect" title="matplotlib.axes.Axes.set_aspect"><tt class="xref py py-meth docutils literal"><span class="pre">matplotlib.axes.Axes.set_aspect()</span></tt></a> controls the
aspect ratio of the axes.  You can set it to be &#8216;auto&#8217;, &#8216;equal&#8217;, or
some ratio which controls the ratio:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="s">&#39;equal&#39;</span><span class="p">)</span>
</pre></div>
</div>
See <a class="reference internal" href="../examples/pylab_examples/equal_aspect_ratio.html#pylab-examples-equal-aspect-ratio"><em>pylab_examples example code: equal_aspect_ratio.py</em></a> for a complete example.</div>
<div class="section" id="make-a-movie">
<span id="howto-movie"></span><h3>Make a movie<a class="headerlink" href="#make-a-movie" title="Permalink to this headline">¶</a></h3>
<p>If you want to take an animated plot and turn it into a movie, the
best approach is to save a series of image files (eg PNG) and use an
external tool to convert them to a movie.  You can use <a class="reference external" href="http://www.mplayerhq.hu/DOCS/HTML/en/mencoder.html">mencoder</a>,
which is part of the <a class="reference external" href="http://www.mplayerhq.hu">mplayer</a> suite
for this:</p>
<div class="highlight-python"><pre>#fps (frames per second) controls the play speed
mencoder 'mf://*.png' -mf type=png:fps=10 -ovc \\
   lavc -lavcopts vcodec=wmv2 -oac copy -o animation.avi</pre>
</div>
<p>The swiss army knife of image tools, ImageMagick&#8217;s <a class="reference external" href="http://www.imagemagick.org/script/convert.php">convert</a> works for this as
well.</p>
<p>Here is a simple example script that saves some PNGs, makes them into
a movie, and then cleans up:</p>
<div class="highlight-python"><pre>import os, sys
import matplotlib.pyplot as plt

files = []
fig = plt.figure(figsize=(5,5))
ax = fig.add_subplot(111)
for i in range(50):  # 50 frames
    ax.cla()
    ax.imshow(rand(5,5), interpolation='nearest')
    fname = '_tmp%03d.png'%i
    print 'Saving frame', fname
    fig.savefig(fname)
    files.append(fname)

print 'Making movie animation.mpg - this make take a while'
os.system("mencoder 'mf://_tmp*.png' -mf type=png:fps=10 \\
  -ovc lavc -lavcopts vcodec=wmv2 -oac copy -o animation.mpg")</pre>
</div>
Josh Lifton provided this example <a class="reference internal" href="../examples/animation/movie_demo.html#animation-movie-demo"><em>animation example code: movie_demo.py</em></a>, which is possibly dated since it was written in 2004.</div>
<div class="section" id="multiple-y-axis-scales">
<span id="howto-twoscale"></span><h3>Multiple y-axis scales<a class="headerlink" href="#multiple-y-axis-scales" title="Permalink to this headline">¶</a></h3>
<p>A frequent request is to have two scales for the left and right
y-axis, which is possible using <a class="reference internal" href="../api/pyplot_api.html#matplotlib.pyplot.twinx" title="matplotlib.pyplot.twinx"><tt class="xref py py-func docutils literal"><span class="pre">twinx()</span></tt></a> (more
than two scales are not currently supported, though it is on the wish
list).  This works pretty well, though there are some quirks when you
are trying to interactively pan and zoom, since both scales do not get
the signals.</p>
<p>The approach <a class="reference internal" href="../api/pyplot_api.html#matplotlib.pyplot.twinx" title="matplotlib.pyplot.twinx"><tt class="xref py py-func docutils literal"><span class="pre">twinx()</span></tt></a> (and its sister
<a class="reference internal" href="../api/pyplot_api.html#matplotlib.pyplot.twiny" title="matplotlib.pyplot.twiny"><tt class="xref py py-func docutils literal"><span class="pre">twiny()</span></tt></a>) uses is to use <em>2 different axes</em>,
turning the axes rectangular frame off on the 2nd axes to keep it from
obscuring the first, and manually setting the tick locs and labels as
desired.  You can use separate matplotlib.ticker formatters and
locators as desired since the two axes are independent:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)</span>
<span class="n">s1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">s1</span><span class="p">,</span> <span class="s">&#39;b-&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">&#39;time (s)&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">&#39;exp&#39;</span><span class="p">)</span>

<span class="n">ax2</span> <span class="o">=</span> <span class="n">ax1</span><span class="o">.</span><span class="n">twinx</span><span class="p">()</span>
<span class="n">s2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">t</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="s">&#39;r.&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">&#39;sin&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
See <a class="reference internal" href="../examples/api/two_scales.html#api-two-scales"><em>api example code: two_scales.py</em></a> for a complete example</div>
<div class="section" id="generate-images-without-having-a-window-popup">
<span id="howto-batch"></span><h3>Generate images without having a window popup<a class="headerlink" href="#generate-images-without-having-a-window-popup" title="Permalink to this headline">¶</a></h3>
<p>The easiest way to do this is use an image backend (see
<a class="reference internal" href="installing_faq.html#what-is-a-backend"><em>What is a backend?</em></a>) such as Agg (for PNGs), PDF, SVG or PS.  In
your figure generating script, just place call
<a class="reference internal" href="../api/matplotlib_configuration_api.html#matplotlib.use" title="matplotlib.use"><tt class="xref py py-func docutils literal"><span class="pre">matplotlib.use()</span></tt></a> directive before importing pylab or
pyplot:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s">&#39;Agg&#39;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s">&#39;myfig&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#howto-webapp"><em>Matplotlib in a web application server</em></a>
   For information about running matplotlib inside of a web
   application.</p>
</div>
</div>
<div class="section" id="use-show">
<span id="howto-show"></span><h3>Use <tt class="xref py py-func docutils literal"><span class="pre">show()</span></tt><a class="headerlink" href="#use-show" title="Permalink to this headline">¶</a></h3>
<p>The user interface backends need to start the GUI mainloop, and this
is what <tt class="xref py py-func docutils literal"><span class="pre">show()</span></tt> does.  It tells matplotlib to
raise all of the figure windows and start the mainloop.  Because the
mainloop is blocking, you should only call this once per script, at
the end.  If you are using matplotlib to generate images only and do
not want a user interface window, you do not need to call <tt class="docutils literal"><span class="pre">show</span></tt>  (see
<a class="reference internal" href="#howto-batch"><em>Generate images without having a window popup</em></a> and <a class="reference internal" href="installing_faq.html#what-is-a-backend"><em>What is a backend?</em></a>).</p>
<p>Because it is expensive to draw, matplotlib does not want to redrawing the figure
many times in a script such as the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>            <span class="c"># draw here ?</span>
<span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;time&#39;</span><span class="p">)</span>           <span class="c"># and here ?</span>
<span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;volts&#39;</span><span class="p">)</span>          <span class="c"># and here ?</span>
<span class="n">title</span><span class="p">(</span><span class="s">&#39;a simple plot&#39;</span><span class="p">)</span>   <span class="c"># and here ?</span>
<span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>It is <em>possible</em> to force matplotlib to draw after every command,
which is what you usually want when working interactively at the
python console (see <a class="reference internal" href="../users/shell.html#mpl-shell"><em>Using matplotlib in a python shell</em></a>), but in a script you want to
defer all drawing until the script has executed.  This is especially
important for complex figures that take some time to draw.
<tt class="xref py py-func docutils literal"><span class="pre">show()</span></tt> is designed to tell matplotlib that
you&#8217;re all done issuing commands and you want to draw the figure now.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><tt class="xref py py-func docutils literal"><span class="pre">show()</span></tt> should be called at most once per
script and it should be the last line of your script.  At that
point, the GUI takes control of the interpreter.  If you want to
force a figure draw, use <a class="reference internal" href="../api/pyplot_api.html#matplotlib.pyplot.draw" title="matplotlib.pyplot.draw"><tt class="xref py py-func docutils literal"><span class="pre">draw()</span></tt></a> instead.</p>
</div>
<p>Many users are frustrated by show because they want it to be a
blocking call that raises the figure, pauses the script until the
figure is closed, and then allows the script to continue running until
the next figure is created and the next show is made.  Something like
this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># WARNING : illustrating how NOT to use show</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="c"># make figure i</span>
    <span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>This is not what show does and unfortunately, because doing blocking
calls across user interfaces can be tricky, is currently unsupported,
though we have made some progress towards supporting blocking events.</p>
</div>
</div>
<div class="section" id="contributing-howto">
<span id="howto-contribute"></span><h2>Contributing: howto<a class="headerlink" href="#contributing-howto" title="Permalink to this headline">¶</a></h2>
<div class="section" id="submit-a-patch">
<span id="how-to-submit-patch"></span><h3>Submit a patch<a class="headerlink" href="#submit-a-patch" title="Permalink to this headline">¶</a></h3>
<p>See <a class="reference internal" href="../devel/gitwash/patching.html#making-patches"><em>Making patches</em></a> for information on how to make a patch with git.</p>
<p>If you are posting a patch to fix a code bug, please explain your
patch in words &#8211; what was broken before and how you fixed it.  Also,
even if your patch is particularly simple, just a few lines or a
single function replacement, we encourage people to submit git diffs
against HEAD of the branch they are patching.  It just makes life
simpler for us, since we (fortunately) get a lot of contributions, and
want to receive them in a standard format.  If possible, for any
non-trivial change, please include a complete, free-standing example
that the developers  can run unmodified which shows the undesired
behavior pre-patch and the desired behavior post-patch, with a clear
verbal description of what to look for.  The original developer may
have written the function you are working on years ago, and may no
longer be with the project, so it is quite possible you are the world
expert on the code you are patching and we want to hear as much detail
as you can offer.</p>
<p>When emailing your patch and examples, feel free to paste any code
into the text of the message, indeed we encourage it, but also attach
the patches and examples since many email clients screw up the
formatting of plain text, and we spend lots of needless time trying to
reformat the code to make it usable.</p>
<p>You should check out the guide to developing matplotlib to make sure
your patch abides by our coding conventions
<a class="reference internal" href="../devel/index.html#developers-guide-index"><em>The Matplotlib Developers&#8217; Guide</em></a>.</p>
</div>
<div class="section" id="contribute-to-matplotlib-documentation">
<span id="how-to-contribute-docs"></span><h3>Contribute to matplotlib documentation<a class="headerlink" href="#contribute-to-matplotlib-documentation" title="Permalink to this headline">¶</a></h3>
<p>matplotlib is a big library, which is used in many ways, and the
documentation we have only scratches the surface of everything it can
do.  So far, the place most people have learned all these features are
through studying the examples (<a class="reference internal" href="#how-to-search-examples"><em>Search examples</em></a>), which is a
recommended and great way to learn, but it would be nice to have more
official narrative documentation guiding people through all the dark
corners.  This is where you come in.</p>
<p>There is a good chance you know more about matplotlib usage in some
areas, the stuff you do every day, than many of the core developers
who write most of the documentation.  Just pulled your hair out
compiling matplotlib for windows?  Write a FAQ or a section for the
<a class="reference internal" href="../users/installing.html#installing"><em>Installing</em></a> page.  Are you a digital signal processing wizard?
Write a tutorial on the signal analysis plotting functions like
<a class="reference internal" href="../api/pyplot_api.html#matplotlib.pyplot.xcorr" title="matplotlib.pyplot.xcorr"><tt class="xref py py-func docutils literal"><span class="pre">xcorr()</span></tt></a>, <a class="reference internal" href="../api/pyplot_api.html#matplotlib.pyplot.psd" title="matplotlib.pyplot.psd"><tt class="xref py py-func docutils literal"><span class="pre">psd()</span></tt></a> and
<a class="reference internal" href="../api/pyplot_api.html#matplotlib.pyplot.specgram" title="matplotlib.pyplot.specgram"><tt class="xref py py-func docutils literal"><span class="pre">specgram()</span></tt></a>.  Do you use matplotlib with
<a class="reference external" href="http://www.djangoproject.com/">django</a> or other popular web
application servers?  Write a FAQ or tutorial and we&#8217;ll find a place
for it in the <a class="reference internal" href="../users/index.html#users-guide-index"><em>User&#8217;s Guide</em></a>.  Bundle matplotlib in a
<a class="reference external" href="http://www.py2exe.org/">py2exe</a> app?  ... I think you get the idea.</p>
<p>matplotlib is documented using the <a class="reference external" href="http://sphinx.pocoo.org/index.html">sphinx</a> extensions to restructured text
<a class="reference external" href="http://docutils.sourceforge.net/rst.html">ReST</a>.  sphinx is a
extensible python framework for documentation projects which generates
HTML and PDF, and is pretty easy to write; you can see the source for this
document or any page on this site by clicking on <em>Show Source</em> link
at the end of the page in the sidebar (or <a class="reference external" href="../_sources/faq/howto_faq.txt">here</a> for this document).</p>
<p>The sphinx website is a good resource for learning sphinx, but we have
put together a cheat-sheet at <a class="reference internal" href="../devel/documenting_mpl.html#documenting-matplotlib"><em>Documenting matplotlib</em></a> which
shows you how to get started, and outlines the matplotlib conventions
and extensions, eg for including plots directly from external code in
your documents.</p>
<p>Once your documentation contributions are working (and hopefully
tested by actually <em>building</em> the docs) you can submit them as a patch
against git.  See <a class="reference internal" href="../devel/gitwash/git_install.html#install-git"><em>Install git</em></a> and <a class="reference internal" href="#how-to-submit-patch"><em>Submit a patch</em></a>.
Looking for something to do?  Search for <a class="reference external" href="../search.html?q=todo">TODO</a>.</p>
</div>
</div>
<div class="section" id="matplotlib-in-a-web-application-server">
<span id="howto-webapp"></span><h2>Matplotlib in a web application server<a class="headerlink" href="#matplotlib-in-a-web-application-server" title="Permalink to this headline">¶</a></h2>
<p>Many users report initial problems trying to use maptlotlib in web
application servers, because by default matplotlib ships configured to
work with a graphical user interface which may require an X11
connection.  Since many barebones application servers do not have X11
enabled, you may get errors if you don&#8217;t configure matplotlib for use
in these environments.  Most importantly, you need to decide what
kinds of images you want to generate (PNG, PDF, SVG) and configure the
appropriate default backend.  For 99% of users, this will be the Agg
backend, which uses the C++ <a class="reference external" href="http://antigrain.com">antigrain</a>
rendering engine to make nice PNGs.  The Agg backend is also
configured to recognize requests to generate other output formats
(PDF, PS, EPS, SVG).  The easiest way to configure matplotlib to use
Agg is to call:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># do this before importing pylab or pyplot</span>
<span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s">&#39;Agg&#39;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
</pre></div>
</div>
<p>For more on configuring your backend, see
<a class="reference internal" href="installing_faq.html#what-is-a-backend"><em>What is a backend?</em></a>.</p>
<p>Alternatively, you can avoid pylab/pyplot altogeher, which will give
you a little more control, by calling the API directly as shown in
<a class="reference external" href="http://matplotlib.sf.net/examples/api/agg_oo.py">agg_oo.py</a> .</p>
<p>You can either generate hardcopy on the filesystem by calling savefig:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># do this before importing pylab or pyplot</span>
<span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s">&#39;Agg&#39;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s">&#39;test.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>or by saving to a file handle:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
</pre></div>
</div>
<p>Here is an example using the Python Imaging Library PIL.  First the figure is saved to a StringIO objectm which is then fed to PIL for further processing:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">StringIO</span><span class="o">,</span> <span class="nn">Image</span>
<span class="n">imgdata</span> <span class="o">=</span> <span class="n">StringIO</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">imgdata</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s">&#39;png&#39;</span><span class="p">)</span>
<span class="n">imgdata</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c"># rewind the data</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">imgdata</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="matplotlib-with-apache">
<h3>matplotlib with apache<a class="headerlink" href="#matplotlib-with-apache" title="Permalink to this headline">¶</a></h3>
<p>TODO; see <a class="reference internal" href="#how-to-contribute-docs"><em>Contribute to matplotlib documentation</em></a>.</p>
</div>
<div class="section" id="matplotlib-with-django">
<h3>matplotlib with django<a class="headerlink" href="#matplotlib-with-django" title="Permalink to this headline">¶</a></h3>
<p>TODO; see <a class="reference internal" href="#how-to-contribute-docs"><em>Contribute to matplotlib documentation</em></a>.</p>
</div>
<div class="section" id="matplotlib-with-zope">
<h3>matplotlib with zope<a class="headerlink" href="#matplotlib-with-zope" title="Permalink to this headline">¶</a></h3>
<p>TODO; see <a class="reference internal" href="#how-to-contribute-docs"><em>Contribute to matplotlib documentation</em></a>.</p>
</div>
<div class="section" id="clickable-images-for-html">
<span id="howto-click-maps"></span><h3>Clickable images for HTML<a class="headerlink" href="#clickable-images-for-html" title="Permalink to this headline">¶</a></h3>
<p>Andrew Dalke of <a class="reference external" href="http://www.dalkescientific.com">Dalke Scientific</a>
has written a nice <a class="reference external" href="http://www.dalkescientific.com/writings/diary/archive/2005/04/24/interactive_html.html">article</a>
on how to make html click maps with matplotlib agg PNGs.  We would
also like to add this functionality to SVG and add a SWF backend to
support these kind of images.  If you are interested in contributing
to these efforts that would be great.</p>
</div>
</div>
<div class="section" id="search-examples">
<span id="how-to-search-examples"></span><h2>Search examples<a class="headerlink" href="#search-examples" title="Permalink to this headline">¶</a></h2>
<p>The nearly 300 code <a class="reference internal" href="../examples/index.html#examples-index"><em>Matplotlib Examples</em></a> included with the matplotlib
source distribution are full-text searchable from the <a class="reference internal" href="../search.html"><em>Search Page</em></a>
page, but sometimes when you search, you get a lot of results from the
<a class="reference internal" href="../api/index.html#api-index"><em>The Matplotlib API</em></a> or other documentation that you may not be interested
in if you just want to find a complete, free-standing, working piece
of example code.  To facilitate example searches, we have tagged every
code example page with the keyword <tt class="docutils literal"><span class="pre">codex</span></tt> for <em>code example</em> which
shouldn&#8217;t appear anywhere else on this site except in the FAQ and in
every example.  So if you want to search for an example that uses an
ellipse, <a class="reference internal" href="../search.html"><em>Search Page</em></a> for <tt class="docutils literal"><span class="pre">codex</span> <span class="pre">ellipse</span></tt>.</p>
</div>
<div class="section" id="cite-matplotlib">
<span id="how-to-cite-mpl"></span><h2>Cite Matplotlib<a class="headerlink" href="#cite-matplotlib" title="Permalink to this headline">¶</a></h2>
<p>If you want to refer to matplotlib in a publication, you can use
&#8220;Matplotlib: A 2D Graphics Environment&#8221; by J. D. Hunter In Computing in Science &amp;
Engineering, Vol. 9, No. 3. (2007), pp. 90-95 (see <a class="reference external" href="http://www.citeulike.org/user/jabl/article/2878517">citeulike</a>):</p>
<div class="highlight-python"><pre>@article{Hunter:2007,
        Address = {10662 LOS VAQUEROS CIRCLE, PO BOX 3014, LOS ALAMITOS, CA 90720-1314 USA},
        Author = {Hunter, John D.},
        Date-Added = {2010-09-23 12:22:10 -0700},
        Date-Modified = {2010-09-23 12:22:10 -0700},
        Isi = {000245668100019},
        Isi-Recid = {155389429},
        Journal = {Computing In Science \&amp; Engineering},
        Month = {May-Jun},
        Number = {3},
        Pages = {90--95},
        Publisher = {IEEE COMPUTER SOC},
        Times-Cited = {21},
        Title = {Matplotlib: A 2D graphics environment},
        Type = {Editorial Material},
        Volume = {9},
        Year = {2007},
        Abstract = {Matplotlib is a 2D graphics package used for Python for application
                    development, interactive scripting, and publication-quality image
                    generation across user interfaces and operating systems.},
        Bdsk-Url-1 = {http://gateway.isiknowledge.com/gateway/Gateway.cgi?GWVersion=2&amp;SrcAuth=Alerting&amp;SrcApp=Alerting&amp;DestApp=WOS&amp;DestLinkType=FullRecord;KeyUT=000245668100019}}</pre>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="troubleshooting_faq.html" title="Troubleshooting"
             >next</a> |</li>
        <li class="right" >
          <a href="usage_faq.html" title="Usage"
             >previous</a> |</li>
        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../search.html">search</a>|&nbsp;</li>
        <li><a href="../examples/index.html">examples</a>|&nbsp;</li>
        <li><a href="../gallery.html">gallery</a>|&nbsp;</li>
        <li><a href="../contents.html">docs</a> &raquo;</li>

          <li><a href="index.html" >The Matplotlib FAQ</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008, John Hunter, Darren Dale, Michael Droettboom.
      Last updated on Feb 23, 2011.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>