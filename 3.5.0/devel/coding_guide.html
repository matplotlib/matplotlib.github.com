
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Pull request guidelines &#8212; Matplotlib 3.5.0 documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/style.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mpl.css?v3.5.0-3-gb7c2e55371" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <link rel="canonical" href="https://matplotlib.org/stable/devel/coding_guide.html" />
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 3.5.0 documentation"
          href="../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Release guide" href="release_guide.html" />
    <link rel="prev" title="Two and three dots in difference specs" href="gitwash/dot2_dot3.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <script data-domain="matplotlib.org" defer="defer" src="https://views.scientific-python.org/js/script.js"></script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../index.html">
  <img src="../_static/logo2.svg" class="logo" alt="logo">
</a>      


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        
<ul id="navbar-main-elements" class="navbar-nav">
  <li class="nav-item">
    <a class="reference internal nav-link" href="../plot_types/index.html">Plot types</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../gallery/index.html">Examples</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../tutorials/index.html">Tutorials</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../api/index.html">Reference</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../users/index.html">Usage guide</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="index.html">Develop</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../users/release_notes.html">Release notes</a>
  </li>
</ul>

      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        
      <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://gitter.im/matplotlib/matplotlib" rel="noopener" target="_blank" title="gitter">
            <span><i class="fab fa-gitter"></i></span>
            <label class="sr-only">gitter</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://discourse.matplotlib.org" rel="noopener" target="_blank" title="discourse">
            <span><i class="fab fa-discourse"></i></span>
            <label class="sr-only">discourse</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/matplotlib/matplotlib" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/matplotlib/" rel="noopener" target="_blank" title="twitter">
            <span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">twitter</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="contributing.html">
   Contributing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="triage.html">
   Bug triaging and issue curation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="development_setup.html">
   Setting up Matplotlib for development
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="testing.html">
   Testing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="documenting_mpl.html">
   Writing documentation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="style_guide.html">
   Documentation style guide
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="gitwash/index.html">
   Working with
   <em>
    Matplotlib
   </em>
   source code
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="gitwash/git_intro.html">
     Introduction
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="gitwash/git_install.html">
     Install git
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="gitwash/following_latest.html">
     Following the latest source
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="gitwash/patching.html">
     Making a patch
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="gitwash/git_development.html">
     Git for development
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="gitwash/forking_hell.html">
       Making your own copy (fork) of Matplotlib
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gitwash/set_up_fork.html">
       Set up your fork
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gitwash/configure_git.html">
       Configure git
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gitwash/development_workflow.html">
       Development workflow
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gitwash/maintainer_workflow.html">
       Maintainer workflow
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="gitwash/git_resources.html">
     git resources
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="gitwash/dot2_dot3.html">
     Two and three dots in difference specs
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Pull request guidelines
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="release_guide.html">
   Release guide
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="dependencies.html">
   Dependencies
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="min_dep_policy.html">
   Minimum version of dependencies policy
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="MEP/index.html">
   Matplotlib Enhancement Proposals
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="MEP/template.html">
     MEP Template
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="MEP/MEP08.html">
     MEP8: PEP8
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="MEP/MEP09.html">
     MEP9: Global interaction manager
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="MEP/MEP10.html">
     MEP10: Docstring consistency
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="MEP/MEP11.html">
     MEP11: Third-party dependencies
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="MEP/MEP12.html">
     MEP12: Improve Gallery and Examples
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="MEP/MEP13.html">
     MEP13: Use properties for Artists
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="MEP/MEP14.html">
     MEP14: Text handling
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="MEP/MEP15.html">
     MEP15: Fix axis autoscaling when limits are specified for one axis only
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="MEP/MEP19.html">
     MEP19: Continuous Integration
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="MEP/MEP21.html">
     MEP21: color and cm refactor
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="MEP/MEP22.html">
     MEP22: Toolbar rewrite
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="MEP/MEP23.html">
     MEP23: Multiple Figures per GUI window
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="MEP/MEP24.html">
     MEP24: Negative radius in polar plots
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="MEP/MEP25.html">
     MEP25: Serialization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="MEP/MEP26.html">
     MEP26: Artist styling
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="MEP/MEP27.html">
     MEP27: Decouple pyplot from backends
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="MEP/MEP28.html">
     MEP28: Remove Complexity from Axes.boxplot
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="MEP/MEP29.html">
     MEP29: Text light markup
    </a>
   </li>
  </ul>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="license.html">
   Licenses
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="color_changes.html">
   Default color changes
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary-for-pr-authors">
   Summary for PR authors
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary-for-pr-reviewers">
   Summary for PR reviewers
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#detailed-guidelines">
   Detailed guidelines
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#documentation">
     Documentation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#labels">
     Labels
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#milestones">
     Milestones
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#merging">
     Merging
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#automated-tests">
     Automated tests
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#number-of-commits-and-squashing">
     Number of commits and squashing
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#branches-and-backports">
   Branches and backports
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#current-branches">
     Current branches
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#branch-selection-for-pull-requests">
     Branch selection for pull requests
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#backport-strategy">
     Backport strategy
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#automated-backports">
     Automated backports
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#manual-backports">
     Manual backports
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <style>
.checklist { list-style: none; padding: 0; margin: 0; }
.checklist li { margin-left: 24px; padding-left: 23px;  margin-right: 6px; }
.checklist li:before { content: "\2610\2001"; margin-left: -24px; }
.checklist li p {display: inline; }
</style><section id="pull-request-guidelines">
<span id="pr-guidelines"></span><h1>Pull request guidelines<a class="headerlink" href="#pull-request-guidelines" title="Permalink to this headline">¶</a></h1>
<p>Pull requests (PRs) are the mechanism for contributing to Matplotlibs code and
documentation.</p>
<section id="summary-for-pr-authors">
<h2>Summary for PR authors<a class="headerlink" href="#summary-for-pr-authors" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>We value contributions from people with all levels of experience. In
particular if this is your first PR not everything has to be perfect.
We'll guide you through the PR process.</p></li>
<li><p>Nevertheless, try to follow the guidelines below as well as you can to
help make the PR process quick and smooth.</p></li>
<li><p>Be patient with reviewers. We try our best to respond quickly, but we
have limited bandwidth. If there is no feedback within a couple of days,
please ping us by posting a comment to your PR.</p></li>
</ul>
</div>
<p>When making a PR, pay attention to:</p>
<ul class="checklist">
<li><p><a class="reference internal" href="#pr-branch-selection"><span class="std std-ref">Target the master branch</span></a>.</p></li>
<li><p>Adhere to the <a class="reference internal" href="contributing.html#coding-guidelines"><span class="std std-ref">Coding guidelines</span></a>.</p></li>
<li><p>Update the <a class="reference internal" href="#pr-documentation"><span class="std std-ref">documentation</span></a> if necessary.</p></li>
<li><p>Aim at making the PR as &quot;ready-to-go&quot; as you can. This helps to speed up
the review process.</p></li>
<li><p>It is ok to open incomplete or work-in-progress PRs if you need help or
feedback from the developers. You may mark these as
<a class="reference external" href="https://docs.github.com/en/github/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-pull-requests#draft-pull-requests">draft pull requests</a>
on GitHub.</p></li>
<li><p>When updating your PR, instead of adding new commits to fix something, please
consider amending your initial commit(s) to keep the history clean.
You can achieve this using</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git commit --amend --no-edit
git push <span class="o">[</span>your-remote-repo<span class="o">]</span> <span class="o">[</span>your-branch<span class="o">]</span> --force-with-lease
</pre></div>
</div>
</li>
</ul>
<p>See also <a class="reference internal" href="contributing.html#contributing"><span class="std std-ref">Contributing</span></a> for how to make a PR.</p>
</section>
<section id="summary-for-pr-reviewers">
<h2>Summary for PR reviewers<a class="headerlink" href="#summary-for-pr-reviewers" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>If you have commit rights, then you are trusted to use them.
<strong>Please help review and merge PRs!</strong></p></li>
<li><p>Be patient and <a class="reference external" href="https://youtu.be/tzFWz5fiVKU?t=49m30s">kind</a> with
contributors.</p></li>
</ul>
</div>
<p>Content topics:</p>
<ul class="checklist simple">
<li><p>Is the feature / bugfix reasonable?</p></li>
<li><p>Does the PR conform with the <a class="reference internal" href="contributing.html#coding-guidelines"><span class="std std-ref">Coding guidelines</span></a>?</p></li>
<li><p>Is the <a class="reference internal" href="#pr-documentation"><span class="std std-ref">documentation</span></a> (docstrings, examples,
what's new, API changes) updated?</p></li>
</ul>
<p>Organizational topics:</p>
<ul class="checklist simple">
<li><p>Make sure all <a class="reference internal" href="#pr-automated-tests"><span class="std std-ref">automated tests</span></a> pass.</p></li>
<li><p>The PR should <a class="reference internal" href="#pr-branch-selection"><span class="std std-ref">target the master branch</span></a>.</p></li>
<li><p>Tag with descriptive <a class="reference internal" href="#pr-labels"><span class="std std-ref">labels</span></a>.</p></li>
<li><p>Set the <a class="reference internal" href="#pr-milestones"><span class="std std-ref">milestone</span></a>.</p></li>
<li><p>Keep an eye on the <a class="reference internal" href="#pr-squashing"><span class="std std-ref">number of commits</span></a>.</p></li>
<li><p>Approve if all of the above topics are handled.</p></li>
<li><p><a class="reference internal" href="#pr-merging"><span class="std std-ref">Merge</span></a> if a sufficient number of approvals is reached.</p></li>
</ul>
</section>
<section id="detailed-guidelines">
<span id="pr-guidelines-details"></span><h2>Detailed guidelines<a class="headerlink" href="#detailed-guidelines" title="Permalink to this headline">¶</a></h2>
<section id="documentation">
<span id="pr-documentation"></span><h3>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Every new feature should be documented.  If it's a new module, don't
forget to add a new rst file to the API docs.</p></li>
<li><p>Each high-level plotting function should have a small example in
the <code class="docutils literal notranslate"><span class="pre">Examples</span></code> section of the docstring.  This should be as simple as
possible to demonstrate the method.  More complex examples should go into
a dedicated example file in the <code class="file docutils literal notranslate"><span class="pre">examples</span></code> directory, which will be
rendered to the examples gallery in the documentation.</p></li>
<li><p>Build the docs and make sure all formatting warnings are addressed.</p></li>
<li><p>See <a class="reference internal" href="documenting_mpl.html#documenting-matplotlib"><span class="std std-ref">Writing documentation</span></a> for our documentation style guide.</p></li>
<li><p>If your change is a major new feature, add an entry to
<code class="file docutils literal notranslate"><span class="pre">doc/users/whats_new.rst</span></code>.</p></li>
<li><p>If you change the API in a backward-incompatible way, please
document it by adding a file in the relevant subdirectory of
<code class="file docutils literal notranslate"><span class="pre">doc/api/next_api_changes/</span></code>, probably in the <code class="docutils literal notranslate"><span class="pre">behavior/</span></code>
subdirectory.</p></li>
</ul>
</section>
<section id="labels">
<span id="pr-labels"></span><h3>Labels<a class="headerlink" href="#labels" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>If you have the rights to set labels, tag the PR with descriptive labels.
See the <a class="reference external" href="https://github.com/matplotlib/matplotlib/labels">list of labels</a>.</p></li>
</ul>
</section>
<section id="milestones">
<span id="pr-milestones"></span><h3>Milestones<a class="headerlink" href="#milestones" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Set the milestone according to these rules:</p>
<ul class="simple">
<li><p><em>New features and API changes</em> are milestoned for the next minor release
<code class="docutils literal notranslate"><span class="pre">v3.X.0</span></code>.</p></li>
<li><p><em>Bugfixes and docstring changes</em> are milestoned for the next patch
release <code class="docutils literal notranslate"><span class="pre">v3.X.Y</span></code></p></li>
<li><p><em>Documentation changes</em> (all .rst files and examples) are milestoned
<code class="docutils literal notranslate"><span class="pre">v3.X-doc</span></code></p></li>
</ul>
<p>If multiple rules apply, choose the first matching from the above list.</p>
<p>Setting a milestone does not imply or guarantee that a PR will be merged for that
release, but if it were to be merged what release it would be in.</p>
<p>All of these PRs should target the master branch. The milestone tag triggers
an <a class="reference internal" href="#automated-backports"><span class="std std-ref">automatic backport</span></a> for milestones which have
a corresponding branch.</p>
</li>
</ul>
</section>
<section id="merging">
<span id="pr-merging"></span><h3>Merging<a class="headerlink" href="#merging" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Documentation and examples may be merged by the first reviewer.  Use
the threshold &quot;is this better than it was?&quot; as the review criteria.</p></li>
<li><p>For code changes (anything in <code class="docutils literal notranslate"><span class="pre">src</span></code> or <code class="docutils literal notranslate"><span class="pre">lib</span></code>) at least two
core developers (those with commit rights) should review all pull
requests.  If you are the first to review a PR and approve of the
changes use the GitHub <a class="reference external" href="https://docs.github.com/en/github/collaborating-with-pull-requests/reviewing-changes-in-pull-requests">'approve review'</a>
tool to mark it as such.  If you are a subsequent reviewer please
approve the review and if you think no more review is needed, merge
the PR.</p>
<p>Ensure that all API changes are documented in a file in one of the
subdirectories of <code class="file docutils literal notranslate"><span class="pre">doc/api/next_api_changes</span></code>, and significant new
features have an entry in <code class="file docutils literal notranslate"><span class="pre">doc/user/whats_new</span></code>.</p>
<ul>
<li><p>If a PR already has a positive review, a core developer (e.g. the first
reviewer, but not necessarily) may champion that PR for merging.  In order
to do so, they should ping all core devs both on GitHub and on the dev
mailing list, and label the PR with the &quot;Merge with single review?&quot; label.
Other core devs can then either review the PR and merge or reject it, or
simply request that it gets a second review before being merged.  If no one
asks for such a second review within a week, the PR can then be merged on
the basis of that single review.</p>
<p>A core dev should only champion one PR at a time and we should try to keep
the flow of championed PRs reasonable.</p>
</li>
</ul>
</li>
<li><p>Do not self merge, except for 'small' patches to un-break the CI or
when another reviewer explicitly allows it (ex, &quot;Approve modulo CI
passing, may self merge when green&quot;).</p></li>
</ul>
</section>
<section id="automated-tests">
<span id="pr-automated-tests"></span><h3>Automated tests<a class="headerlink" href="#automated-tests" title="Permalink to this headline">¶</a></h3>
<p>Whenever a pull request is created or updated, various automated test tools
will run on all supported platforms and versions of Python.</p>
<ul class="simple">
<li><p>Make sure the Linting, GitHub Actions, AppVeyor, CircleCI, and Azure
pipelines are passing before merging (All checks are listed at the bottom of
the GitHub page of your pull request). Here are some tips for finding the
cause of the test failure:</p>
<ul>
<li><p>If <em>Linting</em> fails, you have a code style issue, which will be listed
as annotations on the pull request's diff.</p></li>
<li><p>If a GitHub Actions or AppVeyor run fails, search the log for <code class="docutils literal notranslate"><span class="pre">FAILURES</span></code>.
The subsequent section will contain information on the failed tests.</p></li>
<li><p>If CircleCI fails, likely you have some reStructuredText style issue in
the docs. Search the CircleCI log for <code class="docutils literal notranslate"><span class="pre">WARNING</span></code>.</p></li>
<li><p>If Azure pipelines fail with an image comparison error, you can find the
images as <em>artifacts</em> of the Azure job:</p>
<ul>
<li><p>Click <em>Details</em> on the check on the GitHub PR page.</p></li>
<li><p>Click <em>View more details on Azure Pipelines</em> to go to Azure.</p></li>
<li><p>On the overview page <em>artifacts</em> are listed in the section <em>Related</em>.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Codecov and LGTM are currently for information only. Their failure is not
necessarily a blocker.</p></li>
<li><p><a class="reference external" href="https://tox.readthedocs.io/">tox</a> is not used in the automated testing. It is supported for testing
locally.</p>
</li>
<li><p>If you know your changes do not need to be tested (this is very rare!), all
CIs can be skipped for a given commit by including <code class="docutils literal notranslate"><span class="pre">[ci</span> <span class="pre">skip]</span></code> or
<code class="docutils literal notranslate"><span class="pre">[skip</span> <span class="pre">ci]</span></code> in the commit message. If you know only a subset of CIs need
to be run (e.g., if you are changing some block of plain reStructuredText and
want only CircleCI to run to render the result), individual CIs can be
skipped on individual commits as well by using the following substrings
in commit messages:</p>
<ul>
<li><p>GitHub Actions: <code class="docutils literal notranslate"><span class="pre">[skip</span> <span class="pre">actions]</span></code></p></li>
<li><p>AppVeyor: <code class="docutils literal notranslate"><span class="pre">[skip</span> <span class="pre">appveyor]</span></code> (must be in the first line of the commit)</p></li>
<li><p>Azure Pipelines: <code class="docutils literal notranslate"><span class="pre">[skip</span> <span class="pre">azp]</span></code></p></li>
<li><p>CircleCI: <code class="docutils literal notranslate"><span class="pre">[skip</span> <span class="pre">circle]</span></code></p></li>
</ul>
</li>
</ul>
</section>
<section id="number-of-commits-and-squashing">
<span id="pr-squashing"></span><h3>Number of commits and squashing<a class="headerlink" href="#number-of-commits-and-squashing" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Squashing is case-by-case.  The balance is between burden on the
contributor, keeping a relatively clean history, and keeping a
history usable for bisecting.  The only time we are really strict
about it is to eliminate binary files (ex multiple test image
re-generations) and to remove upstream merges.</p></li>
<li><p>Do not let perfect be the enemy of the good, particularly for
documentation or example PRs.  If you find yourself making many
small suggestions, either open a PR against the original branch,
push changes to the contributor branch, or merge the PR and then
open a new PR against upstream.</p></li>
<li><p>If you push to a contributor branch leave a comment explaining what
you did, ex &quot;I took the liberty of pushing a small clean-up PR to
your branch, thanks for your work.&quot;.  If you are going to make
substantial changes to the code or intent of the PR please check
with the contributor first.</p></li>
</ul>
</section>
</section>
<section id="branches-and-backports">
<span id="id1"></span><h2>Branches and backports<a class="headerlink" href="#branches-and-backports" title="Permalink to this headline">¶</a></h2>
<section id="current-branches">
<h3>Current branches<a class="headerlink" href="#current-branches" title="Permalink to this headline">¶</a></h3>
<p>The current active branches are</p>
<dl class="simple">
<dt><em>master</em></dt><dd><p>The current development version. Future minor releases (<em>v3.N.0</em>) will be
branched from this. Supports Python 3.7+.</p>
</dd>
<dt><em>v3.N.x</em></dt><dd><p>Maintenance branch for Matplotlib 3.N. Future patch releases will be
branched from this.  Supports Python 3.6+.</p>
</dd>
<dt><em>v3.N.M-doc</em></dt><dd><p>Documentation for the current release.  On a patch release, this will be
replaced by a properly named branch for the new release.</p>
</dd>
</dl>
</section>
<section id="branch-selection-for-pull-requests">
<span id="pr-branch-selection"></span><h3>Branch selection for pull requests<a class="headerlink" href="#branch-selection-for-pull-requests" title="Permalink to this headline">¶</a></h3>
<p>Generally, all pull requests should target the master branch.</p>
<p>Other branches are fed through <a class="reference internal" href="#automated-backports"><span class="std std-ref">automatic</span></a> or
<a class="reference internal" href="#manual-backports"><span class="std std-ref">manual</span></a>. Directly
targeting other branches is only rarely necessary for special maintenance
work.</p>
</section>
<section id="backport-strategy">
<h3>Backport strategy<a class="headerlink" href="#backport-strategy" title="Permalink to this headline">¶</a></h3>
<p>We will always backport to the patch release branch (<em>v3.N.x</em>):</p>
<ul class="simple">
<li><p>critical bug fixes (segfault, failure to import, things that the
user can not work around)</p></li>
<li><p>fixes for regressions against the last two releases.</p></li>
</ul>
<p>Everything else (regressions against older releases, bugs/api
inconsistencies the user can work around in their code) are on a
case-by-case basis, should be low-risk, and need someone to advocate
for and shepherd through the backport.</p>
<p>The only changes to be backported to the documentation branch (<em>v3.N.M-doc</em>)
are changes to <code class="file docutils literal notranslate"><span class="pre">doc</span></code>, <code class="file docutils literal notranslate"><span class="pre">examples</span></code>, or <code class="file docutils literal notranslate"><span class="pre">tutorials</span></code>.
Any changes to <code class="file docutils literal notranslate"><span class="pre">lib</span></code> or <code class="file docutils literal notranslate"><span class="pre">src</span></code> including docstring-only changes
should not be backported to this branch.</p>
</section>
<section id="automated-backports">
<span id="id2"></span><h3>Automated backports<a class="headerlink" href="#automated-backports" title="Permalink to this headline">¶</a></h3>
<p>We use meeseeksdev bot to automatically backport merges to the correct
maintenance branch base on the milestone.  To work properly the
milestone must be set before merging.  If you have commit rights, the
bot can also be manually triggered after a merge by leaving a message
<code class="docutils literal notranslate"><span class="pre">&#64;meeseeksdev</span> <span class="pre">backport</span> <span class="pre">to</span> <span class="pre">BRANCH</span></code> on the PR.  If there are conflicts
meeseekdevs will inform you that the backport needs to be done
manually.</p>
<p>The target branch is configured by putting <code class="docutils literal notranslate"><span class="pre">on-merge:</span> <span class="pre">backport</span> <span class="pre">to</span>
<span class="pre">TARGETBRANCH</span></code> in the milestone description on it's own line.</p>
<p>If the bot is not working as expected, please report issues to
<a class="reference external" href="https://github.com/MeeseeksBox/MeeseeksDev">Meeseeksdev</a>.</p>
</section>
<section id="manual-backports">
<span id="id3"></span><h3>Manual backports<a class="headerlink" href="#manual-backports" title="Permalink to this headline">¶</a></h3>
<p>When doing backports please copy the form used by meeseekdev,
<code class="docutils literal notranslate"><span class="pre">Backport</span> <span class="pre">PR</span> <span class="pre">#XXXX:</span> <span class="pre">TITLE</span> <span class="pre">OF</span> <span class="pre">PR</span></code>.  If you need to manually resolve
conflicts make note of them and how you resolved them in the commit
message.</p>
<p>We do a backport from master to v2.2.x assuming:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> is a read-only remote branch of the matplotlib/matplotlib repo</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">TARGET_SHA</span></code> is the hash of the merge commit you would like to
backport.  This can be read off of the GitHub PR page (in the UI with
the merge notification) or through the git CLI tools.</p>
<p>Assuming that you already have a local branch <code class="docutils literal notranslate"><span class="pre">v2.2.x</span></code> (if not, then
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">v2.2.x</span></code>), and that your remote pointing to
<code class="docutils literal notranslate"><span class="pre">https://github.com/matplotlib/matplotlib</span></code> is called <code class="docutils literal notranslate"><span class="pre">upstream</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git fetch upstream
git checkout v2.2.x  <span class="c1"># or include -b if you don&#39;t already have this.</span>
git reset --hard upstream/v2.2.x
git cherry-pick -m <span class="m">1</span> TARGET_SHA
<span class="c1"># resolve conflicts and commit if required</span>
</pre></div>
</div>
<p>Files with conflicts can be listed by <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code>,
and will have to be fixed by hand (search on <code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;&gt;&gt;</span></code>).  Once
the conflict is resolved, you will have to re-add the file(s) to the branch
and then continue the cherry pick:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git add lib/matplotlib/conflicted_file.py
git add lib/matplotlib/conflicted_file2.py
git cherry-pick --continue
</pre></div>
</div>
<p>Use your discretion to push directly to upstream or to open a PR; be
sure to push or PR against the <code class="docutils literal notranslate"><span class="pre">v2.2.x</span></code> upstream branch, not <code class="docutils literal notranslate"><span class="pre">master</span></code>!</p>
</section>
</section>
</section>


              </div>
              
              
          </main>
          

      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2002 - 2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the Matplotlib development team; 2012 - 2021 The Matplotlib development team.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.3.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>