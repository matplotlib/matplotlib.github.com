
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<meta content="codex" name="keywords" />

    <title>Text rendering with XeLaTeX/LuaLaTeX via the pgf backend &#8212; Matplotlib 3.7.3 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../../_static/styles/bootstrap.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=796348d33e8b1d947c94" rel="stylesheet">
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v3.7.3-2-gba2e4a91dc" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/style.css?v3.7.3-2-gba2e4a91dc" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v3.7.3-2-gba2e4a91dc" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css?v3.7.3-2-gba2e4a91dc" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v3.7.3-2-gba2e4a91dc" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v3.7.3-2-gba2e4a91dc" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v3.7.3-2-gba2e4a91dc" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v3.7.3-2-gba2e4a91dc" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v3.7.3-2-gba2e4a91dc" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css?v3.7.3-2-gba2e4a91dc" />
    <link rel="stylesheet" type="text/css" href="../../_static/mpl.css?v3.7.3-2-gba2e4a91dc" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94">
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v3.7.3-2-gba2e4a91dc"></script>
    <script src="../../_static/jquery.js?v3.7.3-2-gba2e4a91dc"></script>
    <script src="../../_static/underscore.js?v3.7.3-2-gba2e4a91dc"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v3.7.3-2-gba2e4a91dc"></script>
    <script src="../../_static/doctools.js?v3.7.3-2-gba2e4a91dc"></script>
    <script src="../../_static/sphinx_highlight.js?v3.7.3-2-gba2e4a91dc"></script>
    <script src="../../_static/clipboard.min.js?v3.7.3-2-gba2e4a91dc"></script>
    <script src="../../_static/copybutton.js?v3.7.3-2-gba2e4a91dc"></script>
    <script src="../../_static/design-tabs.js?v3.7.3-2-gba2e4a91dc"></script>
    <script data-domain="matplotlib.org" defer="defer" src="https://views.scientific-python.org/js/script.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tutorials/text/pgf';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://matplotlib.org/devdocs/_static/switcher.json?v3.7.3-2-gba2e4a91dc';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '3.7.3';
        </script>
    <link rel="canonical" href="https://matplotlib.org/stable/tutorials/text/pgf.html" />
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 3.7.3 documentation"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Text rendering with LaTeX" href="usetex.html" />
    <link rel="prev" title="Writing mathematical expressions" href="mathtext.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
   


<a class="navbar-brand logo" href="../../index.html">

  
  
  
  
  
  
  

  
    <img src="../../_static/images/logo2.svg" class="logo__image only-light" alt="Logo image">
    <img src="../../_static/images/logo_dark.svg" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../plot_types/index.html">Plot types</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../gallery/index.html">Examples</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../index.html">Tutorials</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../api/index.html">Reference</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../users/index.html">User guide</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../devel/index.html">Develop</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../users/release_notes.html">Releases</a>
  </li>
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
        <div class="navbar-end-item navbar-persistent--container">
          
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
        </div>
      
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <div class="version-switcher__container dropdown">
    <button type="button" class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle" data-toggle="dropdown">
        stable  <!-- this text may get changed later by javascript -->
        <span class="caret"></span>
    </button>
    <div class="version-switcher__menu dropdown-menu list-group-flush py-0">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
</div>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://gitter.im/matplotlib" title="Gitter" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-gitter"></i></span>
            <label class="sr-only">Gitter</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://discourse.matplotlib.org" title="Discourse" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-discourse"></i></span>
            <label class="sr-only">Discourse</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/matplotlib/matplotlib" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://twitter.com/matplotlib/" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>


  
  
    <div class="navbar-persistent--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
    </div>
  

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../plot_types/index.html">Plot types</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../gallery/index.html">Examples</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../index.html">Tutorials</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../api/index.html">Reference</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../users/index.html">User guide</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../devel/index.html">Develop</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../users/release_notes.html">Releases</a>
  </li>
</ul>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <div class="version-switcher__container dropdown">
    <button type="button" class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle" data-toggle="dropdown">
        stable  <!-- this text may get changed later by javascript -->
        <span class="caret"></span>
    </button>
    <div class="version-switcher__menu dropdown-menu list-group-flush py-0">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
</div>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://gitter.im/matplotlib" title="Gitter" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-gitter"></i></span>
            <label class="sr-only">Gitter</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://discourse.matplotlib.org" title="Discourse" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-discourse"></i></span>
            <label class="sr-only">Discourse</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/matplotlib/matplotlib" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://twitter.com/matplotlib/" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item"><nav class="bd-links" id="bd-docs-nav" aria-label="Section navigation">
  <p class="bd-links__title" role="heading" aria-level="1">
    Section Navigation
  </p>
  <div class="bd-toc-item navbar-nav">
    <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../introductory/index.html">Introductory</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../introductory/quick_start.html">Quick start guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introductory/pyplot.html">Pyplot tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introductory/images.html">Image tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introductory/lifecycle.html">The Lifecycle of a Plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introductory/customizing.html">Customizing Matplotlib with style sheets and rcParams</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introductory/animation_tutorial.html">Animations using Matplotlib</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../intermediate/index.html">Intermediate</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../intermediate/artists.html">Artist tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intermediate/legend_guide.html">Legend guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intermediate/color_cycle.html">Styling with cycler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intermediate/constrainedlayout_guide.html">Constrained Layout Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intermediate/tight_layout_guide.html">Tight Layout guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intermediate/arranging_axes.html">Arranging multiple Axes in a Figure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intermediate/autoscale.html">Autoscaling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intermediate/imshow_extent.html"><em>origin</em> and <em>extent</em> in <code class="xref py py-obj docutils literal notranslate"><span class="pre">imshow</span></code></a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../advanced/index.html">Advanced</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../advanced/blitting.html">Faster rendering by using blitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../advanced/path_tutorial.html">Path Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../advanced/patheffects_guide.html">Path effects guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../advanced/transforms_tutorial.html">Transformations Tutorial</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../colors/index.html">Colors</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../colors/colors.html">Specifying colors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../colors/colorbar_only.html">Customized Colorbars Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../colors/colormap-manipulation.html">Creating Colormaps in Matplotlib</a></li>
<li class="toctree-l2"><a class="reference internal" href="../colors/colormapnorms.html">Colormap Normalization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../colors/colormaps.html">Choosing Colormaps in Matplotlib</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Text</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="text_intro.html">Text in Matplotlib Plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="text_props.html">Text properties and layout</a></li>

<li class="toctree-l2"><a class="reference internal" href="annotations.html">Annotations</a></li>
<li class="toctree-l2"><a class="reference internal" href="mathtext.html">Writing mathematical expressions</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Text rendering with XeLaTeX/LuaLaTeX via the <code class="docutils literal notranslate"><span class="pre">pgf</span></code> backend</a></li>
<li class="toctree-l2"><a class="reference internal" href="usetex.html">Text rendering with LaTeX</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../toolkits/index.html">Toolkits</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../toolkits/axes_grid.html">The axes_grid1 toolkit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../toolkits/axisartist.html">The axisartist toolkit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../toolkits/mplot3d.html">The mplot3d toolkit</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../provisional/index.html">Provisional</a></li>
</ul>

  </div>
</nav>
    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

  
  <div id="rtd-footer-container"></div>

      </div>
      <main id="main-content" class="bd-main">
        
        
        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                
            </div>
            
            
            <article class="bd-article" role="main">
              
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-tutorials-text-pgf-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code</p>
</div>
<section class="sphx-glr-example-title" id="text-rendering-with-xelatex-lualatex-via-the-pgf-backend">
<span id="sphx-glr-tutorials-text-pgf-py"></span><h1>Text rendering with XeLaTeX/LuaLaTeX via the <code class="docutils literal notranslate"><span class="pre">pgf</span></code> backend<a class="headerlink" href="#text-rendering-with-xelatex-lualatex-via-the-pgf-backend" title="Permalink to this heading">#</a></h1>
<p>Using the <code class="docutils literal notranslate"><span class="pre">pgf</span></code> backend, Matplotlib can export figures as pgf drawing
commands that can be processed with pdflatex, xelatex or lualatex. XeLaTeX and
LuaLaTeX have full Unicode support and can use any font that is installed in
the operating system, making use of advanced typographic features of OpenType,
AAT and Graphite. Pgf pictures created by <code class="docutils literal notranslate"><span class="pre">plt.savefig('figure.pgf')</span></code>
can be embedded as raw commands in LaTeX documents. Figures can also be
directly compiled and saved to PDF with <code class="docutils literal notranslate"><span class="pre">plt.savefig('figure.pdf')</span></code> by
switching the backend</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">matplotlib</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;pgf&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>or by explicitly requesting the use of the <code class="docutils literal notranslate"><span class="pre">pgf</span></code> backend</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;figure.pdf&#39;</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="s1">&#39;pgf&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>or by registering it for handling pdf output</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib.backends.backend_pgf</span> <span class="kn">import</span> <span class="n">FigureCanvasPgf</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">backend_bases</span><span class="o">.</span><span class="n">register_backend</span><span class="p">(</span><span class="s1">&#39;pdf&#39;</span><span class="p">,</span> <span class="n">FigureCanvasPgf</span><span class="p">)</span>
</pre></div>
</div>
<p>The last method allows you to keep using regular interactive backends and to
save xelatex, lualatex or pdflatex compiled PDF files from the graphical user
interface.</p>
<p>Matplotlib's pgf support requires a recent <a class="reference external" href="http://www.tug.org">LaTeX</a> installation that includes
the TikZ/PGF packages (such as <a class="reference external" href="http://www.tug.org/texlive/">TeXLive</a>), preferably with XeLaTeX or LuaLaTeX
installed. If either pdftocairo or ghostscript is present on your system,
figures can optionally be saved to PNG images as well. The executables
for all applications must be located on your <span class="target" id="index-0"></span><a class="reference internal" href="../../users/faq/environment_variables_faq.html#envvar-PATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code></a>.</p>
<p><a class="reference internal" href="../../api/matplotlib_configuration_api.html#matplotlib.rcParams" title="matplotlib.rcParams"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rcParams</span></code></a> that control the behavior of the pgf backend:</p>
<blockquote>
<div><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Documentation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>pgf.preamble</p></td>
<td><p>Lines to be included in the LaTeX preamble</p></td>
</tr>
<tr class="row-odd"><td><p>pgf.rcfonts</p></td>
<td><p>Setup fonts from rc params using the fontspec package</p></td>
</tr>
<tr class="row-even"><td><p>pgf.texsystem</p></td>
<td><p>Either &quot;xelatex&quot; (default), &quot;lualatex&quot; or &quot;pdflatex&quot;</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TeX defines a set of special characters, such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># $ % &amp; ~ _ ^ \ { }</span>
</pre></div>
</div>
<p>Generally, these characters must be escaped correctly. For convenience,
some characters (_, ^, %) are automatically escaped outside of math
environments. Other characters are not escaped as they are commonly needed
in actual TeX expressions. However, one can configure TeX to treat them as
&quot;normal&quot; characters (known as &quot;catcode 12&quot; to TeX) via a custom preamble,
such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;pgf.preamble&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="sa">r</span><span class="s2">&quot;\AtBeginDocument{\catcode`\&amp;=12\catcode`\#=12}&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<section id="multi-page-pdf-files">
<span id="pgf-rcfonts"></span><h2>Multi-Page PDF Files<a class="headerlink" href="#multi-page-pdf-files" title="Permalink to this heading">#</a></h2>
<p>The pgf backend also supports multipage pdf files using
<a class="reference internal" href="../../api/backend_pgf_api.html#matplotlib.backends.backend_pgf.PdfPages" title="matplotlib.backends.backend_pgf.PdfPages"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PdfPages</span></code></a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib.backends.backend_pgf</span> <span class="kn">import</span> <span class="n">PdfPages</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="k">with</span> <span class="n">PdfPages</span><span class="p">(</span><span class="s1">&#39;multipage.pdf&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;author&#39;</span><span class="p">:</span> <span class="s1">&#39;Me&#39;</span><span class="p">})</span> <span class="k">as</span> <span class="n">pdf</span><span class="p">:</span>

    <span class="n">fig1</span><span class="p">,</span> <span class="n">ax1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">pdf</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">fig1</span><span class="p">)</span>

    <span class="n">fig2</span><span class="p">,</span> <span class="n">ax2</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">pdf</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">fig2</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="font-specification">
<h2>Font specification<a class="headerlink" href="#font-specification" title="Permalink to this heading">#</a></h2>
<p>The fonts used for obtaining the size of text elements or when compiling
figures to PDF are usually defined in the <a class="reference internal" href="../../api/matplotlib_configuration_api.html#matplotlib.rcParams" title="matplotlib.rcParams"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rcParams</span></code></a>. You can also use the
LaTeX default Computer Modern fonts by clearing the lists for <code class="docutils literal notranslate"><a class="reference internal" href="../introductory/customizing.html?highlight=font.serif#matplotlibrc-sample"><span class="std std-ref"><span class="pre">rcParams[&quot;font.serif&quot;]</span></span></a></code> (default: <code class="docutils literal notranslate"><span class="pre">['DejaVu</span> <span class="pre">Serif',</span> <span class="pre">'Bitstream</span> <span class="pre">Vera</span> <span class="pre">Serif',</span> <span class="pre">'Computer</span> <span class="pre">Modern</span> <span class="pre">Roman',</span> <span class="pre">'New</span> <span class="pre">Century</span> <span class="pre">Schoolbook',</span> <span class="pre">'Century</span> <span class="pre">Schoolbook</span> <span class="pre">L',</span> <span class="pre">'Utopia',</span> <span class="pre">'ITC</span> <span class="pre">Bookman',</span> <span class="pre">'Bookman',</span> <span class="pre">'Nimbus</span> <span class="pre">Roman</span> <span class="pre">No9</span> <span class="pre">L',</span> <span class="pre">'Times</span> <span class="pre">New</span> <span class="pre">Roman',</span> <span class="pre">'Times',</span> <span class="pre">'Palatino',</span> <span class="pre">'Charter',</span> <span class="pre">'serif']</span></code>),
<code class="docutils literal notranslate"><a class="reference internal" href="../introductory/customizing.html?highlight=font.sans-serif#matplotlibrc-sample"><span class="std std-ref"><span class="pre">rcParams[&quot;font.sans-serif&quot;]</span></span></a></code> (default: <code class="docutils literal notranslate"><span class="pre">['DejaVu</span> <span class="pre">Sans',</span> <span class="pre">'Bitstream</span> <span class="pre">Vera</span> <span class="pre">Sans',</span> <span class="pre">'Computer</span> <span class="pre">Modern</span> <span class="pre">Sans</span> <span class="pre">Serif',</span> <span class="pre">'Lucida</span> <span class="pre">Grande',</span> <span class="pre">'Verdana',</span> <span class="pre">'Geneva',</span> <span class="pre">'Lucid',</span> <span class="pre">'Arial',</span> <span class="pre">'Helvetica',</span> <span class="pre">'Avant</span> <span class="pre">Garde',</span> <span class="pre">'sans-serif']</span></code>) or <code class="docutils literal notranslate"><a class="reference internal" href="../introductory/customizing.html?highlight=font.monospace#matplotlibrc-sample"><span class="std std-ref"><span class="pre">rcParams[&quot;font.monospace&quot;]</span></span></a></code> (default: <code class="docutils literal notranslate"><span class="pre">['DejaVu</span> <span class="pre">Sans</span> <span class="pre">Mono',</span> <span class="pre">'Bitstream</span> <span class="pre">Vera</span> <span class="pre">Sans</span> <span class="pre">Mono',</span> <span class="pre">'Computer</span> <span class="pre">Modern</span> <span class="pre">Typewriter',</span> <span class="pre">'Andale</span> <span class="pre">Mono',</span> <span class="pre">'Nimbus</span> <span class="pre">Mono</span> <span class="pre">L',</span> <span class="pre">'Courier</span> <span class="pre">New',</span> <span class="pre">'Courier',</span> <span class="pre">'Fixed',</span> <span class="pre">'Terminal',</span> <span class="pre">'monospace']</span></code>). Please note that the glyph
coverage of these fonts is very limited. If you want to keep the Computer
Modern font face but require extended Unicode support, consider installing the
<a class="reference external" href="https://sourceforge.net/projects/cm-unicode/">Computer Modern Unicode</a> fonts <em>CMU Serif</em>, <em>CMU Sans Serif</em>, etc.</p>
<p>When saving to <code class="docutils literal notranslate"><span class="pre">.pgf</span></code>, the font configuration Matplotlib used for the
layout of the figure is included in the header of the text file.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">=========</span>
<span class="sd">PGF fonts</span>
<span class="sd">=========</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
    <span class="s2">&quot;font.family&quot;</span><span class="p">:</span> <span class="s2">&quot;serif&quot;</span><span class="p">,</span>
    <span class="c1"># Use LaTeX default serif font.</span>
    <span class="s2">&quot;font.serif&quot;</span><span class="p">:</span> <span class="p">[],</span>
    <span class="c1"># Use specific cursive fonts.</span>
    <span class="s2">&quot;font.cursive&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Comic Neue&quot;</span><span class="p">,</span> <span class="s2">&quot;Comic Sans MS&quot;</span><span class="p">],</span>
<span class="p">})</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">4.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">3.</span><span class="p">,</span> <span class="s2">&quot;serif&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="s2">&quot;monospace&quot;</span><span class="p">,</span> <span class="n">family</span><span class="o">=</span><span class="s2">&quot;monospace&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="s2">&quot;sans-serif&quot;</span><span class="p">,</span> <span class="n">family</span><span class="o">=</span><span class="s2">&quot;DejaVu Sans&quot;</span><span class="p">)</span>  <span class="c1"># Use specific sans font.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="s2">&quot;comic&quot;</span><span class="p">,</span> <span class="n">family</span><span class="o">=</span><span class="s2">&quot;cursive&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;µ is not $</span><span class="se">\\</span><span class="s2">mu$&quot;</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">pad</span><span class="o">=</span><span class="mf">.5</span><span class="p">)</span>

</pre></div>
</div>
</section>
<section id="custom-preamble">
<span id="pgf-preamble"></span><h2>Custom preamble<a class="headerlink" href="#custom-preamble" title="Permalink to this heading">#</a></h2>
<p>Full customization is possible by adding your own commands to the preamble.
Use <code class="docutils literal notranslate"><a class="reference internal" href="../introductory/customizing.html?highlight=pgf.preamble#matplotlibrc-sample"><span class="std std-ref"><span class="pre">rcParams[&quot;pgf.preamble&quot;]</span></span></a></code> (default: <code class="docutils literal notranslate"><span class="pre">''</span></code>) if you want to configure the math fonts,
using <code class="docutils literal notranslate"><span class="pre">unicode-math</span></code> for example, or for loading additional packages. Also,
if you want to do the font configuration yourself instead of using the fonts
specified in the rc parameters, make sure to disable <code class="docutils literal notranslate"><a class="reference internal" href="../introductory/customizing.html?highlight=pgf.rcfonts#matplotlibrc-sample"><span class="std std-ref"><span class="pre">rcParams[&quot;pgf.rcfonts&quot;]</span></span></a></code> (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">============</span>
<span class="sd">PGF preamble</span>
<span class="sd">============</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="n">mpl</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s2">&quot;pgf&quot;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
    <span class="s2">&quot;font.family&quot;</span><span class="p">:</span> <span class="s2">&quot;serif&quot;</span><span class="p">,</span>  <span class="c1"># use serif/main font for text elements</span>
    <span class="s2">&quot;text.usetex&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>     <span class="c1"># use inline math for ticks</span>
    <span class="s2">&quot;pgf.rcfonts&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>    <span class="c1"># don&#39;t setup fonts from rc parameters</span>
    <span class="s2">&quot;pgf.preamble&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
         <span class="sa">r</span><span class="s2">&quot;\usepackage</span><span class="si">{url}</span><span class="s2">&quot;</span><span class="p">,</span>            <span class="c1"># load additional packages</span>
         <span class="sa">r</span><span class="s2">&quot;\usepackage{unicode-math}&quot;</span><span class="p">,</span>   <span class="c1"># unicode math setup</span>
         <span class="sa">r</span><span class="s2">&quot;\setmainfont{DejaVu Serif}&quot;</span><span class="p">,</span>  <span class="c1"># serif font via preamble</span>
    <span class="p">])</span>
<span class="p">})</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">4.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;unicode text: я, ψ, €, ü&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\url{https://matplotlib.org}&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s2">&quot;unicode math: $λ=∑_i^∞ μ_i^2$&quot;</span><span class="p">])</span>

<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">pad</span><span class="o">=</span><span class="mf">.5</span><span class="p">)</span>

</pre></div>
</div>
</section>
<section id="choosing-the-tex-system">
<span id="pgf-texsystem"></span><h2>Choosing the TeX system<a class="headerlink" href="#choosing-the-tex-system" title="Permalink to this heading">#</a></h2>
<p>The TeX system to be used by Matplotlib is chosen by <code class="docutils literal notranslate"><a class="reference internal" href="../introductory/customizing.html?highlight=pgf.texsystem#matplotlibrc-sample"><span class="std std-ref"><span class="pre">rcParams[&quot;pgf.texsystem&quot;]</span></span></a></code> (default: <code class="docutils literal notranslate"><span class="pre">'xelatex'</span></code>).
Possible values are <code class="docutils literal notranslate"><span class="pre">'xelatex'</span></code> (default), <code class="docutils literal notranslate"><span class="pre">'lualatex'</span></code> and <code class="docutils literal notranslate"><span class="pre">'pdflatex'</span></code>.
Please note that when selecting pdflatex, the fonts and Unicode handling must
be configured in the preamble.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">=============</span>
<span class="sd">PGF texsystem</span>
<span class="sd">=============</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
    <span class="s2">&quot;pgf.texsystem&quot;</span><span class="p">:</span> <span class="s2">&quot;pdflatex&quot;</span><span class="p">,</span>
    <span class="s2">&quot;pgf.preamble&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
         <span class="sa">r</span><span class="s2">&quot;\usepackage[utf8x]</span><span class="si">{inputenc}</span><span class="s2">&quot;</span><span class="p">,</span>
         <span class="sa">r</span><span class="s2">&quot;\usepackage[T1]</span><span class="si">{fontenc}</span><span class="s2">&quot;</span><span class="p">,</span>
         <span class="sa">r</span><span class="s2">&quot;\usepackage</span><span class="si">{cmbright}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="p">]),</span>
<span class="p">})</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">4.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">3.</span><span class="p">,</span> <span class="s2">&quot;serif&quot;</span><span class="p">,</span> <span class="n">family</span><span class="o">=</span><span class="s2">&quot;serif&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="s2">&quot;monospace&quot;</span><span class="p">,</span> <span class="n">family</span><span class="o">=</span><span class="s2">&quot;monospace&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="s2">&quot;sans-serif&quot;</span><span class="p">,</span> <span class="n">family</span><span class="o">=</span><span class="s2">&quot;sans-serif&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;µ is not $\mu$&quot;</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">pad</span><span class="o">=</span><span class="mf">.5</span><span class="p">)</span>

</pre></div>
</div>
</section>
<section id="troubleshooting">
<span id="pgf-troubleshooting"></span><h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Please note that the TeX packages found in some Linux distributions and
MiKTeX installations are dramatically outdated. Make sure to update your
package catalog and upgrade or install a recent TeX distribution.</p></li>
<li><p>On Windows, the <span class="target" id="index-1"></span><a class="reference internal" href="../../users/faq/environment_variables_faq.html#envvar-PATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code></a> environment variable may need to be modified
to include the directories containing the latex, dvipng and ghostscript
executables. See <a class="reference internal" href="../../users/faq/environment_variables_faq.html#environment-variables"><span class="std std-ref">Environment variables</span></a> and
<a class="reference internal" href="../../users/faq/environment_variables_faq.html#setting-windows-environment-variables"><span class="std std-ref">Setting environment variables in Windows</span></a> for details.</p></li>
<li><p>Sometimes the font rendering in figures that are saved to png images is
very bad. This happens when the pdftocairo tool is not available and
ghostscript is used for the pdf to png conversion.</p></li>
<li><p>Make sure what you are trying to do is possible in a LaTeX document,
that your LaTeX syntax is valid and that you are using raw strings
if necessary to avoid unintended escape sequences.</p></li>
<li><p><code class="docutils literal notranslate"><a class="reference internal" href="../introductory/customizing.html?highlight=pgf.preamble#matplotlibrc-sample"><span class="std std-ref"><span class="pre">rcParams[&quot;pgf.preamble&quot;]</span></span></a></code> (default: <code class="docutils literal notranslate"><span class="pre">''</span></code>) provides lots of flexibility, and lots of
ways to cause problems. When experiencing problems, try to minimalize or
disable the custom preamble.</p></li>
<li><p>Configuring an <code class="docutils literal notranslate"><span class="pre">unicode-math</span></code> environment can be a bit tricky. The
TeXLive distribution for example provides a set of math fonts which are
usually not installed system-wide. XeTeX, unlike LuaLatex, cannot find
these fonts by their name, which is why you might have to specify
<code class="docutils literal notranslate"><span class="pre">\setmathfont{xits-math.otf}</span></code> instead of <code class="docutils literal notranslate"><span class="pre">\setmathfont{XITS</span> <span class="pre">Math}</span></code> or
alternatively make the fonts available to your OS. See this
<a class="reference external" href="https://tex.stackexchange.com/q/43642/">tex.stackexchange.com question</a> for more details.</p>
</li>
<li><p>If the font configuration used by Matplotlib differs from the font setting
in yout LaTeX document, the alignment of text elements in imported figures
may be off. Check the header of your <code class="docutils literal notranslate"><span class="pre">.pgf</span></code> file if you are unsure about
the fonts Matplotlib used for the layout.</p></li>
<li><p>Vector images and hence <code class="docutils literal notranslate"><span class="pre">.pgf</span></code> files can become bloated if there are a lot
of objects in the graph. This can be the case for image processing or very
big scatter graphs.  In an extreme case this can cause TeX to run out of
memory: &quot;TeX capacity exceeded, sorry&quot;  You can configure latex to increase
the amount of memory available to generate the <code class="docutils literal notranslate"><span class="pre">.pdf</span></code> image as discussed on
<a class="reference external" href="https://tex.stackexchange.com/q/7953/">tex.stackexchange.com</a>.
Another way would be to &quot;rasterize&quot; parts of the graph causing problems
using either the <code class="docutils literal notranslate"><span class="pre">rasterized=True</span></code> keyword, or <code class="docutils literal notranslate"><span class="pre">.set_rasterized(True)</span></code> as
per <a class="reference internal" href="../../gallery/misc/rasterization_demo.html"><span class="doc">this example</span></a>.</p></li>
<li><p>Various math fonts are compiled and rendered only if corresponding font
packages are loaded. Specifically, when using <code class="docutils literal notranslate"><span class="pre">\mathbf{}</span></code> on Greek letters,
the default computer modern font may not contain them, in which case the
letter is not rendered. In such scenarios, the <code class="docutils literal notranslate"><span class="pre">lmodern</span></code> package should be
loaded.</p></li>
<li><p>If you still need help, please see <a class="reference internal" href="../../users/faq/troubleshooting_faq.html#reporting-problems"><span class="std std-ref">Getting help</span></a></p></li>
</ul>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-tutorials-text-pgf-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/25d67df24430864089939d66fdd6fb2d/pgf.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">pgf.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/c05cc4ea15a9dca88c942134537c17d0/pgf.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">pgf.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>


            </article>
            
            
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#multi-page-pdf-files">
   Multi-Page PDF Files
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#font-specification">
   Font specification
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#custom-preamble">
   Custom preamble
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#choosing-the-tex-system">
   Choosing the TeX system
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#troubleshooting">
   Troubleshooting
  </a>
 </li>
</ul>

</nav>
</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
          </div>
        </footer>
        
      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94"></script>

  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 2002–2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the Matplotlib development team; 2012–2023 The Matplotlib development team.<br>

</p>

  </div>
  
  <div class="footer-item">
    
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0.<br>
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="sphinx-version">
    Built from v3.7.3-2-gba2e4a91dc.
    <br/>
  </p>

  </div>
  
</div>
  </footer>
  </body>
</html>