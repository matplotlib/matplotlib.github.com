<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>origin and extent in imshow &mdash; Matplotlib 3.0.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/mpl.css"
type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css"
type="text/css" />
    <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 3.0.0 documentation"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html"
/>
    <link rel="search" title="Search" href="../../search.html"
/>
    <link rel="top" title="Matplotlib 3.0.0 documentation" href="../../index.html" />
    <link rel="up" title="Tutorials" href="../index.html" />
    <link rel="next" title="Path Tutorial" href="../advanced/path_tutorial.html" />
    <link rel="prev" title="Tight Layout guide" href="tight_layout_guide.html" />
  <link rel="canonical" href="https://matplotlib.org/stable/tutorials/intermediate/imshow_extent.html" />



  </head>
  <body>
<div id="unreleased-message"> You are reading an old version of the documentation (v3.0.0).  For the latest version see <a href="https://matplotlib.org/stable/tutorials/intermediate/imshow_extent.html">https://matplotlib.org/stable/tutorials/intermediate/imshow_extent.html</a></div>



<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px; position: relative;">
<a href="../../index.html">
    <div style="float: left; position: absolute; width: 496px; bottom: 0; padding-bottom: 24px"><span style="float: right; color: #789; background: white">Version 3.0.0</span></div>
    <img src="../../_static/logo2.png" height="125px" border="0" alt="matplotlib"/></a>

<!-- The "Fork me on github" ribbon -->
<div id="forkongithub"><a href="https://github.com/matplotlib/matplotlib">Fork me on GitHub</a></div>
</div>




    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../advanced/path_tutorial.html" title="Path Tutorial"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tight_layout_guide.html" title="Tight Layout guide"
             accesskey="P">previous</a> |</li>

        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../gallery/index.html">examples</a>|&nbsp;</li>
        <li><a href="../index.html">tutorials</a>|&nbsp;</li>
        <li><a href="../../api/api_overview.html">API</a>|&nbsp;</li>
        <li><a href="../../contents.html">docs</a> &raquo;</li>
          <li><a href="../../users/index.html" >User's Guide</a> &raquo;</li>
          <li><a href="../index.html" accesskey="U">Tutorials</a> &raquo;</li> 
      </ul>
    </div>

  
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><em>origin</em> and <em>extent</em> in <code class="docutils literal notranslate"><span class="pre">imshow</span></code></a><ul>
<li><a class="reference internal" href="#default-extent">Default extent</a></li>
<li><a class="reference internal" href="#explicit-extent">Explicit extent</a></li>
<li><a class="reference internal" href="#explicit-extent-and-axes-limits">Explicit extent and axes limits</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../contents.html">Documentation overview</a><ul>
  <li><a href="../../users/index.html">User's Guide</a><ul>
  <li><a href="../index.html">Tutorials</a><ul>
      <li>Previous: <a href="tight_layout_guide.html" title="previous chapter">Tight Layout guide</a></li>
      <li>Next: <a href="../advanced/path_tutorial.html" title="next chapter">Path Tutorial</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div id="sidebar-pagesource" role="note" aria-label="source link"
    style="margin-top: 1.5em; padding-top: 0.1em; border-top: 1px solid #86989b">
  <a href="../../_sources/tutorials/intermediate/imshow_extent.rst.txt"
     style="color: #c0c0c0" rel="nofollow">Show Page Source</a>
  </div>
        </div>
      </div>
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Click <a class="reference internal" href="#sphx-glr-download-tutorials-intermediate-imshow-extent-py"><span class="std std-ref">here</span></a> to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="origin-and-extent-in-imshow">
<span id="sphx-glr-tutorials-intermediate-imshow-extent-py"></span><h1><em>origin</em> and <em>extent</em> in <a class="reference internal" href="../../api/_as_gen/matplotlib.axes.Axes.imshow.html#matplotlib.axes.Axes.imshow" title="matplotlib.axes.Axes.imshow"><code class="xref py py-obj docutils literal notranslate"><span class="pre">imshow</span></code></a><a class="headerlink" href="#origin-and-extent-in-imshow" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="../../api/_as_gen/matplotlib.axes.Axes.imshow.html#matplotlib.axes.Axes.imshow" title="matplotlib.axes.Axes.imshow"><code class="xref py py-meth docutils literal notranslate"><span class="pre">imshow()</span></code></a> allows you to render an image (either a 2D array
which will be color-mapped (based on <em>norm</em> and <em>cmap</em>) or and 3D RGB(A)
array which will be used as-is) to a rectangular region in dataspace.
The orientation of the image in the final rendering is controlled by
the <em>origin</em> and <em>extent</em> kwargs (and attributes on the resulting
<a class="reference internal" href="../../api/image_api.html#matplotlib.image.AxesImage" title="matplotlib.image.AxesImage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AxesImage</span></code></a> instance) and the data limits of the axes.</p>
<p>The <em>extent</em> kwarg controls the bounding box in data coordinates that
the image will fill specified as <code class="docutils literal notranslate"><span class="pre">(left,</span> <span class="pre">right,</span> <span class="pre">bottom,</span> <span class="pre">top)</span></code> in
<strong>data coordinates</strong>, the <em>origin</em> kwarg controls how the image fills
that bounding box, and the orientation in the final rendered image is
also affected by the axes limits.</p>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p>Most of the code below is used for adding labels and informative
text to the plots. The described effects of <em>origin</em> and <em>extent</em> can be
seen in the plots without the need to follow all code details.</p>
<p class="last">For a quick understanding, you may want to skip the code details below and
directly continue with the discussion of the results.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib.gridspec</span> <span class="kn">import</span> <a href="../../api/_as_gen/matplotlib.gridspec.GridSpec.html#matplotlib.gridspec.GridSpec" title="View documentation for matplotlib.gridspec.GridSpec"><span class="n">GridSpec</span></a>


<span class="k">def</span> <span class="nf">index_to_coordinate</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">extent</span><span class="p">,</span> <span class="n">origin</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the pixel center of an index.&quot;&quot;&quot;</span>
    <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">top</span> <span class="o">=</span> <span class="n">extent</span>

    <span class="n">hshift</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.sign.html#numpy.sign" title="View documentation for numpy.sign"><span class="n">np</span><span class="o">.</span><span class="n">sign</span></a><span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span>
    <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="n">hshift</span><span class="p">,</span> <span class="n">right</span> <span class="o">-</span> <span class="n">hshift</span>
    <span class="n">vshift</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.sign.html#numpy.sign" title="View documentation for numpy.sign"><span class="n">np</span><span class="o">.</span><span class="n">sign</span></a><span class="p">(</span><span class="n">top</span> <span class="o">-</span> <span class="n">bottom</span><span class="p">)</span>
    <span class="n">bottom</span><span class="p">,</span> <span class="n">top</span> <span class="o">=</span> <span class="n">bottom</span> <span class="o">+</span> <span class="n">vshift</span><span class="p">,</span> <span class="n">top</span> <span class="o">-</span> <span class="n">vshift</span>

    <span class="k">if</span> <span class="n">origin</span> <span class="o">==</span> <span class="s1">&#39;upper&#39;</span><span class="p">:</span>
        <span class="n">bottom</span><span class="p">,</span> <span class="n">top</span> <span class="o">=</span> <span class="n">top</span><span class="p">,</span> <span class="n">bottom</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;[0, 0]&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">bottom</span><span class="p">),</span>
        <span class="s2">&quot;[M&#39;, 0]&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">top</span><span class="p">),</span>
        <span class="s2">&quot;[0, N&#39;]&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">),</span>
        <span class="s2">&quot;[M&#39;, N&#39;]&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">right</span><span class="p">,</span> <span class="n">top</span><span class="p">),</span>
    <span class="p">}[</span><span class="n">index</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">get_index_label_pos</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">extent</span><span class="p">,</span> <span class="n">origin</span><span class="p">,</span> <span class="n">inverted_xindex</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return the desired position and horizontal alignment of an index label.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">extent</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">extent</span> <span class="o">=</span> <span class="n">lookup_extent</span><span class="p">(</span><span class="n">origin</span><span class="p">)</span>
    <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">top</span> <span class="o">=</span> <span class="n">extent</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">index_to_coordinate</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">extent</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span>

    <span class="n">is_x0</span> <span class="o">=</span> <span class="n">index</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="o">==</span> <span class="s2">&quot;0]&quot;</span>
    <span class="n">halign</span> <span class="o">=</span> <span class="s1">&#39;left&#39;</span> <span class="k">if</span> <span class="n">is_x0</span> <span class="o">^</span> <span class="n">inverted_xindex</span> <span class="k">else</span> <span class="s1">&#39;right&#39;</span>
    <span class="n">hshift</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.sign.html#numpy.sign" title="View documentation for numpy.sign"><span class="n">np</span><span class="o">.</span><span class="n">sign</span></a><span class="p">(</span><span class="n">left</span> <span class="o">-</span> <span class="n">right</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">+=</span> <span class="n">hshift</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="k">if</span> <span class="n">is_x0</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">halign</span>


<span class="k">def</span> <span class="nf">get_color</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">cmap</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the data color of an index.&quot;&quot;&quot;</span>
    <span class="n">val</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;[0, 0]&quot;</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="s2">&quot;[0, N&#39;]&quot;</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span>
        <span class="s2">&quot;[M&#39;, 0]&quot;</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="s2">&quot;[M&#39;, N&#39;]&quot;</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span>
    <span class="p">}[</span><span class="n">index</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">cmap</span><span class="p">(</span><span class="n">val</span> <span class="o">/</span> <span class="n">data</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>


<span class="k">def</span> <span class="nf">lookup_extent</span><span class="p">(</span><span class="n">origin</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return extent for label positioning when not given explicitly.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">origin</span> <span class="o">==</span> <span class="s1">&#39;lower&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">6.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">5.5</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">6.5</span><span class="p">,</span> <span class="mf">5.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">set_extent_None_text</span><span class="p">(</span><span class="n">ax</span><span class="p">):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="s1">&#39;equals</span><span class="se">\n</span><span class="s1">extent=None&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="s1">&#39;large&#39;</span><span class="p">,</span>
            <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">plot_imshow_with_labels</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">extent</span><span class="p">,</span> <span class="n">origin</span><span class="p">,</span> <span class="n">xlim</span><span class="p">,</span> <span class="n">ylim</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Actually run ``imshow()`` and add extent and index labels.&quot;&quot;&quot;</span>
    <span class="n">im</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="n">origin</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="n">extent</span><span class="p">)</span>

    <span class="c1"># extent labels (left, right, bottom, top)</span>
    <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">top</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">get_extent</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">xlim</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">top</span> <span class="o">&gt;</span> <span class="n">bottom</span><span class="p">:</span>
        <span class="n">upper_string</span><span class="p">,</span> <span class="n">lower_string</span> <span class="o">=</span> <span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="s1">&#39;bottom&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">upper_string</span><span class="p">,</span> <span class="n">lower_string</span> <span class="o">=</span> <span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="s1">&#39;top&#39;</span>
    <span class="k">if</span> <span class="n">ylim</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">:</span>
        <span class="n">port_string</span><span class="p">,</span> <span class="n">starboard_string</span> <span class="o">=</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span>
        <span class="n">inverted_xindex</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">port_string</span><span class="p">,</span> <span class="n">starboard_string</span> <span class="o">=</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span>
        <span class="n">inverted_xindex</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">bbox_kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;fc&#39;</span><span class="p">:</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="o">.</span><span class="mi">75</span><span class="p">,</span> <span class="s1">&#39;boxstyle&#39;</span><span class="p">:</span> <span class="s2">&quot;round4&quot;</span><span class="p">}</span>
    <span class="n">ann_kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;xycoords&#39;</span><span class="p">:</span> <span class="s1">&#39;axes fraction&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;textcoords&#39;</span><span class="p">:</span> <span class="s1">&#39;offset points&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;bbox&#39;</span><span class="p">:</span> <span class="n">bbox_kwargs</span><span class="p">}</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">upper_string</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span>
                <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">ann_kwargs</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">lower_string</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">ann_kwargs</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">port_string</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">),</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>
                <span class="o">**</span><span class="n">ann_kwargs</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">starboard_string</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">),</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=-</span><span class="mi">90</span><span class="p">,</span>
                <span class="o">**</span><span class="n">ann_kwargs</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;origin: {origin}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="n">origin</span><span class="p">))</span>

    <span class="c1"># index labels</span>
    <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;[0, 0]&quot;</span><span class="p">,</span> <span class="s2">&quot;[0, N&#39;]&quot;</span><span class="p">,</span> <span class="s2">&quot;[M&#39;, 0]&quot;</span><span class="p">,</span> <span class="s2">&quot;[M&#39;, N&#39;]&quot;</span><span class="p">]:</span>
        <span class="n">tx</span><span class="p">,</span> <span class="n">ty</span><span class="p">,</span> <span class="n">halign</span> <span class="o">=</span> <span class="n">get_index_label_pos</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">extent</span><span class="p">,</span> <span class="n">origin</span><span class="p">,</span>
                                             <span class="n">inverted_xindex</span><span class="p">)</span>
        <span class="n">facecolor</span> <span class="o">=</span> <span class="n">get_color</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">im</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">())</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">tx</span><span class="p">,</span> <span class="n">ty</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="n">halign</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
                <span class="n">bbox</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;boxstyle&#39;</span><span class="p">:</span> <span class="s1">&#39;square&#39;</span><span class="p">,</span> <span class="s1">&#39;facecolor&#39;</span><span class="p">:</span> <span class="n">facecolor</span><span class="p">})</span>
    <span class="k">if</span> <span class="n">xlim</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">*</span><span class="n">xlim</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ylim</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">*</span><span class="n">ylim</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">generate_imshow_demo_grid</span><span class="p">(</span><span class="n">extents</span><span class="p">,</span> <span class="n">xlim</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="n">N</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">extents</span><span class="p">)</span>
    <span class="n">fig</span> <span class="o">=</span> <a href="../../api/_as_gen/matplotlib.pyplot.figure.html#matplotlib.pyplot.figure" title="View documentation for matplotlib.pyplot.figure"><span class="n">plt</span><span class="o">.</span><span class="n">figure</span></a><span class="p">(</span><span class="n">tight_layout</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">N</span> <span class="o">*</span> <span class="p">(</span><span class="mf">11.25</span><span class="p">)</span> <span class="o">/</span> <span class="mi">5</span><span class="p">)</span>
    <span class="n">gs</span> <span class="o">=</span> <a href="../../api/_as_gen/matplotlib.gridspec.GridSpec.html#matplotlib.gridspec.GridSpec" title="View documentation for matplotlib.gridspec.GridSpec"><span class="n">GridSpec</span></a><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">figure</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span>

    <span class="n">columns</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)],</span>
               <span class="s1">&#39;upper&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">])</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)],</span>
               <span class="s1">&#39;lower&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)]}</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ogrid.html#numpy.ogrid" title="View documentation for numpy.ogrid"><span class="n">np</span><span class="o">.</span><span class="n">ogrid</span></a><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">7</span><span class="p">]</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>

    <span class="k">for</span> <span class="n">origin</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;upper&#39;</span><span class="p">,</span> <span class="s1">&#39;lower&#39;</span><span class="p">]:</span>
        <span class="k">for</span> <span class="n">ax</span><span class="p">,</span> <span class="n">extent</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">columns</span><span class="p">[</span><span class="n">origin</span><span class="p">],</span> <span class="n">extents</span><span class="p">):</span>
            <span class="n">plot_imshow_with_labels</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">extent</span><span class="p">,</span> <span class="n">origin</span><span class="p">,</span> <span class="n">xlim</span><span class="p">,</span> <span class="n">ylim</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">ax</span><span class="p">,</span> <span class="n">extent</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">columns</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">],</span> <span class="n">extents</span><span class="p">):</span>
        <span class="n">text_kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ha&#39;</span><span class="p">:</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;va&#39;</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;xycoords&#39;</span><span class="p">:</span> <span class="s1">&#39;axes fraction&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;xy&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">)}</span>
        <span class="k">if</span> <span class="n">extent</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">text_kwargs</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;extent=&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">top</span> <span class="o">=</span> <span class="n">extent</span>
            <span class="n">text</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;left: {left:0.1f}</span><span class="se">\n</span><span class="s1">right: {right:0.1f}</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span>
                    <span class="s1">&#39;bottom: {bottom:0.1f}</span><span class="se">\n</span><span class="s1">top: {top:0.1f}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="n">left</span><span class="o">=</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="n">bottom</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="n">top</span><span class="p">)</span>

            <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="o">**</span><span class="n">text_kwargs</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">columns</span>
</pre></div>
</div>
<div class="section" id="default-extent">
<h2>Default extent<a class="headerlink" href="#default-extent" title="Permalink to this headline">¶</a></h2>
<p>First, let's have a look at the default <code class="xref py py-obj docutils literal notranslate"><span class="pre">extent=None</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">generate_imshow_demo_grid</span><span class="p">(</span><span class="n">extents</span><span class="o">=</span><span class="p">[</span><span class="bp">None</span><span class="p">])</span>
</pre></div>
</div>
<img alt="../../_images/sphx_glr_imshow_extent_001.png" class="sphx-glr-single-img" src="../../_images/sphx_glr_imshow_extent_001.png" />
<p>Generally, for an array of shape (M, N), the first index runs along the
vertical, the second index runs along the horizontal.
The pixel centers are at integer positions ranging from 0 to <code class="docutils literal notranslate"><span class="pre">N'</span> <span class="pre">=</span> <span class="pre">N</span> <span class="pre">-</span> <span class="pre">1</span></code>
horizontally and from 0 to <code class="docutils literal notranslate"><span class="pre">M'</span> <span class="pre">=</span> <span class="pre">M</span> <span class="pre">-</span> <span class="pre">1</span></code> vertically.
<em>origin</em> determines how to the data is filled in the bounding box.</p>
<p>For <code class="docutils literal notranslate"><span class="pre">origin='lower'</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li>[0, 0] is at (left, bottom)</li>
<li>[M', 0] is at (left, top)</li>
<li>[0, N'] is at (right, bottom)</li>
<li>[M', N'] is at (right, top)</li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">origin='upper'</span></code> reverses the vertical axes direction and filling:</p>
<blockquote>
<div><ul class="simple">
<li>[0, 0] is at (left, top)</li>
<li>[M', 0] is at (left, bottom)</li>
<li>[0, N'] is at (right, top)</li>
<li>[M', N'] is at (right, bottom)</li>
</ul>
</div></blockquote>
<p>In summary, the position of the [0, 0] index as well as the extent are
influenced by <em>origin</em>:</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="24%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">origin</th>
<th class="head">[0, 0] position</th>
<th class="head">extent</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>upper</td>
<td>top left</td>
<td><code class="docutils literal notranslate"><span class="pre">(-0.5,</span> <span class="pre">numcols-0.5,</span> <span class="pre">numrows-0.5,</span> <span class="pre">-0.5)</span></code></td>
</tr>
<tr class="row-odd"><td>lower</td>
<td>bottom left</td>
<td><code class="docutils literal notranslate"><span class="pre">(-0.5,</span> <span class="pre">numcols-0.5,</span> <span class="pre">-0.5,</span> <span class="pre">numrows-0.5)</span></code></td>
</tr>
</tbody>
</table>
<p>The default value of <em>origin</em> is set by <code class="docutils literal notranslate"><a class="reference external" href="../../tutorials/introductory/customizing.html#matplotlib-rcparams"><span class="pre">rcParams[&quot;image.origin&quot;]</span></a></code> which defaults
to <code class="docutils literal notranslate"><span class="pre">'upper'</span></code> to match the matrix indexing conventions in math and
computer graphics image indexing conventions.</p>
</div>
<div class="section" id="explicit-extent">
<h2>Explicit extent<a class="headerlink" href="#explicit-extent" title="Permalink to this headline">¶</a></h2>
<p>By setting <em>extent</em> we define the coordinates of the image area. The
underlying image data is interpolated/resampled to fill that area.</p>
<p>If the axes is set to autoscale, then the view limits of the axes are set
to match the <em>extent</em> which ensures that the coordinate set by
<code class="docutils literal notranslate"><span class="pre">(left,</span> <span class="pre">bottom)</span></code> is at the bottom left of the axes!  However, this
may invert the axis so they do not increase in the 'natural' direction.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">extents</span> <span class="o">=</span> <span class="p">[(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">6.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">5.5</span><span class="p">),</span>
           <span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">6.5</span><span class="p">,</span> <span class="mf">5.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">),</span>
           <span class="p">(</span><span class="mf">6.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">5.5</span><span class="p">),</span>
           <span class="p">(</span><span class="mf">6.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">5.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">)]</span>

<span class="n">columns</span> <span class="o">=</span> <span class="n">generate_imshow_demo_grid</span><span class="p">(</span><span class="n">extents</span><span class="p">)</span>
<span class="n">set_extent_None_text</span><span class="p">(</span><span class="n">columns</span><span class="p">[</span><span class="s1">&#39;upper&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
<span class="n">set_extent_None_text</span><span class="p">(</span><span class="n">columns</span><span class="p">[</span><span class="s1">&#39;lower&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<img alt="../../_images/sphx_glr_imshow_extent_002.png" class="sphx-glr-single-img" src="../../_images/sphx_glr_imshow_extent_002.png" />
</div>
<div class="section" id="explicit-extent-and-axes-limits">
<h2>Explicit extent and axes limits<a class="headerlink" href="#explicit-extent-and-axes-limits" title="Permalink to this headline">¶</a></h2>
<p>If we fix the axes limits by explicitly setting <code class="xref py py-obj docutils literal notranslate"><span class="pre">set_xlim</span></code> / <code class="xref py py-obj docutils literal notranslate"><span class="pre">set_ylim</span></code>, we
force a certain size and orientation of the axes.
This can decouple the 'left-right' and 'top-bottom' sense of the image from
the orientation on the screen.</p>
<p>In the example below we have chosen the limits slightly larger than the
extent (note the white areas within the Axes).</p>
<p>While we keep the extents as in the examples before, the coordinate (0, 0)
is now explicitly put at the bottom left and values increase to up and to
the right (from the viewer point of view).
We can see that:</p>
<ul class="simple">
<li>The coordinate <code class="docutils literal notranslate"><span class="pre">(left,</span> <span class="pre">bottom)</span></code> anchors the image which then fills the
box going towards the <code class="docutils literal notranslate"><span class="pre">(right,</span> <span class="pre">top)</span></code> point in data space.</li>
<li>The first column is always closest to the 'left'.</li>
<li><em>origin</em> controls if the first row is closest to 'top' or 'bottom'.</li>
<li>The image may be inverted along either direction.</li>
<li>The 'left-right' and 'top-bottom' sense of the image may be uncoupled from
the orientation on the screen.</li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">generate_imshow_demo_grid</span><span class="p">(</span><span class="n">extents</span><span class="o">=</span><span class="p">[</span><span class="bp">None</span><span class="p">]</span> <span class="o">+</span> <span class="n">extents</span><span class="p">,</span>
                          <span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
</pre></div>
</div>
<img alt="../../_images/sphx_glr_imshow_extent_003.png" class="sphx-glr-single-img" src="../../_images/sphx_glr_imshow_extent_003.png" />
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-tutorials-intermediate-imshow-extent-py">
<div class="sphx-glr-download docutils container">
<a class="reference download internal" href="../../_downloads/imshow_extent.py" download=""><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">imshow_extent.py</span></code></a></div>
<div class="sphx-glr-download docutils container">
<a class="reference download internal" href="../../_downloads/imshow_extent.ipynb" download=""><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">imshow_extent.ipynb</span></code></a></div>
</div>
<p class="sphx-glr-signature">Keywords: matplotlib code example, codex, python plot, pyplot
<a class="reference external" href="https://sphinx-gallery.readthedocs.io">Gallery generated by Sphinx-Gallery</a></p>
</div>
</div>


          </div>
        </div>
      </div>

      <div class="clearer"></div>
    </div>
    <div class="footer">
        &copy; Copyright 2002 - 2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the Matplotlib development team; 2012 - 2018 The Matplotlib development team.
        <br />
      Last updated on Sep 21, 2018.
	Created using
	<a href="http://sphinx-doc.org/">Sphinx</a> 1.7.9.
	Doc version v3.0.0-12-gea132530f.
    </div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55954603-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
<footer>
</footer>
</html>